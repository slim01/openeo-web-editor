(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2b644eba"],{"0417":function(t,e,i){"use strict";var o=i("c2d3"),n=i("35a7"),r=i("3900"),s=i("480c"),a=i("3e6b"),c=i("97e6"),h=i("c810"),l=i("4787"),u=i("0af5"),p=i("6f9e"),d=function(t){t=t||{};var e,i=this;this.dcount=0,this.show_progress=t.show_progress,this.oninfo="function"==typeof t.oninfo?t.oninfo:null,this.onextent="function"==typeof t.onextent?t.onextent:null,this.hasextent=t.extent||t.onextent,this.hastrash=t.trash,this.reordering=!1!==t.reordering,this._layers=[],"function"===typeof t.displayInLayerSwitcher&&(this.displayInLayerSwitcher=t.displayInLayerSwitcher),t.target?e=p["a"].create("DIV",{className:t.switcherClass||"ol-layerswitcher"}):(e=p["a"].create("DIV",{className:(t.switcherClass||"ol-layerswitcher")+" ol-unselectable ol-control"}),!1!==t.collapsed?e.classList.add("ol-collapsed"):e.classList.add("ol-forceopen"),this.button=p["a"].create("BUTTON",{type:"button",parent:e}),this.button.addEventListener("touchstart",function(t){e.classList.toggle("ol-collapsed"),i.dispatchEvent({type:"toggle",collapsed:e.classList.contains("ol-collapsed")}),t.preventDefault(),i.overflow()}),this.button.addEventListener("click",function(){e.classList.toggle("ol-forceopen"),e.classList.add("ol-collapsed"),i.dispatchEvent({type:"toggle",collapsed:!e.classList.contains("ol-forceopen")}),i.overflow()}),t.mouseover&&(e.addEventListener("mouseleave",function(){e.classList.add("ol-collapsed"),i.dispatchEvent({type:"toggle",collapsed:!0})}),e.addEventListener("mouseover",function(){e.classList.remove("ol-collapsed"),i.dispatchEvent({type:"toggle",collapsed:!1})})),this.topv=p["a"].create("DIV",{className:"ol-switchertopdiv",parent:e,click:function(){i.overflow("+50%")}}),this.botv=p["a"].create("DIV",{className:"ol-switcherbottomdiv",parent:e,click:function(){i.overflow("-50%")}})),this.panel_=p["a"].create("UL",{className:"panel",parent:e}),p["a"].addListener(this.panel_,"mousewheel DOMMouseScroll onmousewheel",function(t){i.overflow(Math.max(-1,Math.min(1,t.wheelDelta||-t.detail)))&&(t.stopPropagation(),t.preventDefault())}),this.header_=p["a"].create("LI",{className:"ol-header",parent:this.panel_}),r["a"].call(this,{element:e,target:t.target}),this.set("drawDelay",t.drawDelay||0)};Object(o["a"])(d,r["a"]),d.prototype.tip={up:"up/down",down:"down",info:"informations...",extent:"zoom to extent",trash:"remove layer",plus:"expand/shrink"},d.prototype.displayInLayerSwitcher=function(t){return!1!==t.get("displayInLayerSwitcher")},d.prototype.setMap=function(t){r["a"].prototype.setMap.call(this,t),this.drawPanel(),this._listener&&(this._listener&&Object(n["b"])(this._listener.change),this._listener&&Object(n["b"])(this._listener.moveend),this._listener&&Object(n["b"])(this._listener.size)),this._listener=null,t&&(this._listener={change:t.getLayerGroup().on("change",this.drawPanel.bind(this)),moveend:t.on("moveend",this.viewChange.bind(this)),size:t.on("change:size",this.overflow.bind(this))})},d.prototype.show=function(){this.element.classList.add("ol-forceopen"),this.overflow()},d.prototype.hide=function(){this.element.classList.remove("ol-forceopen"),this.overflow()},d.prototype.toggle=function(){this.element.classList.toggle("ol-forceopen"),this.overflow()},d.prototype.isOpen=function(){return this.element.classList.contains("ol-forceopen")},d.prototype.setHeader=function(t){p["a"].setHTML(this.header_,t)},d.prototype.overflow=function(t){if(this.button){if(p["a"].hidden(this.panel_))return void p["a"].setStyle(this.element,{height:"auto"});var e=p["a"].outerHeight(this.element),i=p["a"].outerHeight(this.panel_),o=this.button.offsetTop+p["a"].outerHeight(this.button),n=this.panel_.offsetTop-o;if(i>e-o){p["a"].setStyle(this.element,{height:"100%"});var r=2*p["a"].getStyle(this.panel_.querySelectorAll("li.visible .li-content")[0],"height");switch(t){case 1:n+=r;break;case-1:n-=r;break;case"+50%":n+=Math.round(e/2);break;case"-50%":n-=Math.round(e/2);break;default:break}return n+i<=e-3*o/2?(n=e-3*o/2-i,p["a"].hide(this.botv)):p["a"].show(this.botv),n>=0?(n=0,p["a"].hide(this.topv)):p["a"].show(this.topv),p["a"].setStyle(this.panel_,{top:n+"px"}),!0}return p["a"].setStyle(this.element,{height:"auto"}),p["a"].setStyle(this.panel_,{top:0}),p["a"].hide(this.botv),p["a"].hide(this.topv),!1}return!1},d.prototype._setLayerForLI=function(t,e){this._layers.push({li:t,layer:e})},d.prototype._getLayerForLI=function(t){for(var e,i=0;e=this._layers[i];i++)if(e.li===t)return e.layer;return null},d.prototype.viewChange=function(){this.getMap();this.panel_.querySelectorAll("li").forEach(function(t){var e=this._getLayerForLI(t);e&&(this.testLayerVisibility(e)?t.classList.remove("ol-layer-hidden"):t.classList.add("ol-layer-hidden"))}.bind(this))},d.prototype.drawPanel=function(){if(this.getMap()){var t=this;this.dcount++,setTimeout(function(){t.drawPanel_()},this.get("drawDelay")||0)}},d.prototype.drawPanel_=function(){--this.dcount||this.dragging_||(this._layers=[],this.panel_.querySelectorAll("li").forEach(function(t){t.classList.contains("ol-header")||t.remove()}.bind(this)),this.drawList(this.panel_,this.getMap().getLayers()))},d.prototype.switchLayerVisibility=function(t,e){t.get("baseLayer")?(t.getVisible()||t.setVisible(!0),e.forEach(function(e){t!==e&&e.get("baseLayer")&&e.getVisible()&&e.setVisible(!1)})):t.setVisible(!t.getVisible())},d.prototype.testLayerVisibility=function(t){if(!this.getMap())return!0;var e=this.getMap().getView().getResolution();if(t.getMaxResolution()<=e||t.getMinResolution()>=e)return!1;var i=t.getExtent();if(i){var o=this.getMap().getView().calculateExtent(this.getMap().getSize());return Object(u["F"])(o,i)}return!0},d.prototype.dragOrdering_=function(t){t.stopPropagation(),t.preventDefault();var e,i,o,n,r,s=this,a=t.currentTarget.parentNode.parentNode,c=!0,h=this.panel_,l=t.pageY||t.touches&&t.touches.length&&t.touches[0].pageY||t.changedTouches&&t.changedTouches.length&&t.changedTouches[0].pageY;function u(){if(i){var t=n;if(t&&i){var e;e=r?r.getLayers():s.getMap().getLayers();for(var c=e.getArray(),h=0;h<c.length;h++)if(c[h]==t){e.removeAt(h);break}for(var l=0;l<c.length;l++)if(c[l]==i){h>l?e.insertAt(l,t):e.insertAt(l+1,t);break}}}a.parentNode.querySelectorAll("li").forEach(function(t){t.classList.remove("dropover"),t.classList.remove("dropover-after"),t.classList.remove("dropover-before")}),a.classList.remove("drag"),a.parentNode.classList.remove("drag"),s.element.classList.remove("drag"),o&&o.remove(),p["a"].removeListener(document,"mousemove touchmove",d),p["a"].removeListener(document,"mouseup touchend touchcancel",u)}function d(t){if(e=t.pageY||t.touches&&t.touches.length&&t.touches[0].pageY||t.changedTouches&&t.changedTouches.length&&t.changedTouches[0].pageY,c&&Math.abs(l-e)>2&&(c=!1,a.classList.add("drag"),n=s._getLayerForLI(a),i=!1,r=s._getLayerForLI(a.parentNode.parentNode),o=p["a"].create("LI",{className:"ol-dragover",html:a.innerHTML,style:{position:"absolute","z-index":1e4,left:a.offsetLeft,opacity:.5,width:p["a"].outerWidth(a),height:p["a"].getStyle(a,"height")},parent:h}),s.element.classList.add("drag")),!c){var u;t.preventDefault(),t.stopPropagation(),p["a"].setStyle(o,{top:e-p["a"].offsetRect(h).top+h.scrollTop+5}),u=t.touches?document.elementFromPoint(t.touches[0].clientX,t.touches[0].clientY):t.target,u.classList.contains("ol-switcherbottomdiv")?s.overflow(-1):u.classList.contains("ol-switchertopdiv")&&s.overflow(1);while(u&&"LI"!==u.tagName)u=u.parentNode;u&&u.classList.contains("dropover")||a.parentNode.querySelectorAll("li").forEach(function(t){t.classList.remove("dropover"),t.classList.remove("dropover-after"),t.classList.remove("dropover-before")}),u&&u.parentNode.classList.contains("drag")&&u!==a?(i=s._getLayerForLI(u),i&&!i.get("allwaysOnTop")==!n.get("allwaysOnTop")?(u.classList.add("dropover"),u.classList.add(a.offsetTop<u.offsetTop?"dropover-after":"dropover-before")):i=!1,p["a"].show(o)):(i=!1,u===a?p["a"].hide(o):p["a"].show(o)),i?o.classList.remove("forbidden"):o.classList.add("forbidden")}}a.parentNode.classList.add("drag"),p["a"].addListener(document,"mousemove touchmove",d),p["a"].addListener(document,"mouseup touchend touchcancel",u)},d.prototype.dragOpacity_=function(t){t.stopPropagation(),t.preventDefault();var e=this,i=t.target,o=this._getLayerForLI(i.parentNode.parentNode.parentNode);if(o){var n=t.pageX||t.touches&&t.touches.length&&t.touches[0].pageX||t.changedTouches&&t.changedTouches.length&&t.changedTouches[0].pageX,r=p["a"].getStyle(i,"left")-n;e.dragging_=!0,p["a"].addListener(document,"mouseup touchend touchcancel",s),p["a"].addListener(document,"mousemove touchmove",a)}function s(){p["a"].removeListener(document,"mouseup touchend touchcancel",s),p["a"].removeListener(document,"mousemove touchmove",a),e.dragging_=!1}function a(t){var e=t.pageX||t.touches&&t.touches.length&&t.touches[0].pageX||t.changedTouches&&t.changedTouches.length&&t.changedTouches[0].pageX,n=(r+e)/p["a"].getStyle(i.parentNode,"width"),s=Math.max(0,Math.min(1,n));p["a"].setStyle(i,{left:100*s+"%"}),i.parentNode.nextElementSibling.innerHTML=Math.round(100*s),o.setOpacity(s)}},d.prototype.drawList=function(t,e){var i=this,o=e.getArray(),n=function(t){t.stopPropagation(),t.preventDefault();var o=i._getLayerForLI(this.parentNode.parentNode);i.switchLayerVisibility(o,e)};function r(t){t.stopPropagation(),t.preventDefault();var e=i._getLayerForLI(this.parentNode.parentNode);i.oninfo(e),i.dispatchEvent({type:"info",layer:e})}function u(t){t.stopPropagation(),t.preventDefault();var e=i._getLayerForLI(this.parentNode.parentNode);i.onextent?i.onextent(e):i.getMap().getView().fit(e.getExtent(),i.getMap().getSize()),i.dispatchEvent({type:"extent",layer:e})}function d(t){t.stopPropagation(),t.preventDefault();var e,o=this.parentNode.parentNode.parentNode.parentNode,n=i._getLayerForLI(o);n?(e=i._getLayerForLI(this.parentNode.parentNode),n.getLayers().remove(e),0!=n.getLayers().getLength()||n.get("noSwitcherDelete")||d.call(o.querySelectorAll(".layerTrash")[0],t)):(o=this.parentNode.parentNode,i.getMap().removeLayer(i._getLayerForLI(o)))}for(var g=o.length-1;g>=0;g--){var f=o[g];if(i.displayInLayerSwitcher(f)){var y=p["a"].create("LI",{className:(f.getVisible()?"visible ":" ")+(f.get("baseLayer")?"baselayer":""),parent:t});this._setLayerForLI(y,f);var _=p["a"].create("DIV",{className:"ol-layerswitcher-buttons",parent:y}),v=p["a"].create("DIV",{className:"li-content",parent:y});if(p["a"].create("INPUT",{type:f.get("baseLayer")?"radio":"checkbox",checked:f.getVisible(),click:n,parent:v}),p["a"].create("LABEL",{html:f.get("title")||f.get("name"),title:f.get("title")||f.get("name"),click:n,unselectable:"on",style:{userSelect:"none"},parent:v}).addEventListener("selectstart",function(){return!1}),this.reordering&&(g<o.length-1&&(f.get("allwaysOnTop")||!o[g+1].get("allwaysOnTop"))||g>0&&(!f.get("allwaysOnTop")||o[g-1].get("allwaysOnTop")))&&p["a"].create("DIV",{className:"layerup",title:this.tip.up,on:{"mousedown touchstart":function(t){i.dragOrdering_(t)}},parent:_}),f.getLayers){var m=0;f.getLayers().forEach(function(t){i.displayInLayerSwitcher(t)&&m++}),m&&p["a"].create("DIV",{className:f.get("openInLayerSwitcher")?"collapse-layers":"expend-layers",title:this.tip.plus,click:function(){var t=i._getLayerForLI(this.parentNode.parentNode);t.set("openInLayerSwitcher",!t.get("openInLayerSwitcher"))},parent:_})}if(this.oninfo&&p["a"].create("DIV",{className:"layerInfo",title:this.tip.info,click:r,parent:_}),this.hastrash&&!f.get("noSwitcherDelete")&&p["a"].create("DIV",{className:"layerTrash",title:this.tip.trash,click:d,parent:_}),this.hasextent&&o[g].getExtent()){var b=o[g].getExtent();4==b.length&&b[0]<b[2]&&b[1]<b[3]&&p["a"].create("DIV",{className:"layerExtent",title:this.tip.extent,click:u,parent:_})}if(this.show_progress&&f instanceof s["a"]){var w=p["a"].create("DIV",{className:"layerswitcher-progress",parent:v});this.setprogress_(f),f.layerswitcher_progress=p["a"].create("DIV",{parent:w})}var E=p["a"].create("DIV",{className:"layerswitcher-opacity",click:function(t){if(t.target===this){t.stopPropagation(),t.preventDefault();var e=Math.max(0,Math.min(1,t.offsetX/p["a"].getStyle(this,"width")));i._getLayerForLI(this.parentNode.parentNode).setOpacity(e)}},parent:v});if(p["a"].create("DIV",{className:"layerswitcher-opacity-cursor",style:{left:100*f.getOpacity()+"%"},on:{"mousedown touchstart":function(t){i.dragOpacity_(t)}},parent:E}),p["a"].create("DIV",{className:"layerswitcher-opacity-label",html:Math.round(100*f.getOpacity()),parent:v}),f.getLayers){if(y.classList.add("ol-layer-group"),!0===f.get("openInLayerSwitcher")){var L=p["a"].create("UL",{parent:y});this.drawList(L,f.getLayers())}}else f instanceof a["a"]?y.classList.add("ol-layer-vector"):f instanceof c["a"]?y.classList.add("ol-layer-vector"):f instanceof s["a"]?y.classList.add("ol-layer-tile"):f instanceof h["a"]?y.classList.add("ol-layer-image"):f instanceof l["a"]&&y.classList.add("ol-layer-heatmap");this.dispatchEvent({type:"drawlist",layer:f,li:y})}}this.viewChange(),t===this.panel_&&this.overflow()},d.prototype.setprogress_=function(t){if(!t.layerswitcher_progress){var e=0,i=0,o=function(){i===e?(i=e=0,p["a"].setStyle(t.layerswitcher_progress,{width:0})):p["a"].setStyle(t.layerswitcher_progress,{width:(e/i*100).toFixed(1)+"%"})};t.getSource().on("tileloadstart",function(){i++,o()}),t.getSource().on("tileloadend",function(){e++,o()}),t.getSource().on("tileloaderror",function(){e++,o()})}},e["a"]=d},"0b2d":function(t,e,i){"use strict";var o=i("01d4");e["a"]={SINGLECLICK:"singleclick",CLICK:o["a"].CLICK,DBLCLICK:o["a"].DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}},1399:function(t,e,i){},"159a":function(t,e,i){},"183a":function(t,e,i){"use strict";e["a"]={ADD:"add",REMOVE:"remove"}},"25c1":function(t,e,i){"use strict";var o=function(t,e,i){this.decay_=t,this.minVelocity_=e,this.delay_=i,this.points_=[],this.angle_=0,this.initialVelocity_=0};o.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},o.prototype.update=function(t,e){this.points_.push(t,e,Date.now())},o.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;var i=e-3;while(i>0&&this.points_[i+2]>t)i-=3;var o=this.points_[e+2]-this.points_[i+2];if(o<1e3/60)return!1;var n=this.points_[e]-this.points_[i],r=this.points_[e+1]-this.points_[i+1];return this.angle_=Math.atan2(r,n),this.initialVelocity_=Math.sqrt(n*n+r*r)/o,this.initialVelocity_>this.minVelocity_},o.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},o.prototype.getAngle=function(){return this.angle_},e["a"]=o},"35a7":function(t,e,i){"use strict";i.d(e,"b",function(){return a});var o=i("1e8d"),n=i("0ec0"),r=i("01d4"),s=function(t){function e(){t.call(this),this.revision_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.changed=function(){++this.revision_,this.dispatchEvent(r["a"].CHANGE)},e.prototype.getRevision=function(){return this.revision_},e.prototype.on=function(t,e){if(Array.isArray(t)){for(var i=t.length,n=new Array(i),r=0;r<i;++r)n[r]=Object(o["a"])(this,t[r],e);return n}return Object(o["a"])(this,t,e)},e.prototype.once=function(t,e){if(Array.isArray(t)){for(var i=t.length,n=new Array(i),r=0;r<i;++r)n[r]=Object(o["b"])(this,t[r],e);return n}return Object(o["b"])(this,t,e)},e.prototype.un=function(t,e){if(Array.isArray(t))for(var i=0,n=t.length;i<n;++i)Object(o["c"])(this,t[i],e);else Object(o["c"])(this,t,e)},e}(n["a"]);function a(t){if(Array.isArray(t))for(var e=0,i=t.length;e<i;++e)Object(o["e"])(t[e]);else Object(o["e"])(t)}e["a"]=s},"496f":function(t,e,i){"use strict";e["a"]={ANIMATING:0,INTERACTING:1}},"4cdf":function(t,e,i){"use strict";var o=i("92fa"),n=i("1e8d"),r=i("01d4"),s=i("e269"),a=function(t){function e(e){if(t.call(this),this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,Object(n["a"])(this,Object(s["b"])(this.geometryName_),this.handleGeometryChanged_,this),e)if("function"===typeof e.getSimplifiedGeometry){var i=e;this.setGeometry(i)}else{var o=e;this.setProperties(o)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e(this.getProperties());t.setGeometryName(this.getGeometryName());var i=this.getGeometry();i&&t.setGeometry(i.clone());var o=this.getStyle();return o&&t.setStyle(o),t},e.prototype.getGeometry=function(){return this.get(this.geometryName_)},e.prototype.getId=function(){return this.id_},e.prototype.getGeometryName=function(){return this.geometryName_},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.handleGeometryChange_=function(){this.changed()},e.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(Object(n["e"])(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=Object(n["a"])(t,r["a"].CHANGE,this.handleGeometryChange_,this)),this.changed()},e.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},e.prototype.setStyle=function(t){this.style_=t,this.styleFunction_=t?c(t):void 0,this.changed()},e.prototype.setId=function(t){this.id_=t,this.changed()},e.prototype.setGeometryName=function(t){Object(n["c"])(this,Object(s["b"])(this.geometryName_),this.handleGeometryChanged_,this),this.geometryName_=t,Object(n["a"])(this,Object(s["b"])(this.geometryName_),this.handleGeometryChanged_,this),this.handleGeometryChanged_()},e}(s["a"]);function c(t){if("function"===typeof t)return t;var e;if(Array.isArray(t))e=t;else{Object(o["a"])("function"===typeof t.getZIndex,41);var i=t;e=[i]}return function(){return e}}e["a"]=a},"509b":function(t,e,i){"use strict";var o=i("7238"),n=function(t){function e(e,i,o,n,r){t.call(this,e,i,r),this.originalEvent=o,this.pixel=i.getEventPixel(o),this.coordinate=i.getCoordinateFromPixel(this.pixel),this.dragging=void 0!==n&&n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.preventDefault=function(){t.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){t.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()},e}(o["a"]);e["a"]=n},"592d":function(t,e,i){"use strict";e["a"]={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend"}},"5dec":function(t,e,i){"use strict";e["a"]={IMAGE:"IMAGE",TILE:"TILE",VECTOR_TILE:"VECTOR_TILE",VECTOR:"VECTOR"}},"5e31":function(t,e,i){"use strict";var o=i("acc1"),n=i("ca42"),r=i("0ec0"),s=i("01d4"),a=function(t){function e(e,i,o){t.call(this);var n=o||{};this.tileCoord=e,this.state=i,this.interimTile=null,this.key="",this.transition_=void 0===n.transition?250:n.transition,this.transitionStarts_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.changed=function(){this.dispatchEvent(s["a"].CHANGE)},e.prototype.getKey=function(){return this.key+"/"+this.tileCoord},e.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==o["a"].LOADED)return t;t=t.interimTile}while(t);return this},e.prototype.refreshInterimChain=function(){if(this.interimTile){var t=this.interimTile,e=this;do{if(t.getState()==o["a"].LOADED){t.interimTile=null;break}t.getState()==o["a"].LOADING?e=t:t.getState()==o["a"].IDLE?e.interimTile=t.interimTile:e=t,t=e.interimTile}while(t)}},e.prototype.getTileCoord=function(){return this.tileCoord},e.prototype.getState=function(){return this.state},e.prototype.setState=function(t){this.state=t,this.changed()},e.prototype.load=function(){},e.prototype.getAlpha=function(t,e){if(!this.transition_)return 1;var i=this.transitionStarts_[t];if(i){if(-1===i)return 1}else i=e,this.transitionStarts_[t]=i;var o=e-i+1e3/60;return o>=this.transition_?1:Object(n["a"])(o/this.transition_)},e.prototype.inTransition=function(t){return!!this.transition_&&-1!==this.transitionStarts_[t]},e.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},e}(r["a"]);e["a"]=a},"5eee":function(t,e,i){"use strict";var o=i("1300"),n=i("e300"),r=i("183a"),s=i("509b"),a=i("617d"),c=i("0b2d"),h=i("de46"),l=i("1e8d"),u=i("0ec0"),p=i("d079"),d=i("b114"),g=function(t){function e(e,i){t.call(this),this.map_=e,this.clickTimeoutId_,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=i?i*a["b"]:a["b"],this.down_=null;var o=this.map_.getViewport();this.activePointers_=0,this.trackedTouches_={},this.pointerEventHandler_=new d["a"](o),this.documentPointerEventHandler_=null,this.pointerdownListenerKey_=Object(l["a"])(this.pointerEventHandler_,p["a"].POINTERDOWN,this.handlePointerDown_,this),this.relayedListenerKey_=Object(l["a"])(this.pointerEventHandler_,p["a"].POINTERMOVE,this.relayEvent_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.emulateClick_=function(t){var e=new h["a"](c["a"].CLICK,this.map_,t);this.dispatchEvent(e),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new h["a"](c["a"].DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var e=new h["a"](c["a"].SINGLECLICK,this.map_,t);this.dispatchEvent(e)}.bind(this),250)},e.prototype.updateActivePointers_=function(t){var e=t;e.type==c["a"].POINTERUP||e.type==c["a"].POINTERCANCEL?delete this.trackedTouches_[e.pointerId]:e.type==c["a"].POINTERDOWN&&(this.trackedTouches_[e.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},e.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var e=new h["a"](c["a"].POINTERUP,this.map_,t);this.dispatchEvent(e),e.propagationStopped||this.dragging_||!this.isMouseActionButton_(t)||this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(l["e"]),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null,this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null)},e.prototype.isMouseActionButton_=function(t){return 0===t.button},e.prototype.handlePointerDown_=function(t){this.updateActivePointers_(t);var e=new h["a"](c["a"].POINTERDOWN,this.map_,t);this.dispatchEvent(e),this.down_=t,0===this.dragListenerKeys_.length&&(this.documentPointerEventHandler_=new d["a"](document),this.dragListenerKeys_.push(Object(l["a"])(this.documentPointerEventHandler_,c["a"].POINTERMOVE,this.handlePointerMove_,this),Object(l["a"])(this.documentPointerEventHandler_,c["a"].POINTERUP,this.handlePointerUp_,this),Object(l["a"])(this.pointerEventHandler_,c["a"].POINTERCANCEL,this.handlePointerUp_,this)))},e.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var e=new h["a"](c["a"].POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(e)}t.preventDefault()},e.prototype.relayEvent_=function(t){var e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new h["a"](t.type,this.map_,t,e))},e.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},e.prototype.disposeInternal=function(){this.relayedListenerKey_&&(Object(l["e"])(this.relayedListenerKey_),this.relayedListenerKey_=null),this.pointerdownListenerKey_&&(Object(l["e"])(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(l["e"]),this.dragListenerKeys_.length=0,this.documentPointerEventHandler_&&(this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null),this.pointerEventHandler_&&(this.pointerEventHandler_.dispose(),this.pointerEventHandler_=null),t.prototype.disposeInternal.call(this)},e}(u["a"]),f=g,y=i("7238"),_=i("592d"),v={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},m=i("070d"),b=i("e269"),w=i("7b4f"),E=i("acc1"),L=i("01d4"),C=i("dc10"),T=function(t){function e(e,i){t.call(this,function(t){return e.apply(null,t)},function(t){return t[0].getKey()}),this.tileChangeCallback_=i,this.tilesLoading_=0,this.tilesLoadingKeys_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.enqueue=function(e){var i=t.prototype.enqueue.call(this,e);if(i){var o=e[0];Object(l["a"])(o,L["a"].CHANGE,this.handleTileChange,this)}return i},e.prototype.getTilesLoading=function(){return this.tilesLoading_},e.prototype.handleTileChange=function(t){var e=t.target,i=e.getState();if(i===E["a"].LOADED||i===E["a"].ERROR||i===E["a"].EMPTY||i===E["a"].ABORT){Object(l["c"])(e,L["a"].CHANGE,this.handleTileChange,this);var o=e.getKey();o in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[o],--this.tilesLoading_),this.tileChangeCallback_()}},e.prototype.loadMoreTiles=function(t,e){var i,o,n,r=0,s=!1;while(this.tilesLoading_<t&&r<e&&this.getCount()>0)o=this.dequeue()[0],n=o.getKey(),i=o.getState(),i===E["a"].ABORT?s=!0:i!==E["a"].IDLE||n in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[n]=!0,++this.tilesLoading_,++r,o.load());0===r&&s&&this.tileChangeCallback_()},e}(C["b"]),O=T,S=i("a2c7"),R=i("496f"),M=i("92fa"),A=i("0999"),x=i("cef7"),I=i("0af5"),P=i("57cb"),k=i("9c78"),D=i("345d"),N=i("a896"),F=function(t){function e(e){t.call(this);var i=j(e);this.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,this.loadTilesWhileAnimating_=void 0!==e.loadTilesWhileAnimating&&e.loadTilesWhileAnimating,this.loadTilesWhileInteracting_=void 0!==e.loadTilesWhileInteracting&&e.loadTilesWhileInteracting,this.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:a["b"],this.animationDelayKey_,this.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_.call(this,Date.now())}.bind(this),this.coordinateToPixelTransform_=Object(N["c"])(),this.pixelToCoordinateTransform_=Object(N["c"])(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+(a["h"]?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.viewport_.style.msTouchAction="none",this.viewport_.style.touchAction="none",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent";for(var o=[L["a"].CLICK,L["a"].DBLCLICK,L["a"].MOUSEDOWN,L["a"].TOUCHSTART,L["a"].MSPOINTERDOWN,c["a"].POINTERDOWN,L["a"].MOUSEWHEEL,L["a"].WHEEL],s=0,h=o.length;s<h;++s)Object(l["a"])(this.overlayContainerStopEvent_,o[s],x["b"]);for(var u in this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=new f(this,e.moveTolerance),c["a"])Object(l["a"])(this.mapBrowserEventHandler_,c["a"][u],this.handleMapBrowserEvent,this);this.keyboardEventTarget_=i.keyboardEventTarget,this.keyHandlerKeys_=null,Object(l["a"])(this.viewport_,L["a"].CONTEXTMENU,this.handleBrowserEvent,this),Object(l["a"])(this.viewport_,L["a"].WHEEL,this.handleBrowserEvent,this),Object(l["a"])(this.viewport_,L["a"].MOUSEWHEEL,this.handleBrowserEvent,this),this.controls=i.controls||new n["a"],this.interactions=i.interactions||new n["a"],this.overlays_=i.overlays,this.overlayIdIndex_={},this.renderer_=this.createRenderer(),this.handleResize_,this.focus_=null,this.postRenderFunctions_=[],this.tileQueue_=new O(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.skippedFeatureUids_={},Object(l["a"])(this,Object(b["b"])(v.LAYERGROUP),this.handleLayerGroupChanged_,this),Object(l["a"])(this,Object(b["b"])(v.VIEW),this.handleViewChanged_,this),Object(l["a"])(this,Object(b["b"])(v.SIZE),this.handleSizeChanged_,this),Object(l["a"])(this,Object(b["b"])(v.TARGET),this.handleTargetChanged_,this),this.setProperties(i.values),this.controls.forEach(function(t){t.setMap(this)}.bind(this)),Object(l["a"])(this.controls,r["a"].ADD,function(t){t.element.setMap(this)},this),Object(l["a"])(this.controls,r["a"].REMOVE,function(t){t.element.setMap(null)},this),this.interactions.forEach(function(t){t.setMap(this)}.bind(this)),Object(l["a"])(this.interactions,r["a"].ADD,function(t){t.element.setMap(this)},this),Object(l["a"])(this.interactions,r["a"].REMOVE,function(t){t.element.setMap(null)},this),this.overlays_.forEach(this.addOverlayInternal_.bind(this)),Object(l["a"])(this.overlays_,r["a"].ADD,function(t){this.addOverlayInternal_(t.element)},this),Object(l["a"])(this.overlays_,r["a"].REMOVE,function(t){var e=t.element,i=e.getId();void 0!==i&&delete this.overlayIdIndex_[i.toString()],t.element.setMap(null)},this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},e.prototype.addControl=function(t){this.getControls().push(t)},e.prototype.addInteraction=function(t){this.getInteractions().push(t)},e.prototype.addLayer=function(t){var e=this.getLayerGroup().getLayers();e.push(t)},e.prototype.addOverlay=function(t){this.getOverlays().push(t)},e.prototype.addOverlayInternal_=function(t){var e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)},e.prototype.disposeInternal=function(){this.mapBrowserEventHandler_.dispose(),Object(l["c"])(this.viewport_,L["a"].CONTEXTMENU,this.handleBrowserEvent,this),Object(l["c"])(this.viewport_,L["a"].WHEEL,this.handleBrowserEvent,this),Object(l["c"])(this.viewport_,L["a"].MOUSEWHEEL,this.handleBrowserEvent,this),void 0!==this.handleResize_&&(removeEventListener(L["a"].RESIZE,this.handleResize_,!1),this.handleResize_=void 0),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0),this.setTarget(null),t.prototype.disposeInternal.call(this)},e.prototype.forEachFeatureAtPixel=function(t,e,i){if(this.frameState_){var o=this.getCoordinateFromPixel(t);i=void 0!==i?i:{};var n=void 0!==i.hitTolerance?i.hitTolerance*this.frameState_.pixelRatio:0,r=void 0!==i.layerFilter?i.layerFilter:P["b"];return this.renderer_.forEachFeatureAtCoordinate(o,this.frameState_,n,e,null,r,null)}},e.prototype.getFeaturesAtPixel=function(t,e){var i=null;return this.forEachFeatureAtPixel(t,function(t){i||(i=[]),i.push(t)},e),i},e.prototype.forEachLayerAtPixel=function(t,e,i){if(this.frameState_){var o=i||{},n=void 0!==o.hitTolerance?i.hitTolerance*this.frameState_.pixelRatio:0,r=o.layerFilter||P["b"];return this.renderer_.forEachLayerAtPixel(t,this.frameState_,n,e,null,r,null)}},e.prototype.hasFeatureAtPixel=function(t,e){if(!this.frameState_)return!1;var i=this.getCoordinateFromPixel(t);e=void 0!==e?e:{};var o=void 0!==e.layerFilter?e.layerFilter:P["b"],n=void 0!==e.hitTolerance?e.hitTolerance*this.frameState_.pixelRatio:0;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,n,o,null)},e.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},e.prototype.getEventPixel=function(t){var e=this.viewport_.getBoundingClientRect(),i="changedTouches"in t?t.changedTouches[0]:t;return[i.clientX-e.left,i.clientY-e.top]},e.prototype.getTarget=function(){return this.get(v.TARGET)},e.prototype.getTargetElement=function(){var t=this.getTarget();return void 0!==t?"string"===typeof t?document.getElementById(t):t:null},e.prototype.getCoordinateFromPixel=function(t){var e=this.frameState_;return e?Object(N["a"])(e.pixelToCoordinateTransform,t.slice()):null},e.prototype.getControls=function(){return this.controls},e.prototype.getOverlays=function(){return this.overlays_},e.prototype.getOverlayById=function(t){var e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getInteractions=function(){return this.interactions},e.prototype.getLayerGroup=function(){return this.get(v.LAYERGROUP)},e.prototype.getLayers=function(){var t=this.getLayerGroup().getLayers();return t},e.prototype.getPixelFromCoordinate=function(t){var e=this.frameState_;return e?Object(N["a"])(e.coordinateToPixelTransform,t.slice(0,2)):null},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.getSize=function(){return this.get(v.SIZE)},e.prototype.getView=function(){return this.get(v.VIEW)},e.prototype.getViewport=function(){return this.viewport_},e.prototype.getOverlayContainer=function(){return this.overlayContainer_},e.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},e.prototype.getTilePriority=function(t,e,i,o){var n=this.frameState_;if(!n||!(e in n.wantedTiles))return C["a"];if(!n.wantedTiles[e][t.getKey()])return C["a"];var r=i[0]-n.focus[0],s=i[1]-n.focus[1];return 65536*Math.log(o)+Math.sqrt(r*r+s*s)/o},e.prototype.handleBrowserEvent=function(t,e){var i=e||t.type,o=new s["a"](i,this,t);this.handleMapBrowserEvent(o)},e.prototype.handleMapBrowserEvent=function(t){if(this.frameState_){this.focus_=t.coordinate,t.frameState=this.frameState_;var e=this.getInteractions().getArray();if(!1!==this.dispatchEvent(t))for(var i=e.length-1;i>=0;i--){var o=e[i];if(o.getActive()){var n=o.handleEvent(t);if(!n)break}}}},e.prototype.handlePostRender=function(){var t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){var i=this.maxTilesLoading_,o=i;if(t){var n=t.viewHints;n[R["a"].ANIMATING]&&(i=this.loadTilesWhileAnimating_?8:0,o=2),n[R["a"].INTERACTING]&&(i=this.loadTilesWhileInteracting_?8:0,o=2)}e.getTilesLoading()<i&&(e.reprioritize(),e.loadMoreTiles(i,o))}!t||!this.hasListener(m["a"].RENDERCOMPLETE)||t.animate||this.tileQueue_.getTilesLoading()||V(this.getLayers().getArray())||this.renderer_.dispatchRenderEvent(m["a"].RENDERCOMPLETE,t);for(var r=this.postRenderFunctions_,s=0,a=r.length;s<a;++s)r[s](this,t);r.length=0},e.prototype.handleSizeChanged_=function(){this.render()},e.prototype.handleTargetChanged_=function(){var t;if(this.getTarget()&&(t=this.getTargetElement()),this.keyHandlerKeys_){for(var e=0,i=this.keyHandlerKeys_.length;e<i;++e)Object(l["e"])(this.keyHandlerKeys_[e]);this.keyHandlerKeys_=null}if(t){t.appendChild(this.viewport_);var o=this.keyboardEventTarget_?this.keyboardEventTarget_:t;this.keyHandlerKeys_=[Object(l["a"])(o,L["a"].KEYDOWN,this.handleBrowserEvent,this),Object(l["a"])(o,L["a"].KEYPRESS,this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),window.addEventListener(L["a"].RESIZE,this.handleResize_,!1))}else this.renderer_.removeLayerRenderers(),Object(A["c"])(this.viewport_),void 0!==this.handleResize_&&(removeEventListener(L["a"].RESIZE,this.handleResize_,!1),this.handleResize_=void 0);this.updateSize()},e.prototype.handleTileChange_=function(){this.render()},e.prototype.handleViewPropertyChanged_=function(){this.render()},e.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(Object(l["e"])(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Object(l["e"])(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.viewport_.setAttribute("data-view",Object(o["c"])(t)),this.viewPropertyListenerKey_=Object(l["a"])(t,w["a"].PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Object(l["a"])(t,L["a"].CHANGE,this.handleViewPropertyChanged_,this)),this.render()},e.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(l["e"]),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.layerGroupPropertyListenerKeys_=[Object(l["a"])(t,w["a"].PROPERTYCHANGE,this.render,this),Object(l["a"])(t,L["a"].CHANGE,this.render,this)]),this.render()},e.prototype.isRendered=function(){return!!this.frameState_},e.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},e.prototype.render=function(){void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},e.prototype.removeControl=function(t){return this.getControls().remove(t)},e.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},e.prototype.removeLayer=function(t){var e=this.getLayerGroup().getLayers();return e.remove(t)},e.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},e.prototype.renderFrame_=function(t){var e,i=this.getSize(),n=this.getView(),r=Object(I["j"])(),s=this.frameState_,a=null;if(void 0!==i&&Object(D["a"])(i)&&n&&n.isDef()){for(var c=n.getHints(this.frameState_?this.frameState_.viewHints:void 0),h=this.getLayerGroup().getLayerStatesArray(),l={},u=0,p=h.length;u<p;++u)l[Object(o["c"])(h[u].layer)]=h[u];e=n.getState(this.pixelRatio_),a={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,extent:r,focus:this.focus_?this.focus_:e.center,index:this.frameIndex_++,layerStates:l,layerStatesArray:h,pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:i,skippedFeatureUids:this.skippedFeatureUids_,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:e,viewHints:c,wantedTiles:{}}}if(a&&(a.extent=Object(I["z"])(e.center,e.resolution,e.rotation,a.size,r)),this.frameState_=a,this.renderer_.renderFrame(a),a){if(a.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,a.postRenderFunctions),s){var d=!this.previousExtent_||!Object(I["H"])(this.previousExtent_)&&!Object(I["p"])(a.extent,this.previousExtent_);d&&(this.dispatchEvent(new y["a"](_["a"].MOVESTART,this,s)),this.previousExtent_=Object(I["l"])(this.previousExtent_))}var g=this.previousExtent_&&!a.viewHints[R["a"].ANIMATING]&&!a.viewHints[R["a"].INTERACTING]&&!Object(I["p"])(a.extent,this.previousExtent_);g&&(this.dispatchEvent(new y["a"](_["a"].MOVEEND,this,a)),Object(I["d"])(a.extent,this.previousExtent_))}this.dispatchEvent(new y["a"](_["a"].POSTRENDER,this,a)),setTimeout(this.handlePostRender.bind(this),0)},e.prototype.setLayerGroup=function(t){this.set(v.LAYERGROUP,t)},e.prototype.setSize=function(t){this.set(v.SIZE,t)},e.prototype.setTarget=function(t){this.set(v.TARGET,t)},e.prototype.setView=function(t){this.set(v.VIEW,t)},e.prototype.skipFeature=function(t){this.skippedFeatureUids_[Object(o["c"])(t)]=!0,this.render()},e.prototype.updateSize=function(){var t=this.getTargetElement();if(t){var e=getComputedStyle(t);this.setSize([t.offsetWidth-parseFloat(e["borderLeftWidth"])-parseFloat(e["paddingLeft"])-parseFloat(e["paddingRight"])-parseFloat(e["borderRightWidth"]),t.offsetHeight-parseFloat(e["borderTopWidth"])-parseFloat(e["paddingTop"])-parseFloat(e["paddingBottom"])-parseFloat(e["borderBottomWidth"])])}else this.setSize(void 0)},e.prototype.unskipFeature=function(t){delete this.skippedFeatureUids_[Object(o["c"])(t)],this.render()},e}(b["a"]);function j(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"===typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var i,o,r,s={},a=t.layers&&"function"===typeof t.layers.getLayers?t.layers:new k["a"]({layers:t.layers});return s[v.LAYERGROUP]=a,s[v.TARGET]=t.target,s[v.VIEW]=void 0!==t.view?t.view:new S["a"],void 0!==t.controls&&(Array.isArray(t.controls)?i=new n["a"](t.controls.slice()):(Object(M["a"])("function"===typeof t.controls.getArray,47),i=t.controls)),void 0!==t.interactions&&(Array.isArray(t.interactions)?o=new n["a"](t.interactions.slice()):(Object(M["a"])("function"===typeof t.interactions.getArray,48),o=t.interactions)),void 0!==t.overlays?Array.isArray(t.overlays)?r=new n["a"](t.overlays.slice()):(Object(M["a"])("function"===typeof t.overlays.getArray,49),r=t.overlays):r=new n["a"],{controls:i,interactions:o,keyboardEventTarget:e,overlays:r,values:s}}var G=F;function V(t){for(var e=0,i=t.length;e<i;++e){var o=t[e];if("function"===typeof o.getLayers)return V(o.getLayers().getArray());var n=o.getSource();if(n&&n.loading)return!0}return!1}var K=i("8f3a"),H=i("3a39"),U=i("38f3"),z=i("39cf"),Y=i("8eca"),X=i("b9ec"),q=i("da2f"),Z=i("b7fa"),B=function(t){function e(e){e=Object(U["a"])({},e),e.controls||(e.controls=Object(K["a"])()),e.interactions||(e.interactions=Object(H["a"])()),t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createRenderer=function(){var t=new Y["a"](this);return t.registerLayerRenderers([z["a"],X["a"],q["a"],Z["a"]]),t},e}(G);e["a"]=B},"6f9e":function(t,e,i){"use strict";var o={create:function(t,e){var i;if(e=e||{},"TEXT"===t)i=document.createTextNode(e.html||""),e.parent&&e.parent.appendChild(i);else for(var n in i=document.createElement(t),/button/i.test(t)&&i.setAttribute("type","button"),e)switch(n){case"className":e.className&&e.className.trim&&i.setAttribute("class",e.className.trim());break;case"html":e.html instanceof Element?i.appendChild(e.html):void 0!==e.html&&(i.innerHTML=e.html);break;case"parent":e.parent.appendChild(i);break;case"style":this.setStyle(i,e.style);break;case"change":case"click":o.addListener(i,n,e[n]);break;case"on":for(var r in e.on)o.addListener(i,r,e.on[r]);break;case"checked":i.checked=!!e.checked;break;default:i.setAttribute(n,e[n]);break}return i},setHTML:function(t,e){e instanceof Element?t.appendChild(e):void 0!==e&&(t.innerHTML=e)},appendText:function(t,e){t.appendChild(document.createTextNode(e||""))},addListener:function(t,e,i){"string"===typeof e&&(e=e.split(" ")),e.forEach(function(e){t.addEventListener(e,i)})},removeListener:function(t,e,i){"string"===typeof e&&(e=e.split(" ")),e.forEach(function(e){t.removeEventListener(e,i)})},show:function(t){t.style.display=""},hide:function(t){t.style.display="none"},hidden:function(t){return"none"===o.getStyle(t,"display")},toggle:function(t){t.style.display="none"===t.style.display?"":"none"},setStyle:function(t,e){for(var i in e)switch(i){case"top":case"left":case"bottom":case"right":case"minWidth":case"maxWidth":case"width":case"height":"number"===typeof e[i]?t.style[i]=e[i]+"px":t.style[i]=e[i];break;default:t.style[i]=e[i]}},getStyle:function(t,e){var i,o=(t.ownerDocument||document).defaultView;if(o&&o.getComputedStyle)e=e.replace(/([A-Z])/g,"-$1").toLowerCase(),i=o.getComputedStyle(t,null).getPropertyValue(e);else if(t.currentStyle&&(e=e.replace(/-(\w)/g,function(t,e){return e.toUpperCase()}),i=t.currentStyle[e],/^\d+(em|pt|%|ex)?$/i.test(i)))return function(e){var i=t.style.left,o=t.runtimeStyle.left;return t.runtimeStyle.left=t.currentStyle.left,t.style.left=e||0,e=t.style.pixelLeft+"px",t.style.left=i,t.runtimeStyle.left=o,e}(i);return/px$/.test(i)?parseInt(i):i},outerHeight:function(t){return t.offsetHeight+o.getStyle(t,"marginBottom")},outerWidth:function(t){return t.offsetWidth+o.getStyle(t,"marginLeft")},offsetRect:function(t){var e=t.getBoundingClientRect();return{top:e.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:e.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0),height:e.height||e.bottom-e.top,width:e.widtth||e.right-e.left}},scrollDiv:function(t,e){var i,n=!1,r=0,s=0,a="function"===typeof e.onmove?e.onmove:function(){},c=e.vertical?"pageY":"pageX",h=e.vertical?"scrollTop":"scrollLeft";t.querySelectorAll("img").forEach(function(t){t.ondragstart=function(){return!1}}),o.addListener(t,["mousedown"],function(e){n=e[c],s=new Date,t.classList.add("ol-move")}),o.addListener(window,["mousemove"],function(e){if(!1!==n){var o=n-e[c];t[h]+=o,i=new Date,i-s&&(r=(r+o/(i-s))/2),n=e[c],s=i,o&&a(!0)}else a(!1)}),o.addListener(window,["mouseup"],function(e){t.classList.remove("ol-move"),s=new Date-s,s>100?r=0:s>0&&(r=((r||0)+(n-e[c])/s)/2),t[h]+=100*r,n=!1,r=0,s=0}),e.mousewheel&&!t.classList.contains("ol-touch")&&o.addListener(t,["mousewheel","DOMMouseScroll","onmousewheel"],function(e){var i=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail));return t.classList.add("ol-move"),t[h]-=30*i,!1})}};e["a"]=o},7238:function(t,e,i){"use strict";var o=i("cef7"),n=function(t){function e(e,i,o){t.call(this,e),this.map=i,this.frameState=void 0!==o?o:null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(o["a"]);e["a"]=n},7505:function(t,e,i){},"7b4f":function(t,e,i){"use strict";e["a"]={PROPERTYCHANGE:"propertychange"}},"7f98":function(t,e,i){"use strict";var o=i("5e31"),n=i("acc1"),r=i("0999"),s=i("1e8d"),a=i("01d4"),c=function(t){function e(e,i,o,n,r,s){t.call(this,e,i,s),this.crossOrigin_=n,this.src_=o,this.image_=new Image,null!==n&&(this.image_.crossOrigin=n),this.imageListenerKeys_=null,this.tileLoadFunction_=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.state==n["a"].LOADING&&(this.unlistenImage_(),this.image_=h()),this.interimTile&&this.interimTile.dispose(),this.state=n["a"].ABORT,this.changed(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.image_},e.prototype.getKey=function(){return this.src_},e.prototype.handleImageError_=function(){this.state=n["a"].ERROR,this.unlistenImage_(),this.image_=h(),this.changed()},e.prototype.handleImageLoad_=function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=n["a"].LOADED:this.state=n["a"].EMPTY,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state==n["a"].ERROR&&(this.state=n["a"].IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==n["a"].IDLE&&(this.state=n["a"].LOADING,this.changed(),this.imageListenerKeys_=[Object(s["b"])(this.image_,a["a"].ERROR,this.handleImageError_,this),Object(s["b"])(this.image_,a["a"].LOAD,this.handleImageLoad_,this)],this.tileLoadFunction_(this,this.src_))},e.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(s["e"]),this.imageListenerKeys_=null},e}(o["a"]);function h(){var t=Object(r["a"])(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}e["a"]=c},"835b":function(t,e,i){"use strict";var o=i("1300"),n=function(t){function e(e){var i="latest"===o["a"]?o["a"]:"v"+o["a"].split("-")[0],n="Assertion failed. See https://openlayers.org/en/"+i+"/doc/errors/#"+e+" for details.";t.call(this,n),this.code=e,this.name="AssertionError",this.message=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error);e["a"]=n},"869f":function(t,e,i){"use strict";e["a"]={IDLE:0,LOADING:1,LOADED:2,ERROR:3}},"8d87":function(t,e,i){"use strict";var o=i("5116"),n=i("2c30"),r=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.expireCache=function(t){while(this.canExpireCache()){var e=this.peekLast(),i=e.tileCoord[0].toString();if(i in t&&t[i].contains(e.tileCoord))break;this.pop().dispose()}},e.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var t=this.peekFirstKey(),e=Object(n["b"])(t),i=e[0];this.forEach(function(t){t.tileCoord[0]!==i&&(this.remove(Object(n["c"])(t.tileCoord)),t.dispose())},this)}},e}(o["a"]);e["a"]=r},a2c7:function(t,e,i){"use strict";var o=i("0414"),n=i("1300"),r=i("57cb"),s=i("67f6"),a=i("e269"),c=i("aaa2"),h=i("8cc5"),l=i("496f"),u={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},p=i("9f5e"),d=i("92fa"),g=i("a568"),f=i("ca42"),y=i("0af5"),_=i("f623"),v=i("5bc3"),m=i("7fc9"),b=i("38f3"),w=i("256f"),E=i("fced"),L=0,C=function(t){function e(e){t.call(this);var i=Object(b["a"])({},e);this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.updateAnimations_=this.updateAnimations_.bind(this),this.projection_=Object(w["b"])(i.projection,"EPSG:3857"),this.applyOptions_(i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.applyOptions_=function(t){var e={};e[u.CENTER]=void 0!==t.center?t.center:null;var i=S(t);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=t.resolutions,this.minZoom_=i.minZoom;var o=O(t),n=i.constraint,r=R(t);this.constraints_={center:o,resolution:n,rotation:r},void 0!==t.resolution?e[u.RESOLUTION]=t.resolution:void 0!==t.zoom&&(e[u.RESOLUTION]=this.constrainResolution(this.maxResolution_,t.zoom-this.minZoom_),this.resolutions_&&(e[u.RESOLUTION]=Object(m["a"])(Number(this.getResolution()||e[u.RESOLUTION]),this.minResolution_,this.maxResolution_))),e[u.ROTATION]=void 0!==t.rotation?t.rotation:0,this.setProperties(e),this.options_=t},e.prototype.getUpdatedOptions_=function(t){var e=Object(b["a"])({},this.options_);return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenter(),e.rotation=this.getRotation(),Object(b["a"])({},e,t)},e.prototype.animate=function(t){var e,i=arguments,o=arguments.length;if(o>1&&"function"===typeof arguments[o-1]&&(e=arguments[o-1],--o),!this.isDef()){var n=arguments[o-1];return n.center&&this.setCenter(n.center),void 0!==n.zoom&&this.setZoom(n.zoom),void 0!==n.rotation&&this.setRotation(n.rotation),void(e&&T(e,!0))}for(var r=Date.now(),s=this.getCenter().slice(),a=this.getResolution(),c=this.getRotation(),h=[],u=0;u<o;++u){var p=i[u],d={start:r,complete:!1,anchor:p.anchor,duration:void 0!==p.duration?p.duration:1e3,easing:p.easing||f["c"]};if(p.center&&(d.sourceCenter=s,d.targetCenter=p.center,s=d.targetCenter),void 0!==p.zoom?(d.sourceResolution=a,d.targetResolution=this.constrainResolution(this.maxResolution_,p.zoom-this.minZoom_,0),a=d.targetResolution):p.resolution&&(d.sourceResolution=a,d.targetResolution=p.resolution,a=d.targetResolution),void 0!==p.rotation){d.sourceRotation=c;var g=Object(m["d"])(p.rotation-c+Math.PI,2*Math.PI)-Math.PI;d.targetRotation=c+g,c=d.targetRotation}d.callback=e,M(d)?d.complete=!0:r+=d.duration,h.push(d)}this.animations_.push(h),this.setHint(l["a"].ANIMATING,1),this.updateAnimations_()},e.prototype.getAnimating=function(){return this.hints_[l["a"].ANIMATING]>0},e.prototype.getInteracting=function(){return this.hints_[l["a"].INTERACTING]>0},e.prototype.cancelAnimations=function(){this.setHint(l["a"].ANIMATING,-this.hints_[l["a"].ANIMATING]);for(var t=0,e=this.animations_.length;t<e;++t){var i=this.animations_[t];i[0].callback&&T(i[0].callback,!1)}this.animations_.length=0},e.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var t=Date.now(),e=!1,i=this.animations_.length-1;i>=0;--i){for(var o=this.animations_[i],n=!0,r=0,s=o.length;r<s;++r){var a=o[r];if(!a.complete){var c=t-a.start,h=a.duration>0?c/a.duration:1;h>=1?(a.complete=!0,h=1):n=!1;var p=a.easing(h);if(a.sourceCenter){var d=a.sourceCenter[0],g=a.sourceCenter[1],f=a.targetCenter[0],y=a.targetCenter[1],_=d+p*(f-d),v=g+p*(y-g);this.set(u.CENTER,[_,v])}if(a.sourceResolution&&a.targetResolution){var b=1===p?a.targetResolution:a.sourceResolution+p*(a.targetResolution-a.sourceResolution);a.anchor&&this.set(u.CENTER,this.calculateCenterZoom(b,a.anchor)),this.set(u.RESOLUTION,b)}if(void 0!==a.sourceRotation&&void 0!==a.targetRotation){var w=1===p?Object(m["d"])(a.targetRotation+Math.PI,2*Math.PI)-Math.PI:a.sourceRotation+p*(a.targetRotation-a.sourceRotation);a.anchor&&this.set(u.CENTER,this.calculateCenterRotate(w,a.anchor)),this.set(u.ROTATION,w)}if(e=!0,!a.complete)break}}if(n){this.animations_[i]=null,this.setHint(l["a"].ANIMATING,-1);var E=o[0].callback;E&&T(E,!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_))}},e.prototype.calculateCenterRotate=function(t,e){var i,o=this.getCenter();return void 0!==o&&(i=[o[0]-e[0],o[1]-e[1]],Object(g["f"])(i,t-this.getRotation()),Object(g["a"])(i,e)),i},e.prototype.calculateCenterZoom=function(t,e){var i,o=this.getCenter(),n=this.getResolution();if(void 0!==o&&void 0!==n){var r=e[0]-t*(e[0]-o[0])/n,s=e[1]-t*(e[1]-o[1])/n;i=[r,s]}return i},e.prototype.getSizeFromViewport_=function(){var t=[100,100],e='.ol-viewport[data-view="'+Object(n["c"])(this)+'"]',i=document.querySelector(e);if(i){var o=getComputedStyle(i);t[0]=parseInt(o.width,10),t[1]=parseInt(o.height,10)}return t},e.prototype.constrainCenter=function(t){return this.constraints_.center(t)},e.prototype.constrainResolution=function(t,e,i){var o=e||0,n=i||0;return this.constraints_.resolution(t,o,n)},e.prototype.constrainRotation=function(t,e){var i=e||0;return this.constraints_.rotation(t,i)},e.prototype.getCenter=function(){return this.get(u.CENTER)},e.prototype.getConstraints=function(){return this.constraints_},e.prototype.getHints=function(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},e.prototype.calculateExtent=function(t){var e=t||this.getSizeFromViewport_(),i=this.getCenter();Object(d["a"])(i,1);var o=this.getResolution();Object(d["a"])(void 0!==o,2);var n=this.getRotation();return Object(d["a"])(void 0!==n,3),Object(y["z"])(i,o,n,e)},e.prototype.getMaxResolution=function(){return this.maxResolution_},e.prototype.getMinResolution=function(){return this.minResolution_},e.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},e.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},e.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},e.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolution=function(){return this.get(u.RESOLUTION)},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getResolutionForExtent=function(t,e){var i=e||this.getSizeFromViewport_(),o=Object(y["E"])(t)/i[0],n=Object(y["A"])(t)/i[1];return Math.max(o,n)},e.prototype.getResolutionForValueFunction=function(t){var e=t||2,i=this.maxResolution_,o=this.minResolution_,n=Math.log(i/o)/Math.log(e);return function(t){var o=i/Math.pow(e,t*n);return o}},e.prototype.getRotation=function(){return this.get(u.ROTATION)},e.prototype.getValueForResolutionFunction=function(t){var e=t||2,i=this.maxResolution_,o=this.minResolution_,n=Math.log(i/o)/Math.log(e);return function(t){var o=Math.log(i/t)/Math.log(e)/n;return o}},e.prototype.getState=function(t){var e=this.getCenter(),i=this.getProjection(),o=this.getResolution(),n=o/t,r=this.getRotation();return{center:[Math.round(e[0]/n)*n,Math.round(e[1]/n)*n],projection:void 0!==i?i:null,resolution:o,rotation:r,zoom:this.getZoom()}},e.prototype.getZoom=function(){var t,e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t},e.prototype.getZoomForResolution=function(t){var e,i,o=this.minZoom_||0;if(this.resolutions_){var n=Object(p["f"])(this.resolutions_,t,1);o=n,e=this.resolutions_[n],i=n==this.resolutions_.length-1?2:e/this.resolutions_[n+1]}else e=this.maxResolution_,i=this.zoomFactor_;return o+Math.log(e/t)/Math.log(i)},e.prototype.getResolutionForZoom=function(t){return this.constrainResolution(this.maxResolution_,t-this.minZoom_,0)},e.prototype.fit=function(t,e){var i,o=e||{},n=o.size;n||(n=this.getSizeFromViewport_()),Object(d["a"])(Array.isArray(t)||"function"===typeof t.getSimplifiedGeometry,24),Array.isArray(t)?(Object(d["a"])(!Object(y["H"])(t),25),i=Object(v["c"])(t)):t.getType()===_["a"].CIRCLE?(t=t.getExtent(),i=Object(v["c"])(t),i.rotate(this.getRotation(),Object(y["x"])(t))):i=t;var s,a=void 0!==o.padding?o.padding:[0,0,0,0],c=void 0===o.constrainResolution||o.constrainResolution,h=void 0!==o.nearest&&o.nearest;s=void 0!==o.minResolution?o.minResolution:void 0!==o.maxZoom?this.constrainResolution(this.maxResolution_,o.maxZoom-this.minZoom_,0):0;for(var l=i.getFlatCoordinates(),u=this.getRotation(),p=Math.cos(-u),g=Math.sin(-u),f=1/0,m=1/0,b=-1/0,w=-1/0,E=i.getStride(),L=0,C=l.length;L<C;L+=E){var O=l[L]*p-l[L+1]*g,S=l[L]*g+l[L+1]*p;f=Math.min(f,O),m=Math.min(m,S),b=Math.max(b,O),w=Math.max(w,S)}var R=this.getResolutionForExtent([f,m,b,w],[n[0]-a[1]-a[3],n[1]-a[0]-a[2]]);if(R=isNaN(R)?s:Math.max(R,s),c){var M=this.constrainResolution(R,0,0);!h&&M<R&&(M=this.constrainResolution(M,-1,0)),R=M}g=-g;var A=(f+b)/2,x=(m+w)/2;A+=(a[1]-a[3])/2*R,x+=(a[0]-a[2])/2*R;var I=A*p-x*g,P=x*p+A*g,k=[I,P],D=o.callback?o.callback:r["c"];void 0!==o.duration?this.animate({resolution:R,center:k,duration:o.duration,easing:o.easing},D):(this.setResolution(R),this.setCenter(k),T(D,!0))},e.prototype.centerOn=function(t,e,i){var o=this.getRotation(),n=Math.cos(-o),r=Math.sin(-o),s=t[0]*n-t[1]*r,a=t[1]*n+t[0]*r,c=this.getResolution();s+=(e[0]/2-i[0])*c,a+=(i[1]-e[1]/2)*c,r=-r;var h=s*n-a*r,l=a*n+s*r;this.setCenter([h,l])},e.prototype.isDef=function(){return!!this.getCenter()&&void 0!==this.getResolution()},e.prototype.rotate=function(t,e){if(void 0!==e){var i=this.calculateCenterRotate(t,e);this.setCenter(i)}this.setRotation(t)},e.prototype.setCenter=function(t){this.set(u.CENTER,t),this.getAnimating()&&this.cancelAnimations()},e.prototype.setHint=function(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]},e.prototype.setResolution=function(t){this.set(u.RESOLUTION,t),this.getAnimating()&&this.cancelAnimations()},e.prototype.setRotation=function(t){this.set(u.ROTATION,t),this.getAnimating()&&this.cancelAnimations()},e.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},e}(a["a"]);function T(t,e){setTimeout(function(){t(e)},0)}function O(t){return void 0!==t.extent?Object(s["a"])(t.extent):s["b"]}function S(t){var e,i,n,r=28,s=2,a=void 0!==t.minZoom?t.minZoom:L,h=void 0!==t.maxZoom?t.maxZoom:r,l=void 0!==t.zoomFactor?t.zoomFactor:s;if(void 0!==t.resolutions){var u=t.resolutions;i=u[a],n=void 0!==u[h]?u[h]:u[u.length-1],e=Object(c["b"])(u)}else{var p=Object(w["b"])(t.projection,"EPSG:3857"),d=p.getExtent(),g=d?Math.max(Object(y["E"])(d),Object(y["A"])(d)):360*w["a"][E["b"].DEGREES]/p.getMetersPerUnit(),f=g/o["b"]/Math.pow(s,L),_=f/Math.pow(s,r-L);i=t.maxResolution,void 0!==i?a=0:i=f/Math.pow(l,a),n=t.minResolution,void 0===n&&(n=void 0!==t.maxZoom?void 0!==t.maxResolution?i/Math.pow(l,h):f/Math.pow(l,h):_),h=a+Math.floor(Math.log(i/n)/Math.log(l)),n=i/Math.pow(l,h-a),e=Object(c["a"])(l,i,h-a)}return{constraint:e,maxResolution:i,minResolution:n,minZoom:a,zoomFactor:l}}function R(t){var e=void 0===t.enableRotation||t.enableRotation;if(e){var i=t.constrainRotation;return void 0===i||!0===i?Object(h["b"])():!1===i?h["d"]:"number"===typeof i?Object(h["a"])(i):h["d"]}return h["c"]}function M(t){return!(t.sourceCenter&&t.targetCenter&&!Object(g["e"])(t.sourceCenter,t.targetCenter))&&(t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation)}e["a"]=C},acc1:function(t,e,i){"use strict";e["a"]={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4,ABORT:5}},c2d3:function(t,e,i){"use strict";window.ol&&!ol.ext&&(ol.ext={});var o=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t};window.ol&&(ol.inherits||(ol.inherits=o)),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),window.Element&&!Element.prototype.remove&&(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),e["a"]=o},c516:function(t,e,i){"use strict";var o=i("c2d3"),n=i("06f8"),r=i("ac29"),s=i("7a09"),a=i("5bc3"),c=i("2ce2"),h=i("f087"),l=i("e887"),u=i("3900"),p=function(t){t=t||{};var e=this;this.interaction_=t.interaction,this.interaction_&&this.interaction_.on("change:active",function(t){e.setActive(!t.oldValue)}),t.toggleFn&&(t.onToggle=t.toggleFn),t.handleClick=function(){e.toggle(),t.onToggle&&t.onToggle.call(e,e.getActive())},t.className=(t.className||"")+" ol-toggle",l["a"].call(this,t),this.set("title",t.title),this.set("autoActivate",t.autoActivate),t.bar&&(this.subbar_=t.bar,this.subbar_.setTarget(this.element),this.subbar_.element.classList.add("ol-option-bar")),this.setActive(t.active),this.setDisable(t.disable)};Object(o["a"])(p,l["a"]),p.prototype.setMap=function(t){!t&&this.getMap()&&(this.interaction_&&this.getMap().removeInteraction(this.interaction_),this.subbar_&&this.getMap().removeControl(this.subbar_)),u["a"].prototype.setMap.call(this,t),t&&(this.interaction_&&t.addInteraction(this.interaction_),this.subbar_&&t.addControl(this.subbar_))},p.prototype.getSubBar=function(){return this.subbar_},p.prototype.getDisable=function(){var t=this.element.querySelector("button");return t&&t.disabled},p.prototype.setDisable=function(t){this.getDisable()!=t&&(this.element.querySelector("button").disabled=t,t&&this.getActive()&&this.setActive(!1),this.dispatchEvent({type:"change:disable",key:"disable",oldValue:!t,disable:t}))},p.prototype.getActive=function(){return this.element.classList.contains("ol-active")},p.prototype.toggle=function(){this.getActive()?this.setActive(!1):this.setActive(!0)},p.prototype.setActive=function(t){this.interaction_&&this.interaction_.setActive(t),this.subbar_&&this.subbar_.setActive(t),this.getActive()!==t&&(t?this.element.classList.add("ol-active"):this.element.classList.remove("ol-active"),this.dispatchEvent({type:"change:active",key:"active",oldValue:!t,active:t}))},p.prototype.setInteraction=function(t){this.interaction_=t},p.prototype.getInteraction=function(){return this.interaction_};var d=p,g=function(t){t=t||{},t.className=(t.className||"")+" ol-text-button",l["a"].call(this,t)};Object(o["a"])(g,l["a"]);var f=g,y=i("5831"),_=function(t){c["a"].call(this,t),this.on("select",function(t){this.getFeatures().clear(),this.delete(t.selected)}.bind(this))};Object(o["a"])(_,c["a"]),_.prototype._getSources=function(t){if(!this.getMap())return[];t||(t=this.getMap().getLayers());var e=[];return t.forEach(function(t){t.getLayers?e=e.concat(this._getSources(t.getLayers())):t.getSource&&t.getSource()instanceof y["a"]&&e.push(t.getSource())}.bind(this)),e},_.prototype.delete=function(t){if(t&&(t.length||t.getLength())){this.dispatchEvent({type:"deletestart",features:t});var e=[];this._getSources().forEach(function(i){try{t.forEach(function(t){i.removeFeature(t),e.push(t)})}catch(o){}}),this.dispatchEvent({type:"deleteend",features:e})}};var v=_,m=i("6f9e"),b=i("4105"),w=i("0af5"),E=i("049d"),L=(i("47e4"),i("9a44"),i("88da")),C=i("f403"),T=function(t,e){var i=t[0]-e[0],o=t[1]-e[1];return Math.sqrt(i*i+o*o)},O=function(t,e){return t[0]==e[0]&&t[1]==e[1]},S=function(t,e){var i,o,n,r,s,a,c,h,l,u,p,d,g,f=[],y=t.length-1,_=y,v=O(t[0],t[y]);v||(p=t[0],d=t[1],g=[p[0]+(d[1]-p[1])/T(p,d)*e,p[1]-(d[0]-p[0])/T(p,d)*e],f.push(g),t.push(t[y]),y++,_--);for(var m=0;m<_;m++)p=t[m],d=t[(m+1)%y],g=t[(m+2)%y],i=(d[1]-p[1])/(d[0]-p[0]),o=(g[1]-d[1])/(g[0]-d[0]),Math.abs(i-o)>1e-10&&(n=Math.sqrt((d[0]-p[0])*(d[0]-p[0])+(d[1]-p[1])*(d[1]-p[1])),r=Math.sqrt((g[0]-d[0])*(g[0]-d[0])+(g[1]-d[1])*(g[1]-d[1])),s=p[0]+e*(d[1]-p[1])/n,a=d[0]+e*(g[1]-d[1])/r,c=p[1]-e*(d[0]-p[0])/n,h=d[1]-e*(g[0]-d[0])/r,l=(o*a-i*s+c-h)/(o-i),u=(i*o*(a-s)+o*c-i*h)/(o-i),d[0]-p[0]==0&&(l=d[0]+e*(d[1]-p[1])/Math.abs(d[1]-p[1]),u=o*l-o*a+h),g[0]-d[0]==0&&(l=g[0]+e*(g[1]-d[1])/Math.abs(g[1]-d[1]),u=i*l-i*s+c),f.push([l,u]));return v?f.push(f[0]):(t.pop(),p=t[t.length-1],d=t[t.length-2],g=[p[0]-(d[1]-p[1])/T(p,d)*e,p[1]+(d[0]-p[0])/T(p,d)*e],f.push(g)),f},R=function(t,e){for(var i=0;i<e.length-1;i++){var o=e[i],n=e[i+1];if(O(t,o)||O(t,n))return{index:1,segment:[o,n]};var r=T(o,n),s=[(n[0]-o[0])/r,(n[1]-o[1])/r],a=T(o,t),c=[(t[0]-o[0])/a,(t[1]-o[1])/a];if(Math.abs(s[0]*c[1]-s[1]*c[0])<1e-10)return{index:1,segment:[o,n]}}return{index:-1}},M=function(t){t||(t={}),b["b"].call(this,{handleDownEvent:this.handleDownEvent_,handleDragEvent:this.handleDragEvent_,handleMoveEvent:this.handleMoveEvent_,handleUpEvent:this.handleUpEvent_}),this.features_=t.features,this.layers_=t.layers?t.layers instanceof Array?t.layers:[t.layers]:null,this.set("duplicate",t.duplicate),this.source_=t.source,this.previousCursor_=!1};Object(o["a"])(M,b["b"]),M.prototype.setMap=function(t){b["b"].prototype.setMap.call(this,t)},M.prototype.getFeatureAtPixel_=function(t){var e=this;return this.getMap().forEachFeatureAtPixel(t.pixel,function(i,o){var n;if(e.layers_){for(var r=0;r<e.layers_.length;r++)if(e.layers_[r]===o){n=i;break}}else e.features_?e.features_.forEach(function(t){t===i&&(n=i)}):n=i;var s=n.getGeometry().getType();if(n&&/Polygon|LineString/.test(s)){if("Polygon"===s&&n.getGeometry().getCoordinates().length>1)return!1;var a=n.getGeometry().getClosestPoint(t.coordinate),c=a[0]-t.coordinate[0],h=a[1]-t.coordinate[1],l=Math.sqrt(c*c+h*h)/t.frameState.viewState.resolution;return l<5&&{feature:n,hit:a,coordinates:n.getGeometry().getCoordinates(),geom:n.getGeometry().clone(),geomType:s}}return!1},{hitTolerance:5})},M.prototype.handleDownEvent_=function(t){return this.current_=this.getFeatureAtPixel_(t),this.source_&&(this.get("duplicate")||t.originalEvent.ctrlKey)?(this.current_.feature=this.current_.feature.clone(),this.source_.addFeature(this.current_.feature)):this.current_&&this.dispatchEvent({type:"modifystart",features:[this.current_.feature]}),!!this.current_&&(this.dispatchEvent({type:"offsetstart",feature:this.current_.feature,offset:0}),!0)},M.prototype.handleDragEvent_=function(t){var e,i,o,n,r=this.current_.geom.getClosestPoint(t.coordinate),c=T(r,t.coordinate);switch(this.current_.geomType){case"Polygon":if(e=R(r,this.current_.coordinates[0]).segment,e){i=[e[1][0]-e[0][0],e[1][1]-e[0][1]],o=[t.coordinate[0]-r[0],t.coordinate[1]-r[1]],i[0]*o[1]-i[1]*o[0]>0&&(c=-c),n=[];for(var h=0;h<this.current_.coordinates.length;h++)n.push(S(this.current_.coordinates[h],0==h?c:-c));this.current_.feature.setGeometry(new a["a"](n))}break;case"LineString":e=R(r,this.current_.coordinates).segment,e&&(i=[e[1][0]-e[0][0],e[1][1]-e[0][1]],o=[t.coordinate[0]-r[0],t.coordinate[1]-r[1]],i[0]*o[1]-i[1]*o[0]>0&&(c=-c),n=S(this.current_.coordinates,c),this.current_.feature.setGeometry(new s["a"](n)));break;default:break}this.dispatchEvent({type:"offsetting",feature:this.current_.feature,offset:c,segment:[r,t.coordinate],coordinate:t.coordinate})},M.prototype.handleUpEvent_=function(t){this.dispatchEvent({type:"offsetend",feature:this.current_.feature,coordinate:t.coordinate}),this.current_=!1},M.prototype.handleMoveEvent_=function(t){var e=this.getFeatureAtPixel_(t);e?(!1===this.previousCursor_&&(this.previousCursor_=t.map.getTargetElement().style.cursor),t.map.getTargetElement().style.cursor="pointer"):(t.map.getTargetElement().style.cursor=this.previousCursor_,this.previousCursor_=!1)};var A=M,x=i("4334"),I=i("6c77"),P=i("8682"),k=i("83a6"),D=i("ce2c"),N=i("3e6b"),F=i("4cdf");s["a"].prototype.splitAt=function(t,e){var i;if(!t)return[this];if(e||(e=1e-10),t.length&&t[0].length){var o=[this];for(i=0;i<t.length;i++){for(var n=[],r=0;r<o.length;r++){var a=o[r].splitAt(t[i],e);n=n.concat(a)}o=n}return o}if(O(t,this.getFirstCoordinate())||O(t,this.getLastCoordinate()))return[this];var c=this.getCoordinates(),h=[c[0]],l=[];for(i=0;i<c.length-1;i++)if(!O(c[i],c[i+1])){if(O(t,c[i+1]))h.push(c[i+1]),l.push(new s["a"](h)),h=[];else if(!O(t,c[i])){var u,p,d=!1;c[i][0]==c[i+1][0]?(u=(c[i][1]-t[1])/(c[i][1]-c[i+1][1]),d=c[i][0]==t[0]&&0<u&&u<=1):c[i][1]==c[i+1][1]?(u=(c[i][0]-t[0])/(c[i][0]-c[i+1][0]),d=c[i][1]==t[1]&&0<u&&u<=1):(u=(c[i][0]-t[0])/(c[i][0]-c[i+1][0]),p=(c[i][1]-t[1])/(c[i][1]-c[i+1][1]),d=Math.abs(u-p)<=e&&0<u&&u<=1),d&&(h.push(t),l.push(new s["a"](h)),h=[t])}h.push(c[i+1])}return h.length>1&&l.push(new s["a"](h)),l.length?l:[this]};var j=function(t){t||(t={}),x["a"].call(this,{handleEvent:function(t){switch(t.type){case"singleclick":return this.handleDownEvent(t);case"pointermove":return this.handleMoveEvent(t);default:return!0}}}),this.snapDistance_=t.snapDistance||25,this.tolerance_=t.tolerance||1e-10,this.cursor_=t.cursor,this.sources_=t.sources?t.sources instanceof Array?t.sources:[t.sources]:[],t.features&&this.sources_.push(new y["a"]({features:t.features})),this.filterSplit_=t.filter||function(){return!0};var e=[255,255,255,1],i=[0,153,255,1],o=3,n=new k["a"]({color:"rgba(255,255,255,0.4)"}),r=new P["a"]({color:"#3399CC",width:1.25}),s=[new I["c"]({image:new D["a"]({fill:n,stroke:r,radius:5}),fill:n,stroke:r})],a=[new I["c"]({stroke:new P["a"]({color:e,width:o+2})}),new I["c"]({image:new D["a"]({radius:2*o,fill:new k["a"]({color:i}),stroke:new P["a"]({color:e,width:o/2})}),stroke:new P["a"]({color:i,width:o})})];t.sketchStyle&&(s=t.sketchStyle instanceof Array?t.sketchStyle:[t.sketchStyle]),t.featureStyle&&(a=t.featureStyle instanceof Array?t.featureStyle:[t.featureStyle]),this.overlayLayer_=new N["a"]({source:new y["a"]({useSpatialIndex:!1}),name:"Split overlay",displayInLayerSwitcher:!1,style:function(t){return t._sketch_?s:a}})};Object(o["a"])(j,x["a"]),j.prototype.setMap=function(t){this.getMap()&&this.getMap().removeLayer(this.overlayLayer_),x["a"].prototype.setMap.call(this,t),this.overlayLayer_.setMap(t)},j.prototype.getClosestFeature=function(t){for(var e,i,o,n=this.snapDistance_+1,r=0;r<this.sources_.length;r++){var a=this.sources_[r];if(e=a.getClosestFeatureToCoordinate(t.coordinate),e&&e.getGeometry().splitAt){i=e.getGeometry().getClosestPoint(t.coordinate),o=new s["a"]([t.coordinate,i]),n=o.getLength()/t.frameState.viewState.resolution;break}}if(n>this.snapDistance_)return!1;var c=this.getNearestCoord(i,e.getGeometry().getCoordinates()),h=this.getMap().getPixelFromCoordinate(c);return T(t.pixel,h)<this.snapDistance_&&(i=c),{source:a,feature:e,coord:i,link:o}},j.prototype.getNearestCoord=function(t,e){for(var i,o,n=Number.MAX_VALUE,r=0;r<e.length;r++)i=T(t,e[r]),i<n&&(n=i,o=e[r]);return o},j.prototype.handleDownEvent=function(t){var e=this.getClosestFeature(t);if(e){var i=this;i.overlayLayer_.getSource().clear();var o,n=e.feature.getGeometry().splitAt(e.coord,this.tolerance_);if(n.length>1){var r=[];for(o=0;o<n.length;o++){var s=e.feature.clone();s.setGeometry(n[o]),r.push(s)}for(i.dispatchEvent({type:"beforesplit",original:e.feature,features:r}),e.source.dispatchEvent({type:"beforesplit",original:e.feature,features:r}),e.source.removeFeature(e.feature),o=0;o<r.length;o++)e.source.addFeature(r[o]);i.dispatchEvent({type:"aftersplit",original:e.feature,features:r}),e.source.dispatchEvent({type:"aftersplit",original:e.feature,features:r})}}return!1},j.prototype.handleMoveEvent=function(t){var e=t.map;this.overlayLayer_.getSource().clear();var i,o,n=this.getClosestFeature(t);n&&this.filterSplit_(n.feature)?(this.overlayLayer_.getSource().addFeature(n.feature),i=new F["a"](new C["a"](n.coord)),i._sketch_=!0,this.overlayLayer_.getSource().addFeature(i),o=new F["a"](n.link),o._sketch_=!0,this.overlayLayer_.getSource().addFeature(o),this.dispatchEvent({type:"pointermove",coordinate:t.coordinate,frameState:t.frameState,originalEvent:t.originalEvent,map:t.map,pixel:t.pixel,feature:n.feature,linkGeometry:n.link})):this.dispatchEvent(t);var r=e.getTargetElement();this.cursor_&&(n?r.style.cursor!=this.cursor_&&(this.previousCursor_=r.style.cursor,r.style.cursor=this.cursor_):void 0!==this.previousCursor_&&(r.style.cursor=this.previousCursor_,this.previousCursor_=void 0))};var G=j,V=i("e300"),K=i("35d8"),H=i("35a7"),U=function(t){t||(t={});var e=this;this.selection_=new V["a"],this.handles_=new V["a"],this.overlayLayer_=new N["a"]({source:new y["a"]({features:this.handles_,useSpatialIndex:!1,wrapX:!1}),name:"Transform overlay",displayInLayerSwitcher:!1,style:function(t){return e.style[(t.get("handle")||"default")+(t.get("constraint")||"")+(t.get("option")||"")]}}),b["b"].call(this,{handleDownEvent:this.handleDownEvent_,handleDragEvent:this.handleDragEvent_,handleMoveEvent:this.handleMoveEvent_,handleUpEvent:this.handleUpEvent_}),this.features_=t.features,"function"===typeof t.filter&&(this._filter=t.filter),this.layers_=t.layers?t.layers instanceof Array?t.layers:[t.layers]:null,this.addFn_=t.addCondition||function(){return!1},this.set("translateFeature",!1!==t.translateFeature),this.set("translate",!1!==t.translate),this.set("stretch",!1!==t.stretch),this.set("scale",!1!==t.scale),this.set("rotate",!1!==t.rotate),this.set("keepAspectRatio",t.keepAspectRatio||function(t){return t.originalEvent.shiftKey}),this.set("modifyCenter",t.modifyCenter||function(t){return t.originalEvent.metaKey||t.originalEvent.ctrlKey}),this.set("noFlip",t.noFlip||!1),this.set("selection",!1!==t.selection),this.set("hitTolerance",t.hitTolerance||0),this.on("propertychange",function(){this.drawSketch_()}),this.setDefaultStyle()};Object(o["a"])(U,b["b"]),U.prototype.Cursors={default:"auto",select:"pointer",translate:"move",rotate:"move",rotate0:"move",scale:"nesw-resize",scale1:"nwse-resize",scale2:"nesw-resize",scale3:"nwse-resize",scalev:"ew-resize",scaleh1:"ns-resize",scalev2:"ew-resize",scaleh3:"ns-resize"},U.prototype.setMap=function(t){this.getMap()&&(this.getMap().removeLayer(this.overlayLayer_),this.previousCursor_&&(this.getMap().getTargetElement().style.cursor=this.previousCursor_,this.previousCursor_=void 0)),b["b"].prototype.setMap.call(this,t),this.overlayLayer_.setMap(t),null!==t&&(this.isTouch=/touch/.test(t.getViewport().className),this.setDefaultStyle())},U.prototype.setActive=function(t){this.select(null),this.overlayLayer_.setVisible(t),b["b"].prototype.setActive.call(this,t)},U.prototype.setDefaultStyle=function(){var t=new P["a"]({color:[255,0,0,1],width:1}),e=new P["a"]({color:[255,0,0,1],width:1,lineDash:[4,4]}),i=new k["a"]({color:[255,0,0,.01]}),o=new k["a"]({color:[255,255,255,.8]}),n=new K["a"]({fill:o,stroke:t,radius:this.isTouch?12:6,points:15});n.getAnchor()[0]=this.isTouch?-10:-5;var r=new K["a"]({fill:o,stroke:t,radius:this.isTouch?16:8,points:4,angle:Math.PI/4}),s=new K["a"]({fill:o,stroke:t,radius:this.isTouch?12:6,points:4,angle:Math.PI/4});function a(t,e,i){return[new I["c"]({image:t,stroke:e,fill:i})]}this.style={default:a(r,e,i),translate:a(r,t,o),rotate:a(n,t,o),rotate0:a(r,t,o),scale:a(r,t,o),scale1:a(r,t,o),scale2:a(r,t,o),scale3:a(r,t,o),scalev:a(s,t,o),scaleh1:a(s,t,o),scalev2:a(s,t,o),scaleh3:a(s,t,o)},this.drawSketch_()},U.prototype.setStyle=function(t,e){if(e){e instanceof Array?this.style[t]=e:this.style[t]=[e];for(var i=0;i<this.style[t].length;i++){var o=this.style[t][i].getImage();o&&("rotate"==t&&(o.getAnchor()[0]=-5),this.isTouch&&o.setScale(1.8));var n=this.style[t][i].getText();n&&("rotate"==t&&n.setOffsetX(this.isTouch?14:7),this.isTouch&&n.setScale(1.8))}this.drawSketch_()}},U.prototype.getFeatureAtPixel_=function(t){var e=this;return this.getMap().forEachFeatureAtPixel(t,function(t,i){var o=!1;if(!i){if(t===e.bbox_)return!1;if(e.handles_.forEach(function(e){e===t&&(o=!0)}),o)return{feature:t,handle:t.get("handle"),constraint:t.get("constraint"),option:t.get("option")}}if(!e.get("selection"))return e.selection_.getArray().some(function(e){return t===e})?{feature:t}:null;if(e._filter)return e._filter(t,i)?{feature:t}:null;if(e.layers_){for(var n=0;n<e.layers_.length;n++)if(e.layers_[n]===i)return{feature:t};return null}return e.features_?(e.features_.forEach(function(e){e===t&&(o=!0)}),o?{feature:t}:null):{feature:t}},{hitTolerance:this.get("hitTolerance")})||{}},U.prototype.drawSketch_=function(t){var e,i,o;if(this.overlayLayer_.getSource().clear(),this.selection_.getLength()){var n=this.selection_.item(0).getGeometry().getExtent();if(n=Object(w["c"])(n,0),this.selection_.forEach(function(t){Object(w["q"])(n,t.getGeometry().getExtent())}),!0===t)this.ispt_||(this.overlayLayer_.getSource().addFeature(new F["a"]({geometry:new C["a"](this.center_),handle:"rotate0"})),o=Object(a["c"])(n),i=this.bbox_=new F["a"](o),this.overlayLayer_.getSource().addFeature(i));else{if(this.ispt_){var r=this.getMap().getPixelFromCoordinate([n[0],n[1]]);n=Object(w["b"])([this.getMap().getCoordinateFromPixel([r[0]-10,r[1]-10]),this.getMap().getCoordinateFromPixel([r[0]+10,r[1]+10])])}o=Object(a["c"])(n),i=this.bbox_=new F["a"](o);var s=[],c=o.getCoordinates()[0];if(!this.ispt_){if(s.push(i),!this.iscircle_&&this.get("stretch")&&this.get("scale"))for(e=0;e<c.length-1;e++)i=new F["a"]({geometry:new C["a"]([(c[e][0]+c[e+1][0])/2,(c[e][1]+c[e+1][1])/2]),handle:"scale",constraint:e%2?"h":"v",option:e}),s.push(i);if(this.get("scale"))for(e=0;e<c.length-1;e++)i=new F["a"]({geometry:new C["a"](c[e]),handle:"scale",option:e}),s.push(i);this.get("translate")&&!this.get("translateFeature")&&(i=new F["a"]({geometry:new C["a"]([(c[0][0]+c[2][0])/2,(c[0][1]+c[2][1])/2]),handle:"translate"}),s.push(i))}!this.iscircle_&&this.get("rotate")&&(i=new F["a"]({geometry:new C["a"](c[3]),handle:"rotate"}),s.push(i)),this.overlayLayer_.getSource().addFeatures(s)}}},U.prototype.select=function(t,e){if(!t)return this.selection_.clear(),void this.drawSketch_();t.getGeometry&&t.getGeometry()&&(e?this.selection_.push(t):(this.selection_.clear(),this.selection_.push(t)),this.ispt_=1===this.selection_.getLength()&&"Point"==this.selection_.item(0).getGeometry().getType(),this.iscircle_=1===this.selection_.getLength()&&"Circle"==this.selection_.item(0).getGeometry().getType(),this.drawSketch_(),this.watchFeatures_(),this.dispatchEvent({type:"select",feature:t,features:this.selection_}))},U.prototype.watchFeatures_=function(){this._featureListeners&&this._featureListeners.forEach(function(t){Object(H["b"])(t)}),this._featureListeners=[],this.selection_.forEach(function(t){this._featureListeners.push(t.on("change",function(){this.drawSketch_()}.bind(this)))}.bind(this))},U.prototype.handleDownEvent_=function(t){var e=this.getFeatureAtPixel_(t.pixel),i=e.feature;if(this.selection_.getLength()&&this.selection_.getArray().indexOf(i)>=0&&(this.ispt_&&this.get("translate")||this.get("translateFeature"))&&(e.handle="translate"),e.handle){this.mode_=e.handle,this.opt_=e.option,this.constraint_=e.constraint,this.coordinate_=t.coordinate,this.pixel_=t.pixel,this.geoms_=[];for(var o,n=Object(w["j"])(),r=0;o=this.selection_.item(r);r++)this.geoms_.push(o.getGeometry().clone()),n=Object(w["q"])(n,o.getGeometry().getExtent());if(this.extent_=Object(a["c"])(n).getCoordinates()[0],"rotate"===this.mode_){this.center_=this.getCenter()||Object(w["x"])(n);var s=t.map.getTargetElement();s.style.cursor=this.Cursors.rotate0,this.previousCursor_=s.style.cursor}else this.center_=Object(w["x"])(n);return this.angle_=Math.atan2(this.center_[1]-t.coordinate[1],this.center_[0]-t.coordinate[0]),this.dispatchEvent({type:this.mode_+"start",feature:this.selection_.item(0),features:this.selection_,pixel:t.pixel,coordinate:t.coordinate}),!0}if(this.get("selection")){if(i){this.addFn_(t)||this.selection_.clear();var c=this.selection_.getArray().indexOf(i);c<0?this.selection_.push(i):this.selection_.removeAt(c)}else this.selection_.clear();return this.ispt_=1===this.selection_.getLength()&&"Point"==this.selection_.item(0).getGeometry().getType(),this.iscircle_=1===this.selection_.getLength()&&"Circle"==this.selection_.item(0).getGeometry().getType(),this.drawSketch_(),this.watchFeatures_(),this.dispatchEvent({type:"select",feature:i,features:this.selection_,pixel:t.pixel,coordinate:t.coordinate}),!1}},U.prototype.getFeatures=function(){return this.selection_},U.prototype.getCenter=function(){return this.get("center")},U.prototype.setCenter=function(t){return this.set("center",t)},U.prototype.handleDragEvent_=function(t){var e,i,o;switch(this.mode_){case"rotate":var n=Math.atan2(this.center_[1]-t.coordinate[1],this.center_[0]-t.coordinate[0]);if(!this.ispt)for(e=0,i;i=this.selection_.item(e);e++)o=this.geoms_[e].clone(),o.rotate(n-this.angle_,this.center_),"Circle"==o.getType()&&o.setCenterAndRadius(o.getCenter(),o.getRadius()),i.setGeometry(o);this.drawSketch_(!0),this.dispatchEvent({type:"rotating",feature:this.selection_.item(0),features:this.selection_,angle:n-this.angle_,pixel:t.pixel,coordinate:t.coordinate});break;case"translate":var r=t.coordinate[0]-this.coordinate_[0],s=t.coordinate[1]-this.coordinate_[1];for(e=0,i;i=this.selection_.item(e);e++)i.getGeometry().translate(r,s);this.handles_.forEach(function(t){t.getGeometry().translate(r,s)}),this.coordinate_=t.coordinate,this.dispatchEvent({type:"translating",feature:this.selection_.item(0),features:this.selection_,delta:[r,s],pixel:t.pixel,coordinate:t.coordinate});break;case"scale":var a=this.center_;this.get("modifyCenter")(t)&&(a=this.extent_[(Number(this.opt_)+2)%4]);var c=(t.coordinate[0]-a[0])/(this.coordinate_[0]-a[0]),h=(t.coordinate[1]-a[1])/(this.coordinate_[1]-a[1]);for(this.get("noFlip")&&(c<0&&(c=-c),h<0&&(h=-h)),this.constraint_?"h"==this.constraint_?c=1:h=1:this.get("keepAspectRatio")(t)&&(c=h=Math.min(c,h)),e=0,i;i=this.selection_.item(e);e++)o=this.geoms_[e].clone(),o.applyTransform(function(t,e,i){if(i<2)return e;for(var n=0;n<t.length;n+=i)1!=c&&(e[n]=a[0]+(t[n]-a[0])*c),1!=h&&(e[n+1]=a[1]+(t[n+1]-a[1])*h);return"Circle"==o.getType()&&o.setCenterAndRadius(o.getCenter(),o.getRadius()),e}),i.setGeometry(o);this.drawSketch_(),this.dispatchEvent({type:"scaling",feature:this.selection_.item(0),features:this.selection_,scale:[c,h],pixel:t.pixel,coordinate:t.coordinate});break;default:break}},U.prototype.handleMoveEvent_=function(t){if(!this.mode_){var e=this.getFeatureAtPixel_(t.pixel),i=t.map.getTargetElement();if(e.feature){var o=e.handle?this.Cursors[(e.handle||"default")+(e.constraint||"")+(e.option||"")]:this.Cursors.select;void 0===this.previousCursor_&&(this.previousCursor_=i.style.cursor),i.style.cursor=o}else void 0!==this.previousCursor_&&(i.style.cursor=this.previousCursor_),this.previousCursor_=void 0}},U.prototype.handleUpEvent_=function(t){if("rotate"===this.mode_){var e=t.map.getTargetElement();e.style.cursor=this.Cursors.default,this.previousCursor_=void 0}return this.dispatchEvent({type:this.mode_+"end",feature:this.selection_.item(0),features:this.selection_,oldgeom:this.geoms_[0],oldgeoms:this.geoms_}),this.drawSketch_(),this.mode_=null,!1};var z=U,Y=function(t){var e,i;t||(t={}),b["b"].call(this,{handleEvent:function(t){switch(t.type){case"pointerdown":return e=this.handleDownEvent(t),i=e||this._deleteCondition(t),!e;case"pointerup":return e=!1,this.handleUpEvent(t);case"pointerdrag":return!e||this.handleDragEvent(t);case"pointermove":return!!e||this.handleMoveEvent(t);case"singleclick":case"click":return!i;default:return!0}}}),this.snapDistance_=t.pixelTolerance||10,this.tolerance_=1e-10,this.cursor_=t.cursor,this.sources_=t.sources?t.sources instanceof Array?t.sources:[t.sources]:[],t.features&&this.sources_.push(new y["a"]({features:t.features})),this.filterSplit_=t.filter||function(){return!0},this._condition=t.condition||n["k"],this._deleteCondition=t.deleteCondition||n["a"],this._insertVertexCondition=t.insertVertexCondition||n["c"];var o=function(){return[new I["c"]({image:new D["a"]({radius:6,fill:new k["a"]({color:[0,153,255,1]}),stroke:new P["a"]({color:"#FFF",width:1.25})})})]};t.style&&(o="function"===typeof t.style?t.style:function(){return t.style}),this.overlayLayer_=new N["a"]({source:new y["a"]({useSpatialIndex:!1}),name:"Modify overlay",displayInLayerSwitcher:!1,style:o})};Object(o["a"])(Y,b["b"]),Y.prototype.setMap=function(t){this.getMap()&&this.getMap().removeLayer(this.overlayLayer_),x["a"].prototype.setMap.call(this,t),this.overlayLayer_.setMap(t)},Y.prototype.setActive=function(t){x["a"].prototype.setActive.call(this,t),this.overlayLayer_&&this.overlayLayer_.getSource().clear()},Y.prototype.getClosestFeature=function(t){for(var e,i,o=this.snapDistance_+1,n=0;n<this.sources_.length;n++){var r=this.sources_[n];if(e=r.getClosestFeatureToCoordinate(t.coordinate),e&&this.filterSplit_(e)){var s=e.getGeometry().getClosestPoint(t.coordinate),a=T(t.coordinate,s)/t.frameState.viewState.resolution;a<o&&(o=a,i=s);break}}if(o>this.snapDistance_)return!1;var c=this.getNearestCoord(i,e.getGeometry());if(c){c=c.coord;var h=this.getMap().getPixelFromCoordinate(c);return T(t.pixel,h)<this.snapDistance_&&(i=c),{source:r,feature:e,coord:i}}},Y.prototype.getNearestCoord=function(t,e){var i,o,n,r,a;switch(e.getType()){case"Point":return{coord:e.getCoordinates(),dist:T(e.getCoordinates(),t)};case"MultiPoint":return this.getNearestCoord(t,new s["a"](e.getCoordinates()));case"LineString":case"LinearRing":var c;a=Number.MAX_VALUE;var h=e.getCoordinates();for(i=0;i<h.length;i++)c=T(t,h[i]),c<a&&(a=c,r=h[i]);return{coord:r,dist:a};case"MultiLineString":var l=e.getLineStrings();for(r=!1,a=Number.MAX_VALUE,i=0;o=l[i];i++)n=this.getNearestCoord(t,o),n&&n.dist<a&&(r=n,a=n.dist,r.ring=i);return r;case"Polygon":var u=e.getLinearRings();for(r=!1,a=Number.MAX_VALUE,i=0;o=u[i];i++)n=this.getNearestCoord(t,o),n&&n.dist<a&&(r=n,a=n.dist,r.ring=i);return r;case"MultiPolygon":var p=e.getPolygons();for(r=!1,a=Number.MAX_VALUE,i=0;o=p[i];i++)n=this.getNearestCoord(t,o),n&&n.dist<a&&(r=n,a=n.dist,r.poly=i);return r;case"GeometryCollection":var d=e.getGeometries();for(r=!1,a=Number.MAX_VALUE,i=0;o=d[i];i++)n=this.getNearestCoord(t,o),n&&n.dist<a&&(r=n,a=n.dist,r.geom=i);return r;default:return!1}},Y.prototype.getArcs=function(t,e){var i,o,n,r,a=!1;switch(t.getType()){case"Point":O(e,t.getCoordinates())&&(a={geom:t,type:t.getType(),coord1:[],coord2:[],node:!0});break;case"MultiPoint":for(i=t.getCoordinates(),o=0;o<i.length;o++)if(O(e,i[o])){a={geom:t,type:t.getType(),index:o,coord1:[],coord2:[],node:!0};break}break;case"LinearRing":case"LineString":var c=t.getClosestPoint(e);if(T(c,e)<1.5*this.tolerance_){var h;if("LinearRing"===t.getType()){var l=new s["a"](t.getCoordinates());h=l.splitAt(e,this.tolerance_)}else h=t.splitAt(e,this.tolerance_);if(h.length>2){for(i=h[1].getCoordinates(),o=2;n=h[o];o++){var u=n.getCoordinates();u.shift(),i=i.concat(u)}h=[h[0],new s["a"](i)]}if(2===h.length){var p=h[0].getCoordinates(),d=h[1].getCoordinates(),g=p.length+d.length-1;p.pop(),d.shift(),a={geom:t,type:t.getType(),coord1:p,coord2:d,node:t.getCoordinates().length===g,closed:!1}}else if(1===h.length){n=h[0].getCoordinates();var f=O(n[0],e),y=O(n[n.length-1],e);f?(n.shift(),y&&n.pop(),a={geom:t,type:t.getType(),coord1:[],coord2:n,node:!0,closed:y}):y&&(n.pop(),a={geom:t,type:t.getType(),coord1:n,coord2:[],node:!0,closed:!1})}}break;case"MultiLineString":var _=t.getLineStrings();for(o=0;r=_[o];o++)if(a=this.getArcs(r,e),a){a.geom=t,a.type=t.getType(),a.lstring=o;break}break;case"Polygon":var v=t.getLinearRings();for(o=0;r=v[o];o++)if(a=this.getArcs(r,e),a){a.geom=t,a.type=t.getType(),a.index=o;break}break;case"MultiPolygon":var m=t.getPolygons();for(o=0;r=m[o];o++)if(a=this.getArcs(r,e),a){a.geom=t,a.type=t.getType(),a.poly=o;break}break;case"GeometryCollection":for(o=0;r=l[o];o++)if(a=this.getArcs(r,e),a){a.geom=t,a.g=o,a.typeg=a.type,a.type=t.getType();break}break;default:console.error("ol/interaction/ModifyFeature "+t.getType()+" not supported!");break}return a},Y.prototype.handleDownEvent=function(t){if(!this.getActive())return!1;var e=this.getClosestFeature(t);if(e&&(this._condition(t)||this._deleteCondition(t))){var i=[];return this.arcs=[],this.sources_.forEach(function(t){var o=Object(w["c"])(Object(w["b"])([e.coord]),this.tolerance_);i=i.concat(i,t.getFeaturesInExtent(o))}.bind(this)),this._modifiedFeatures=[],i.forEach(function(i){var o=this.getArcs(i.getGeometry(),e.coord);o&&(this._insertVertexCondition(t)||o.node)&&(o.feature=i,this._modifiedFeatures.push(i),this.arcs.push(o))}.bind(this)),!this._modifiedFeatures.length||(this._deleteCondition(t)?!this._removePoint(e,t):(this.dispatchEvent({type:"modifystart",coordinate:e.coord,originalEvent:t.originalEvent,features:this._modifiedFeatures}),this.handleDragEvent({coordinate:e.coord}),!0))}return!1},Y.prototype.getModifiedFeatures=function(){return this._modifiedFeatures||[]},Y.prototype.removePoint=function(){this._removePoint({},{})},Y.prototype._getModification=function(t){var e=t.coord1.concat(t.coord2);switch(t.type){case"LineString":if(t.closed&&e.push(e[0]),e.length>1&&t.geom.getCoordinates().length!=e.length)return t.coords=e,!0;break;case"MultiLineString":if(t.closed&&e.push(e[0]),e.length>1){var i=t.geom.getCoordinates();if(i[t.lstring].length!=e.length)return i[t.lstring]=e,t.coords=i,!0}break;case"Polygon":if(t.closed&&e.push(e[0]),e.length>3&&(i=t.geom.getCoordinates(),i[t.index].length!=e.length))return i[t.index]=e,t.coords=i,!0;break;case"MultiPolygon":if(t.closed&&e.push(e[0]),e.length>3&&(i=t.geom.getCoordinates(),i[t.poly][t.index].length!=e.length))return i[t.poly][t.index]=e,t.coords=i,!0;break;case"GeometryCollection":t.type=t.typeg;var o=t.geom,n=o.getGeometries();t.geom=n[t.g];var r=this._getModification(t);return o.setGeometries(n),t.geom=o,t.type="GeometryCollection",r;default:break}return!1},Y.prototype._removePoint=function(t,e){if(!this.arcs)return!1;this.overlayLayer_.getSource().clear();var i=!1;return this.arcs.forEach(function(t){i=i||this._getModification(t)}.bind(this)),i&&(this.dispatchEvent({type:"modifystart",coordinate:t.coord,originalEvent:e.originalEvent,features:this._modifiedFeatures}),this.arcs.forEach(function(t){if("GeometryCollection"===t.geom.getType()){if(t.coords){var e=t.geom.getGeometries();e[t.g].setCoordinates(t.coords),t.geom.setGeometries(e)}}else t.coords&&t.geom.setCoordinates(t.coords)}.bind(this)),this.dispatchEvent({type:"modifyend",coordinate:t.coord,originalEvent:e.originalEvent,features:this._modifiedFeatures})),this.arcs=[],i},Y.prototype.handleUpEvent=function(t){return!!this.getActive()&&(!this.arcs||!this.arcs.length||(this.overlayLayer_.getSource().clear(),this.dispatchEvent({type:"modifyend",coordinate:t.coordinate,originalEvent:t.originalEvent,features:this._modifiedFeatures}),!0))},Y.prototype.setArcCoordinates=function(t,e){var i;switch(t.type){case"Point":t.geom.setCoordinates(e[0]);break;case"MultiPoint":i=t.geom.getCoordinates(),i[t.index]=e[0],t.geom.setCoordinates(i);break;case"LineString":t.geom.setCoordinates(e);break;case"MultiLineString":i=t.geom.getCoordinates(),i[t.lstring]=e,t.geom.setCoordinates(i);break;case"Polygon":i=t.geom.getCoordinates(),i[t.index]=e,t.geom.setCoordinates(i);break;case"MultiPolygon":i=t.geom.getCoordinates(),i[t.poly][t.index]=e,t.geom.setCoordinates(i);break;case"GeometryCollection":t.type=t.typeg;var o=t.geom,n=o.getGeometries();t.geom=n[t.g],this.setArcCoordinates(t,e),o.setGeometries(n),t.geom=o,t.type="GeometryCollection";break}},Y.prototype.handleDragEvent=function(t){if(!this.getActive())return!1;if(!this.arcs)return!0;this.overlayLayer_.getSource().clear();var e=new F["a"](new C["a"](t.coordinate));return this.overlayLayer_.getSource().addFeature(e),!this.arcs.length||(this.arcs.forEach(function(e){var i=e.coord1.concat([t.coordinate],e.coord2);e.closed&&i.push(t.coordinate),this.setArcCoordinates(e,i)}.bind(this)),this.dispatchEvent({type:"modifying",coordinate:t.coordinate,originalEvent:t.originalEvent,features:this._modifiedFeatures}),!0)},Y.prototype.handleMoveEvent=function(t){if(!this.getActive())return!1;this.overlayLayer_.getSource().clear();var e=this.getClosestFeature(t);if(e){var i=new F["a"](new C["a"](e.coord));this.overlayLayer_.getSource().addFeature(i)}var o=t.map.getTargetElement();this.cursor_&&(e?o.style.cursor!=this.cursor_&&(this.previousCursor_=o.style.cursor,o.style.cursor=this.cursor_):void 0!==this.previousCursor_&&(o.style.cursor=this.previousCursor_,this.previousCursor_=void 0))};var X=Y,q=i("f822"),Z=function(t){t||(t={}),this.squaredClickTolerance_=t.clickTolerance?t.clickTolerance*t.clickTolerance:36,this.maxCircleCoordinates_=t.maxCircleCoordinates||100,this.features_=t.features,this.source_=t.source,this.squareFn_=t.squareCondition,this.centeredFn_=t.centerCondition,this.canRotate_=!1!==t.canRotate,this.geometryName_=t.geometryName,this.setSides(t.sides);var e=[255,255,255,1],i=[0,153,255,1],o=3,n=[new I["c"]({stroke:new P["a"]({color:e,width:o+2})}),new I["c"]({image:new D["a"]({radius:2*o,fill:new k["a"]({color:i}),stroke:new P["a"]({color:e,width:o/2})}),stroke:new P["a"]({color:i,width:o}),fill:new k["a"]({color:[255,255,255,.5]})})];this.sketch_=new V["a"],this.overlayLayer_=new N["a"]({source:new y["a"]({features:this.sketch_,useSpatialIndex:!1}),name:"DrawRegular overlay",displayInLayerSwitcher:!1,style:t.style||n}),x["a"].call(this,{handleEvent:this.handleEvent_})};Object(o["a"])(Z,x["a"]),Z.prototype.setMap=function(t){this.getMap()&&this.getMap().removeLayer(this.overlayLayer_),x["a"].prototype.setMap.call(this,t),this.overlayLayer_.setMap(t)},Z.prototype.setActive=function(t){this.reset(),x["a"].prototype.setActive.call(this,t)},Z.prototype.reset=function(){this.overlayLayer_.getSource().clear(),this.started_=!1},Z.prototype.setSides=function(t){t=parseInt(t),this.sides_=t>2?t:0},Z.prototype.canRotate=function(t){return!0!==t&&!1!==t||(this.canRotate_=t),this.canRotate_},Z.prototype.getSides=function(){return this.sides_},Z.prototype.startAngle={default:Math.PI/2,3:-Math.PI/2,4:Math.PI/4},Z.prototype.getGeom_=function(){if(this.overlayLayer_.getSource().clear(),!this.center_)return!1;var t;if(this.coord_){var e,i,o,n,r,s=this.center_,c=this.coord_;if(!this.sides_&&this.square_&&!this.centered_)return s=[(c[0]+s[0])/2,(c[1]+s[1])/2],e=[c[0]-s[0],c[1]-s[1]],o=Math.sqrt(e[0]*e[0]+e[1]*e[1]),n=new q["a"](s,o,"XY"),r=this.getMap().getPixelFromCoordinate(s),i=Math.max(100,Math.abs(r[0]-this.coordPx_[0]),Math.abs(r[1]-this.coordPx_[1])),i=Math.min(this.maxCircleCoordinates_,Math.round(i/3)),Object(a["b"])(n,i,0);var h=this.canRotate_&&this.centered_&&this.square_;if(e=[c[0]-s[0],c[1]-s[1]],this.square_&&!h){var l=Math.max(Math.abs(e[0]),Math.abs(e[1]));c=[s[0]+(e[0]>0?l:-l),s[1]+(e[1]>0?l:-l)]}if(o=Math.sqrt(e[0]*e[0]+e[1]*e[1]),o>0){var u;if(n=new q["a"](s,o,"XY"),u=h?Math.atan2(e[1],e[0]):this.startAngle[this.sides_]||this.startAngle["default"],this.sides_?t=Object(a["b"])(n,this.sides_,u):(r=this.getMap().getPixelFromCoordinate(this.center_),i=Math.max(100,Math.abs(r[0]-this.coordPx_[0]),Math.abs(r[1]-this.coordPx_[1])),i=Math.min(this.maxCircleCoordinates_,Math.round(i/(this.centered_?3:5))),t=Object(a["b"])(n,i,0)),h)return t;var p=t.getExtent();s=this.centered_?[2*this.center_[0]-this.coord_[0],2*this.center_[1]-this.coord_[1]]:this.center_;var d=(s[0]-c[0])/(p[0]-p[2]),g=(s[1]-c[1])/(p[1]-p[3]);if(this.square_){var f=Math.min(Math.abs(d),Math.abs(g));d=Math.sign(d)*f,g=Math.sign(g)*f}var y=[s[0]-p[0]*d,s[1]-p[1]*g];return t.applyTransform(function(t,e,i){for(var o=0;o<t.length;o+=i)e[o]=t[o]*d+y[0],e[o+1]=t[o+1]*g+y[1];return e}),t}}return new C["a"](this.center_)},Z.prototype.drawSketch_=function(t){if(this.overlayLayer_.getSource().clear(),t){this.square_=this.squareFn_?this.squareFn_(t):t.originalEvent.shiftKey,this.centered_=this.centeredFn_?this.centeredFn_(t):t.originalEvent.metaKey||t.originalEvent.ctrlKey;var e=this.getGeom_();if(e){var i=this.feature_;return this.geometryName_&&i.setGeometryName(this.geometryName_),"Polygon"===e.getType()&&i.getGeometry().setCoordinates(e.getCoordinates()),this.overlayLayer_.getSource().addFeature(i),this.coord_&&this.square_&&(this.canRotate_&&this.centered_&&this.coord_||!this.sides_&&!this.centered_)&&this.overlayLayer_.getSource().addFeature(new F["a"](new s["a"]([this.center_,this.coord_]))),i}}},Z.prototype.drawPoint_=function(t,e){e||this.overlayLayer_.getSource().clear(),this.overlayLayer_.getSource().addFeature(new F["a"](new C["a"](t)))},Z.prototype.handleEvent_=function(t){var e,i;switch(this._eventTime=new Date,t.type){case"pointerdown":this.downPx_=t.pixel,this.start_(t);var o=500;this._longTouch=!1,setTimeout(function(){this._longTouch=new Date-this._eventTime>.9*o,this._longTouch&&this.handleMoveEvent_(t)}.bind(this),o);break;case"pointerup":this.started_&&this.coord_&&(e=this.downPx_[0]-t.pixel[0],i=this.downPx_[1]-t.pixel[1],e*e+i*i<=this.squaredClickTolerance_&&("pointermove"==this.lastEvent||"keydown"==this.lastEvent?this.end_(t):(e=this.upPx_[0]-t.pixel[0],i=this.upPx_[1]-t.pixel[1],e*e+i*i<=this.squaredClickTolerance_?this.end_(t):(this.handleMoveEvent_(t),this.drawPoint_(t.coordinate,!0))))),this.upPx_=t.pixel;break;case"pointerdrag":if(this.started_){var n=this.getMap().getPixelFromCoordinate(this.center_);e=n[0]-t.pixel[0],i=n[1]-t.pixel[1],e*e+i*i<=this.squaredClickTolerance_&&this.reset()}return!this._longTouch;case"pointermove":this.started_&&(e=this.downPx_[0]-t.pixel[0],i=this.downPx_[1]-t.pixel[1],e*e+i*i>this.squaredClickTolerance_&&(this.handleMoveEvent_(t),this.lastEvent=t.type));break;default:if(this.lastEvent=t.type,this.started_&&"dblclick"===t.type)return!1;break}return!0},Z.prototype.finishDrawing=function(){this.started_&&this.coord_&&this.end_({pixel:this.upPx_,coordinate:this.coord_})},Z.prototype.handleMoveEvent_=function(t){if(this.started_){this.coord_=t.coordinate,this.coordPx_=t.pixel;var e=this.drawSketch_(t);this.dispatchEvent({type:"drawing",feature:e,pixel:t.pixel,startCoordinate:this.center_,coordinate:t.coordinate,square:this.square_,centered:this.centered_})}else this.drawPoint_(t.coordinate)},Z.prototype.start_=function(t){if(this.started_)this.coord_=t.coordinate;else{this.started_=!0,this.center_=t.coordinate,this.coord_=null;var e=new a["a"]([[t.coordinate,t.coordinate,t.coordinate]]),i=this.feature_=new F["a"](e);this.drawSketch_(t),this.dispatchEvent({type:"drawstart",feature:i,pixel:t.pixel,coordinate:t.coordinate})}},Z.prototype.end_=function(t){if(this.coord_=t.coordinate,this.started_=!1,this.coord_&&this.center_[0]!=this.coord_[0]&&this.center_[1]!=this.coord_[1]){var e=this.feature_;this.geometryName_&&e.setGeometryName(this.geometryName_),e.setGeometry(this.getGeom_()),this.source_?this.source_.addFeature(e):this.features_&&this.features_.push(e),this.dispatchEvent({type:"drawend",feature:e,pixel:t.pixel,coordinate:t.coordinate,square:this.square_,centered:this.centered_})}else this.dispatchEvent({type:"drawcancel",feature:null,pixel:t.pixel,coordinate:t.coordinate,square:this.square_,centered:this.centered_});this.center_=this.coord_=null,this.drawSketch_()};var B=Z,W=function(t){t||(t={});var e=this;this._select=new c["a"]({style:t.style}),this._select.setActive(!1);var i,o=t.geometryFunction;i=o?function(t,i){return i=e._geometryFn(t,i),o(t,i)}:function(t,i){return e._geometryFn(t,i)},t.type="Polygon",t.geometryFunction=i,r["a"].call(this,t),t.layers&&("function"===typeof t.layers?this.layers_=t.layers:t.layers.indexOf&&(this.layers_=function(e){return t.layers.indexOf(e)>=0})),this.on("drawstart",this._startDrawing.bind(this)),this.on("drawend",this._finishDrawing.bind(this))};Object(o["a"])(W,r["a"]),W.prototype.setMap=function(t){this.getMap()&&this.getMap().removeInteraction(this._select),t&&t.addInteraction(this._select),r["a"].prototype.setMap.call(this,t)},W.prototype.setActive=function(t){this._select.getFeatures().clear(),r["a"].prototype.setActive.call(this,t)},W.prototype.removeLastPoint=function(){this._feature&&this._feature.getGeometry().getCoordinates()[0].length>2&&r["a"].prototype.removeLastPoint.call(this)},W.prototype.getPolygon=function(){return this._polygon},W.prototype._startDrawing=function(t){var e=this.getMap(),i=this.layers_;this._feature=t.feature;var o=t.feature.getGeometry().getCoordinates()[0][0],n=e.getFeaturesAtPixel(e.getPixelFromCoordinate(o),{layerFilter:i});if(this._current=null,n)for(var r=0;r<n.length;r++){var s=n[r].getGeometry();if("Polygon"===s.getType()&&s.intersectsCoordinate(o))this._polygonIndex=!1,this._polygon=s,this._current=n[r];else if("MultiPolygon"===s.getType()&&s.intersectsCoordinate(o))for(var a,c=0;a=s.getPolygon(c);c++)if(a.intersectsCoordinate(o)){this._polygonIndex=c,this._polygon=a,this._current=n[r];break}if(this._current)break}this._select.getFeatures().clear(),this._current?this._select.getFeatures().push(this._current):(this.setActive(!1),this.setActive(!0))},W.prototype._finishDrawing=function(t){t.hole=t.feature,t.feature=this._select.getFeatures().item(0),this.dispatchEvent({type:"modifystart",features:[this._current]});var e=t.hole.getGeometry().getCoordinates()[0];if(e.length>3)if(!1!==this._polygonIndex){for(var i,o=t.feature.getGeometry(),n=new L["a"]([]),r=0;i=o.getPolygon(r);r++)r===this._polygonIndex?(i.appendLinearRing(new E["a"](e)),n.appendPolygon(i)):n.appendPolygon(i);t.feature.setGeometry(n)}else this.getPolygon().appendLinearRing(new E["a"](e));this.dispatchEvent({type:"modifyend",features:[this._current]}),this._feature=null,this._select.getFeatures().clear()},W.prototype._geometryFn=function(t,e){var i=t[0].pop();return this.getPolygon()&&!this.getPolygon().intersectsCoordinate(i)||(this.lastOKCoord=[i[0],i[1]]),t[0].push([this.lastOKCoord[0],this.lastOKCoord[1]]),e?e.setCoordinates([t[0].concat([t[0][0]])]):e=new a["a"](t),e};var Q=W,$=function(t){t=t||{},t.interactions=t.interactions||{},h["a"].call(this,{className:(t.className?t.className+" ":"")+"ol-editbar",toggleOne:!0,target:t.target}),this._source=t.source,this._interactions={},this._setSelectInteraction(t),!1!==t.edition&&this._setEditInteraction(t),this._setModifyInteraction(t)};Object(o["a"])($,h["a"]),$.prototype.setMap=function(t){this.getMap()&&(this._interactions.Delete&&this.getMap().removeInteraction(this._interactions.Delete),this._interactions.ModifySelect&&this.getMap().removeInteraction(this._interactions.ModifySelect)),h["a"].prototype.setMap.call(this,t),this.getMap()&&(this._interactions.Delete&&this.getMap().addInteraction(this._interactions.Delete),this._interactions.ModifySelect&&this.getMap().addInteraction(this._interactions.ModifySelect))},$.prototype.getInteraction=function(t){return this._interactions[t]},$.prototype._getTitle=function(t){return t&&t.title?t.title:t},$.prototype._setSelectInteraction=function(t){var e,i=this,o=new h["a"];if(!1!==t.interactions.Delete){t.interactions.Delete instanceof v?this._interactions.Delete=t.interactions.Delete:this._interactions.Delete=new v;var r=this._interactions.Delete;r.setActive(!1),this.getMap()&&this.getMap().addInteraction(r),o.addControl(new l["a"]({className:"ol-delete",title:this._getTitle(t.interactions.Delete)||"Delete",handleClick:function(t){r.delete(e.getInteraction().getFeatures()),console.log("del");var i={type:"select",selected:[],deselected:e.getInteraction().getFeatures().getArray().slice(),mapBrowserEvent:t.mapBrowserEvent};e.getInteraction().getFeatures().clear(),e.getInteraction().dispatchEvent(i)}}))}if(!1!==t.interactions.Info&&o.addControl(new l["a"]({className:"ol-info",title:this._getTitle(t.interactions.Info)||"Show informations",handleClick:function(){i.dispatchEvent({type:"info",features:e.getInteraction().getFeatures()})}})),!1!==t.interactions.Select){t.interactions.Select instanceof c["a"]?this._interactions.Select=t.interactions.Select:this._interactions.Select=new c["a"]({condition:n["d"]});var s=this._interactions.Select;e=new d({className:"ol-selection",title:this._getTitle(t.interactions.Select)||"Select",interaction:s,bar:o.getControls().length?o:void 0,autoActivate:!0,active:!0}),this.addControl(e),s.on("change:active",function(){s.getFeatures().clear()})}},$.prototype._setEditInteraction=function(t){if(!1!==t.interactions.DrawPoint){t.interactions.DrawPoint instanceof r["a"]?this._interactions.DrawPoint=t.interactions.DrawPoint:this._interactions.DrawPoint=new r["a"]({type:"Point",source:this._source});var e=new d({className:"ol-drawpoint",title:this._getTitle(t.interactions.DrawPoint)||"Point",interaction:this._interactions.DrawPoint});this.addControl(e)}if(!1!==t.interactions.DrawLine){t.interactions.DrawLine instanceof r["a"]?this._interactions.DrawLine=t.interactions.DrawLine:this._interactions.DrawLine=new r["a"]({type:"LineString",source:this._source,geometryFunction:function(t,e){return e?e.setCoordinates(t):e=new s["a"](t),this.nbpts=e.getCoordinates().length,e}});var i=new d({className:"ol-drawline",title:this._getTitle(t.interactions.DrawLine)||"LineString",interaction:this._interactions.DrawLine,bar:new h["a"]({controls:[new f({html:this._getTitle(t.interactions.UndoDraw)||"undo",title:this._getTitle(t.interactions.UndoDraw)||"delete last point",handleClick:function(){i.getInteraction().nbpts>1&&i.getInteraction().removeLastPoint()}}),new f({html:this._getTitle(t.interactions.FinishDraw)||"finish",title:this._getTitle(t.interactions.FinishDraw)||"finish",handleClick:function(){i.getInteraction().nbpts>2&&i.getInteraction().finishDrawing()}})]})});this.addControl(i)}if(!1!==t.interactions.DrawPolygon&&(t.interactions.DrawPolygon instanceof r["a"]?this._interactions.DrawPolygon=t.interactions.DrawPolygon:this._interactions.DrawPolygon=new r["a"]({type:"Polygon",source:this._source,geometryFunction:function(t,e){return this.nbpts=t[0].length,e?e.setCoordinates([t[0].concat([t[0][0]])]):e=new a["a"](t),e}}),this._setDrawPolygon("ol-drawpolygon",this._interactions.DrawPolygon,this._getTitle(t.interactions.DrawPolygon)||"Polygon",t)),!1!==t.interactions.DrawHole&&(t.interactions.DrawHole instanceof Q?this._interactions.DrawHole=t.interactions.DrawHole:this._interactions.DrawHole=new Q,this._setDrawPolygon("ol-drawhole",this._interactions.DrawHole,this._getTitle(t.interactions.DrawHole)||"Hole",t)),!1!==t.interactions.DrawRegular){t.interactions.DrawRegular instanceof B?this._interactions.DrawRegular=t.interactions.DrawRegular:this._interactions.DrawRegular=new B({source:this._source,sides:4});var o=this._interactions.DrawRegular,n=document.createElement("DIV"),c=m["a"].create("DIV",{parent:n});m["a"].addListener(c,["click","touchstart"],function(){var t=o.getSides()-1;t<2&&(t=2),o.setSides(t),l.textContent=t>2?t+" pts":"circle"}.bind(this));var l=m["a"].create("TEXT",{html:"4 pts",parent:n}),u=m["a"].create("DIV",{parent:n});m["a"].addListener(u,["click","touchstart"],function(){var t=o.getSides()+1;t<3&&(t=3),o.setSides(t),l.textContent=t+" pts"}.bind(this));var p=new d({className:"ol-drawregular",title:this._getTitle(t.interactions.DrawRegular)||"Regular",interaction:this._interactions.DrawRegular,bar:new h["a"]({controls:[new f({html:n})]})});this.addControl(p)}},$.prototype._setDrawPolygon=function(t,e,i,o){var n=new d({className:t,title:i,interaction:e,bar:new h["a"]({controls:[new f({html:this._getTitle(o.interactions.UndoDraw)||"undo",title:this._getTitle(o.interactions.UndoDraw)||"undo last point",handleClick:function(){n.getInteraction().nbpts>1&&n.getInteraction().removeLastPoint()}}),new f({html:this._getTitle(o.interactions.FinishDraw)||"finish",title:this._getTitle(o.interactions.FinishDraw)||"finish",handleClick:function(){n.getInteraction().nbpts>3&&n.getInteraction().finishDrawing()}})]})});this.addControl(n)},$.prototype._setModifyInteraction=function(t){if(!1!==t.interactions.ModifySelect&&!1!==t.interactions.Select&&(t.interactions.ModifySelect instanceof X?this._interactions.ModifySelect=t.interactions.ModifySelect:this._interactions.ModifySelect=new X({features:this.getInteraction("Select").getFeatures()}),this.getMap()&&this.getMap().addInteraction(this._interactions.ModifySelect),this._interactions.ModifySelect.setActive(this._interactions.Select.getActive()),this._interactions.Select.on("change:active",function(){this._interactions.ModifySelect.setActive(this._interactions.Select.getActive())}.bind(this))),!1!==t.interactions.Transform){t.interactions.Transform instanceof z?this._interactions.Transform=t.interactions.Transform:this._interactions.Transform=new z({addCondition:n["l"]});var e=new d({html:"<i></i>",className:"ol-transform",title:this._getTitle(t.interactions.Transform)||"Transform",interaction:this._interactions.Transform});this.addControl(e)}if(!1!==t.interactions.Split){t.interactions.Split instanceof G?this._interactions.Split=t.interactions.Split:this._interactions.Split=new G({sources:this._source});var i=new d({className:"ol-split",title:this._getTitle(t.interactions.Split)||"Split",interaction:this._interactions.Split});this.addControl(i)}if(!1!==t.interactions.Offset){t.interactions.Offset instanceof A?this._interactions.Offset=t.interactions.Offset:this._interactions.Offset=new A({source:this._source});var o=new d({html:"<i></i>",className:"ol-offset",title:this._getTitle(t.interactions.Offset)||"Offset",interaction:this._interactions.Offset});this.addControl(o)}};e["a"]=$},cfd3:function(t,e,i){"use strict";var o=i("c2d3"),n=i("3900"),r=function(t){t=t||{};var e=document.createElement("button"),i=document.createElement("div");i.className=(t.className||"ol-swipe")+" ol-unselectable ol-control",i.appendChild(e),i.addEventListener("mousedown",this.move.bind(this)),i.addEventListener("touchstart",this.move.bind(this)),n["a"].call(this,{element:i}),this.precomposeRight_=this.precomposeRight.bind(this),this.precomposeLeft_=this.precomposeLeft.bind(this),this.postcompose_=this.postcompose.bind(this),this.layers=[],t.layers&&this.addLayer(t.layers,!1),t.rightLayers&&this.addLayer(t.rightLayers,!0),this.on("propertychange",function(){this.getMap()&&this.getMap().renderSync(),"horizontal"===this.get("orientation")?(this.element.style.top=100*this.get("position")+"%",this.element.style.left=""):("vertical"!==this.get("orientation")&&this.set("orientation","vertical"),this.element.style.left=100*this.get("position")+"%",this.element.style.top=""),this.element.classList.remove("horizontal","vertical"),this.element.classList.add(this.get("orientation"))}.bind(this)),this.set("position",t.position||.5),this.set("orientation",t.orientation||"vertical")};Object(o["a"])(r,n["a"]),r.prototype.setMap=function(t){var e,i;if(this.getMap()){for(e=0;e<this.layers.length;e++)i=this.layers[e],i.right?i.layer.un(["precompose","prerender"],this.precomposeRight_):i.layer.un(["precompose","prerender"],this.precomposeLeft_),i.layer.un(["postcompose","postrender"],this.postcompose_);this.getMap().renderSync()}if(n["a"].prototype.setMap.call(this,t),t){for(this._listener=[],e=0;e<this.layers.length;e++)i=this.layers[e],i.right?i.layer.on(["precompose","prerender"],this.precomposeRight_):i.layer.on(["precompose","prerender"],this.precomposeLeft_),i.layer.on(["postcompose","postrender"],this.postcompose_);t.renderSync()}},r.prototype.isLayer_=function(t){for(var e=0;e<this.layers.length;e++)if(this.layers[e].layer===t)return e;return-1},r.prototype.addLayer=function(t,e){t instanceof Array||(t=[t]);for(var i=0;i<t.length;i++){var o=t[i];this.isLayer_(o)<0&&(this.layers.push({layer:o,right:e}),this.getMap()&&(e?o.on(["precompose","prerender"],this.precomposeRight_):o.on(["precompose","prerender"],this.precomposeLeft_),o.on(["postcompose","postrender"],this.postcompose_),this.getMap().renderSync()))}},r.prototype.removeLayer=function(t){t instanceof Array||(t=[t]);for(var e=0;e<t.length;e++){var i=this.isLayer_(t[e]);i>=0&&this.getMap()&&(this.layers[i].right?t[e].un(["precompose","prerender"],this.precomposeRight_):t[e].un(["precompose","prerender"],this.precomposeLeft_),t[e].un(["postcompose","postrender"],this.postcompose_),this.layers.splice(i,1),this.getMap().renderSync())}},r.prototype.move=function(t){var e,i=this;switch(t.type){case"touchcancel":case"touchend":case"mouseup":i.isMoving=!1,["mouseup","mousemove","touchend","touchcancel","touchmove"].forEach(function(t){document.removeEventListener(t,i.move)});break;case"mousedown":case"touchstart":i.isMoving=!0,["mouseup","mousemove","touchend","touchcancel","touchmove"].forEach(function(t){document.addEventListener(t,i.move.bind(i))});case"mousemove":case"touchmove":if(i.isMoving)if("vertical"===i.get("orientation")){var o=t.pageX||t.touches&&t.touches.length&&t.touches[0].pageX||t.changedTouches&&t.changedTouches.length&&t.changedTouches[0].pageX;if(!o)break;o-=i.getMap().getTargetElement().getBoundingClientRect().left+window.pageXOffset-document.documentElement.clientLeft,e=i.getMap().getSize()[0],e=Math.min(Math.max(0,1-(e-o)/e),1),i.set("position",e)}else{var n=t.pageY||t.touches&&t.touches.length&&t.touches[0].pageY||t.changedTouches&&t.changedTouches.length&&t.changedTouches[0].pageY;if(!n)break;n-=i.getMap().getTargetElement().getBoundingClientRect().top+window.pageYOffset-document.documentElement.clientTop,e=i.getMap().getSize()[1],e=Math.min(Math.max(0,1-(e-n)/e),1),i.set("position",e)}break;default:break}},r.prototype.precomposeLeft=function(t){var e=t.context,i=e.canvas;e.save(),e.beginPath(),"vertical"===this.get("orientation")?e.rect(0,0,i.width*this.get("position"),i.height):e.rect(0,0,i.width,i.height*this.get("position")),e.clip()},r.prototype.precomposeRight=function(t){var e=t.context,i=e.canvas;e.save(),e.beginPath(),"vertical"===this.get("orientation")?e.rect(i.width*this.get("position"),0,i.width,i.height):e.rect(0,i.height*this.get("position"),i.width,i.height),e.clip()},r.prototype.postcompose=function(t){t.context.restore()},e["a"]=r},d803:function(t,e,i){"use strict";var o=i("c2d3"),n=i("4334"),r=i("3e6b"),s=i("35a7"),a=i("5831");(function(){var t=a["a"].prototype.clear;a["a"].prototype.clear=function(e){this.dispatchEvent({type:"clearstart"}),t.call(this,e),this.dispatchEvent({type:"clearend"})}})();var c=function(t){t||(t={}),n["a"].call(this,{handleEvent:function(){return!0}}),this._undoStack=[],this._redoStack=[],this._block=0,this._record=!0,this._defs={}};Object(o["a"])(c,n["a"]),c.prototype.define=function(t,e,i){this._defs["_"+t]={undo:e,redo:i}},c.prototype.push=function(t,e){return!!this._defs["_"+t]&&(this._undoStack.push({type:"_"+t,prop:e}),!0)},c.prototype.setActive=function(t){n["a"].prototype.setActive.call(this,t),this._record=t},c.prototype.setMap=function(t){n["a"].prototype.setMap.call(this,t),this._watchSources(),this._watchInteractions()},c.prototype._watchSources=function(){var t=this.getMap();function e(t,i){return i||(i=[]),t.forEach(function(t){t instanceof r["a"]?i.push(t):t.getLayers&&e(t.getLayers(),i)}),i}if(this._sourceListener&&this._sourceListener.forEach(function(t){Object(s["b"])(t)}),this._sourceListener=[],t){var i=e(t.getLayers());i.forEach(function(t){var e=t.getSource();this._sourceListener.push(e.on(["addfeature","removefeature"],this._onAddRemove.bind(this))),this._sourceListener.push(e.on("clearstart",this.blockStart.bind(this))),this._sourceListener.push(e.on("clearend",this.blockEnd.bind(this)))}.bind(this)),this._sourceListener.push(t.getLayers().on(["add","remove"],this._watchSources.bind(this)))}},c.prototype._watchInteractions=function(){var t=this.getMap();this._interactionListener&&this._interactionListener.forEach(function(t){Object(s["b"])(t)}),this._interactionListener=[],t&&(t.getInteractions().forEach(function(t){this._interactionListener.push(t.on(["setattributestart","modifystart","rotatestart","translatestart","scalestart","deletestart","deleteend","beforesplit","aftersplit"],this._onInteraction.bind(this)))}.bind(this)),this._interactionListener.push(t.getInteractions().on(["add","remove"],this._watchInteractions.bind(this))))},c.prototype._onAddRemove=function(t){this._record&&(this._undoStack.push({type:t.type,source:t.target,feature:t.feature}),this._redoStack=[])},c.prototype._onInteraction=function(t){var e=this._onInteraction[t.type];e&&e.call(this,t)},c.prototype._onInteraction.setattributestart=function(t){this.blockStart();var e=Object.assign({},t.properties);t.features.forEach(function(t){var i={};for(var o in e)i[o]=t.get(o);this._undoStack.push({type:"changeattribute",feature:t,newProperties:e,oldProperties:i})}.bind(this)),this.blockEnd()},c.prototype._onInteraction.rotatestart=c.prototype._onInteraction.translatestart=c.prototype._onInteraction.scalestart=c.prototype._onInteraction.modifystart=function(t){this.blockStart(),t.features.forEach(function(t){this._undoStack.push({type:"changefeature",feature:t,oldFeature:t.clone()})}.bind(this)),this.blockEnd()},c.prototype.blockStart=function(){this._undoStack.push({type:"blockstart"}),this._redoStack=[]},c.prototype._onInteraction.beforesplit=c.prototype._onInteraction.deletestart=c.prototype.blockStart,c.prototype.blockEnd=function(){this._undoStack.push({type:"blockend"})},c.prototype._onInteraction.aftersplit=c.prototype._onInteraction.deleteend=c.prototype.blockEnd,c.prototype._handleDo=function(t,e){if(this.getActive()){switch(this._record=!1,t.type){case"addfeature":e?t.source.removeFeature(t.feature):t.source.addFeature(t.feature);break;case"removefeature":e?t.source.addFeature(t.feature):t.source.removeFeature(t.feature);break;case"changefeature":var i=t.feature.getGeometry();t.feature.setGeometry(t.oldFeature.getGeometry()),t.oldFeature.setGeometry(i);break;case"changeattribute":var o=t.newProperties,n=t.oldProperties;for(var r in n)void 0===n?t.feature.unset(r):t.feature.set(r,n[r]);t.oldProperties=o,t.newProperties=n;break;case"blockstart":this._block+=e?-1:1;break;case"blockend":this._block+=e?1:-1;break;default:this._defs[t.type]?e?this._defs[t.type].undo(t.prop):this._defs[t.type].redo(t.prop):console.warn('[UndoRedoInteraction]: "'+t.type.substr(1)+'" is not defined.')}this._block<0&&(this._block=0),this._block&&(e?this.undo():this.redo()),this._record=!0,this.dispatchEvent({type:e?"undo":"redo",action:t})}},c.prototype.undo=function(){var t=this._undoStack.pop();t&&(this._redoStack.push(t),this._handleDo(t,!0))},c.prototype.redo=function(){var t=this._redoStack.pop();t&&(this._undoStack.push(t),this._handleDo(t,!1))},c.prototype.clear=function(){this._undoStack=[],this._redoStack=[]},c.prototype.hasUndo=function(){return this._undoStack.length},c.prototype.hasRedo=function(){return this._redoStack.length};e["a"]=c},da5c:function(t,e,i){"use strict";var o=function(){this.disposed_=!1};o.prototype.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())},o.prototype.disposeInternal=function(){},e["a"]=o},dc07:function(t,e,i){"use strict";i.d(e,"a",function(){return n});var o=function(t,e,i,o){this.minX=t,this.maxX=e,this.minY=i,this.maxY=o};function n(t,e,i,n,r){return void 0!==r?(r.minX=t,r.maxX=e,r.minY=i,r.maxY=n,r):new o(t,e,i,n)}o.prototype.contains=function(t){return this.containsXY(t[1],t[2])},o.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},o.prototype.containsXY=function(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY},o.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},o.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},o.prototype.getHeight=function(){return this.maxY-this.minY+1},o.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},o.prototype.getWidth=function(){return this.maxX-this.minX+1},o.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY},e["b"]=o},de46:function(t,e,i){"use strict";var o=i("509b"),n=function(t){function e(e,i,o,n,r){t.call(this,e,i,o.originalEvent,n,r),this.pointerEvent=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(o["a"]);e["a"]=n},e269:function(t,e,i){"use strict";i.d(e,"b",function(){return u});var o=i("1300"),n=i("7b4f"),r=i("35a7"),s=i("cef7"),a=i("38f3"),c=function(t){function e(e,i,o){t.call(this,e),this.key=i,this.oldValue=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(s["a"]),h=function(t){function e(e){t.call(this),Object(o["c"])(this),this.values_={},void 0!==e&&this.setProperties(e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){var e;return this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e},e.prototype.getKeys=function(){return Object.keys(this.values_)},e.prototype.getProperties=function(){return Object(a["a"])({},this.values_)},e.prototype.notify=function(t,e){var i;i=u(t),this.dispatchEvent(new c(i,t,e)),i=n["a"].PROPERTYCHANGE,this.dispatchEvent(new c(i,t,e))},e.prototype.set=function(t,e,i){if(i)this.values_[t]=e;else{var o=this.values_[t];this.values_[t]=e,o!==e&&this.notify(t,o)}},e.prototype.setProperties=function(t,e){for(var i in t)this.set(i,t[i],e)},e.prototype.unset=function(t,e){if(t in this.values_){var i=this.values_[t];delete this.values_[t],e||this.notify(t,i)}},e}(r["a"]),l={};function u(t){return l.hasOwnProperty(t)?l[t]:l[t]="change:"+t}e["a"]=h},e300:function(t,e,i){"use strict";var o=i("835b"),n=i("183a"),r=i("e269"),s=i("cef7"),a={LENGTH:"length"},c=function(t){function e(e,i){t.call(this,e),this.element=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(s["a"]),h=function(t){function e(e,i){t.call(this);var o=i||{};if(this.unique_=!!o.unique,this.array_=e||[],this.unique_)for(var n=0,r=this.array_.length;n<r;++n)this.assertUnique_(this.array_[n],n);this.updateLength_()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clear=function(){while(this.getLength()>0)this.pop()},e.prototype.extend=function(t){for(var e=0,i=t.length;e<i;++e)this.push(t[e]);return this},e.prototype.forEach=function(t){for(var e=this.array_,i=0,o=e.length;i<o;++i)t(e[i],i,e)},e.prototype.getArray=function(){return this.array_},e.prototype.item=function(t){return this.array_[t]},e.prototype.getLength=function(){return this.get(a.LENGTH)},e.prototype.insertAt=function(t,e){this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new c(n["a"].ADD,e))},e.prototype.pop=function(){return this.removeAt(this.getLength()-1)},e.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},e.prototype.remove=function(t){for(var e=this.array_,i=0,o=e.length;i<o;++i)if(e[i]===t)return this.removeAt(i)},e.prototype.removeAt=function(t){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new c(n["a"].REMOVE,e)),e},e.prototype.setAt=function(t,e){var i=this.getLength();if(t<i){this.unique_&&this.assertUnique_(e,t);var o=this.array_[t];this.array_[t]=e,this.dispatchEvent(new c(n["a"].REMOVE,o)),this.dispatchEvent(new c(n["a"].ADD,e))}else{for(var r=i;r<t;++r)this.insertAt(r,void 0);this.insertAt(t,e)}},e.prototype.updateLength_=function(){this.set(a.LENGTH,this.array_.length)},e.prototype.assertUnique_=function(t,e){for(var i=0,n=this.array_.length;i<n;++i)if(this.array_[i]===t&&i!==e)throw new o["a"](58)},e}(r["a"]);e["a"]=h},e887:function(t,e,i){"use strict";var o=i("c2d3"),n=i("3900"),r=i("6f9e"),s=function(t){t=t||{};var e=document.createElement("div");e.className=(t.className||"")+" ol-button ol-unselectable ol-control";var i=this,o=this.button_=document.createElement(/ol-text-button/.test(t.className)?"div":"button");o.type="button",t.title&&(o.title=t.title),t.html instanceof Element?o.appendChild(t.html):o.innerHTML=t.html||"";var r=function(e){e&&e.preventDefault&&(e.preventDefault(),e.stopPropagation()),t.handleClick&&t.handleClick.call(i,e)};o.addEventListener("click",r),o.addEventListener("touchstart",r),e.appendChild(o),!t.title&&o.firstElementChild&&(o.title=o.firstElementChild.title),n["a"].call(this,{element:e,target:t.target}),t.title&&this.set("title",t.title),t.title&&this.set("title",t.title),t.name&&this.set("name",t.name)};Object(o["a"])(s,n["a"]),s.prototype.setVisible=function(t){t?r["a"].show(this.element):r["a"].hide(this.element)},s.prototype.setTitle=function(t){this.button_.setAttribute("title",t)},s.prototype.setHtml=function(t){r["a"].setHTML(this.button_,t)},e["a"]=s},ed9b:function(t,e,i){"use strict";var o=i("1300"),n=i("0ec0"),r=i("01d4"),s=function(t){function e(e,i,o,n){t.call(this),this.extent=e,this.pixelRatio_=o,this.resolution=i,this.state=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.changed=function(){this.dispatchEvent(r["a"].CHANGE)},e.prototype.getExtent=function(){return this.extent},e.prototype.getImage=function(){return Object(o["b"])()},e.prototype.getPixelRatio=function(){return this.pixelRatio_},e.prototype.getResolution=function(){return this.resolution},e.prototype.getState=function(){return this.state},e.prototype.load=function(){Object(o["b"])()},e}(n["a"]),a=s,c=i("869f"),h=function(t){function e(e,i,o,n,r){var s=void 0!==r?c["a"].IDLE:c["a"].LOADED;t.call(this,e,i,o,s),this.loader_=void 0!==r?r:null,this.canvas_=n,this.error_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getError=function(){return this.error_},e.prototype.handleLoad_=function(t){t?(this.error_=t,this.state=c["a"].ERROR):this.state=c["a"].LOADED,this.changed()},e.prototype.load=function(){this.state==c["a"].IDLE&&(this.state=c["a"].LOADING,this.changed(),this.loader_(this.handleLoad_.bind(this)))},e.prototype.getImage=function(){return this.canvas_},e}(a);e["a"]=h},f087:function(t,e,i){"use strict";var o=i("c2d3"),n=i("3900"),r=function(t){t||(t={});var e=document.createElement("div");if(e.classList.add("ol-unselectable","ol-control","ol-bar"),t.className){var i=t.className.split(" ").filter(function(t){return t.length>0});e.classList.add.apply(e.classList,i)}if(t.group&&e.classList.add("ol-group"),n["a"].call(this,{element:e,target:t.target}),this.set("toggleOne",t.toggleOne),this.set("autoDeactivate",t.autoDeactivate),this.controls_=[],t.controls instanceof Array)for(var o=0;o<t.controls.length;o++)this.addControl(t.controls[o])};Object(o["a"])(r,n["a"]),r.prototype.setVisible=function(t){this.element.style.display=t?"":"none"},r.prototype.getVisible=function(){return"none"!=this.element.style.display},r.prototype.setMap=function(t){n["a"].prototype.setMap.call(this,t);for(var e=0;e<this.controls_.length;e++){var i=this.controls_[e];i.setMap(t)}},r.prototype.getControls=function(){return this.controls_},r.prototype.setPosition=function(t){this.element.classList.remove("ol-left","ol-top","ol-bottom","ol-right"),t=t.split("-");for(var e=0;e<t.length;e++)switch(t[e]){case"top":case"left":case"bottom":case"right":this.element.classList.add("ol-"+t[e]);break;default:break}},r.prototype.addControl=function(t){this.controls_.push(t),t.setTarget(this.element),this.getMap()&&this.getMap().addControl(t),t.on("change:active",this.onActivateControl_.bind(this)),t.getActive&&t.getActive()&&t.dispatchEvent({type:"change:active",key:"active",oldValue:!1,active:!0})},r.prototype.deactivateControls=function(t){for(var e=0;e<this.controls_.length;e++)this.controls_[e]!==t&&this.controls_[e].setActive&&this.controls_[e].setActive(!1)},r.prototype.getActiveControls=function(){for(var t,e=[],i=0;t=this.controls_[i];i++)t.getActive&&t.getActive()&&e.push(t);return e},r.prototype.setActive=function(t){if(!t&&this.get("autoDeactivate")&&this.deactivateControls(),t)for(var e,i=this.getControls(),o=0;e=i[o];o++)e.get("autoActivate")&&e.setActive(!0)},r.prototype.onActivateControl_=function(t){if(this.get("toggleOne"))if(t.active){var e,i=t.target;for(e=0;e<this.controls_.length;e++)if(this.controls_[e]===i)break;if(e==this.controls_.length)return;this.deactivateControls(this.controls_[e])}else if(!this.getActiveControls().length)for(var o,n=0;o=this.controls_[n];n++)if(o.get("autoActivate")){o.setActive(!0);break}},r.prototype.getControlsByName=function(t){var e=this.getControls();return e.filter(function(e){return e.get("name")===t})},e["a"]=r},faaa:function(t,e,i){}}]);
//# sourceMappingURL=chunk-2b644eba.d8d236a9.js.map