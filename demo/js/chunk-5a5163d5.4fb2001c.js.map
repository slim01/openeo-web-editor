{"version":3,"sources":["webpack:///./node_modules/ol/geom/flat/textpath.js","webpack:///./node_modules/ol/events/EventType.js","webpack:///./node_modules/ol-ext/util/element.js","webpack:///./node_modules/ol-ext/control/LayerSwitcher.js","webpack:///./node_modules/ol/extent/Relationship.js","webpack:///./node_modules/ol/events/condition.js","webpack:///./node_modules/ol/dom.js","webpack:///./node_modules/ol/extent.js","webpack:///./node_modules/ol/MapBrowserEventType.js","webpack:///./node_modules/ol/events/Target.js","webpack:///./node_modules/ol/events/KeyCode.js","webpack:///./node_modules/ol/CollectionEventType.js","webpack:///./node_modules/ol/geom/flat/simplify.js","webpack:///./node_modules/ol/events.js","webpack:///./node_modules/ol/Kinetic.js","webpack:///./node_modules/ol/Observable.js","webpack:///./node_modules/ol/extent/Corner.js","webpack:///./node_modules/ol/control/Control.js","webpack:///./node_modules/ol/ViewHint.js","webpack:///./node_modules/ol/Feature.js","webpack:///./node_modules/ol/geom/GeometryLayout.js","webpack:///./node_modules/ol/functions.js","webpack:///./node_modules/ol/MapEventType.js","webpack:///./node_modules/ol/geom/flat/length.js","webpack:///./node_modules/ol/geom/flat/area.js","webpack:///./node_modules/ol/geom/flat/closest.js","webpack:///./node_modules/ol/geom/flat/deflate.js","webpack:///./node_modules/ol/geom/LinearRing.js","webpack:///./node_modules/ol/geom/Point.js","webpack:///./node_modules/ol/geom/flat/contains.js","webpack:///./node_modules/ol/geom/flat/interiorpoint.js","webpack:///./node_modules/ol/geom/flat/segments.js","webpack:///./node_modules/ol/geom/flat/intersectsextent.js","webpack:///./node_modules/ol/geom/flat/reverse.js","webpack:///./node_modules/ol/geom/flat/orient.js","webpack:///./node_modules/ol/geom/Polygon.js","webpack:///./node_modules/ol/color.js","webpack:///./node_modules/ol/LayerType.js","webpack:///./node_modules/ol/Tile.js","webpack:///./node_modules/ol/MapEvent.js","webpack:///./node_modules/ol/MapBrowserEvent.js","webpack:///./node_modules/ol/MapBrowserPointerEvent.js","webpack:///./node_modules/ol/MapBrowserEventHandler.js","webpack:///./node_modules/ol/MapProperty.js","webpack:///./node_modules/ol/TileQueue.js","webpack:///./node_modules/ol/PluggableMap.js","webpack:///./node_modules/ol/Map.js","webpack:///./node_modules/ol/format/FormatType.js","webpack:///./node_modules/ol/featureloader.js","webpack:///./node_modules/ol/ObjectEventType.js","webpack:///./node_modules/ol/ImageTile.js","webpack:///./node_modules/ol/AssertionError.js","webpack:///./node_modules/ol/geom/flat/straightchunk.js","webpack:///./node_modules/ol/ImageState.js","webpack:///./node_modules/ol/TileCache.js","webpack:///./node_modules/ol/control/Attribution.js","webpack:///./node_modules/ol/control/Rotate.js","webpack:///./node_modules/ol/control/Zoom.js","webpack:///./node_modules/ol/control/util.js","webpack:///./node_modules/ol/asserts.js","webpack:///./node_modules/ol/geom/Geometry.js","webpack:///./node_modules/ol/geom/SimpleGeometry.js","webpack:///./node_modules/ol/control/ScaleLine.js","webpack:///./node_modules/ol/array.js","webpack:///./node_modules/ol/centerconstraint.js","webpack:///./node_modules/ol/ViewProperty.js","webpack:///./node_modules/ol/View.js","webpack:///./node_modules/ol/coordinate.js","webpack:///./node_modules/ol/TileState.js","webpack:///./node_modules/ol/geom/flat/inflate.js","webpack:///./node_modules/ol/geom/flat/transform.js","webpack:///./node_modules/ol-ext/util/ext.js","webpack:///./node_modules/ol/control/FullScreen.js","webpack:///./node_modules/ol/easing.js","webpack:///./node_modules/ol/css.js","webpack:///./node_modules/ol/events/Event.js","webpack:///./node_modules/ol-ext/control/Swipe.js","webpack:///./node_modules/ol/Disposable.js","webpack:///./node_modules/ol/TileRange.js","webpack:///./node_modules/ol/Object.js","webpack:///./node_modules/ol/Collection.js","webpack:///./node_modules/ol/colorlike.js","webpack:///./node_modules/ol/ImageBase.js","webpack:///./node_modules/ol/ImageCanvas.js","webpack:///./node_modules/ol/geom/GeometryType.js"],"names":["__webpack_require__","d","__webpack_exports__","drawTextOnPath","_math_js__WEBPACK_IMPORTED_MODULE_0__","flatCoordinates","offset","end","stride","text","measure","startM","maxAngle","result","reverse","numChars","length","x1","y1","data","index","previousAngle","x2","y2","segmentM","segmentLength","Math","sqrt","pow","chunk","chunkLength","i","char","charAt","charLength","charM","segmentPos","angle","atan2","PI","undefined","delta","abs","interpolate","x","Object","y","unshift","push","CHANGE","CLEAR","CONTEXTMENU","CLICK","DBLCLICK","DRAGENTER","DRAGOVER","DROP","ERROR","KEYDOWN","KEYPRESS","LOAD","MOUSEDOWN","MOUSEMOVE","MOUSEOUT","MOUSEUP","MOUSEWHEEL","MSPOINTERDOWN","RESIZE","TOUCHSTART","TOUCHMOVE","TOUCHEND","WHEEL","ol_ext_element","create","tagName","options","elt","document","createTextNode","html","parent","appendChild","attr","createElement","test","setAttribute","className","trim","Element","innerHTML","this","setStyle","style","addListener","e","on","checked","setHTML","element","appendText","eventType","fn","split","forEach","addEventListener","removeListener","removeEventListener","show","display","hide","hidden","getStyle","toggle","el","st","s","styleProp","value","defaultView","ownerDocument","getComputedStyle","replace","toLowerCase","getPropertyValue","currentStyle","str","letter","toUpperCase","oldLeft","left","oldRsLeft","runtimeStyle","pixelLeft","parseInt","outerHeight","offsetHeight","outerWidth","offsetWidth","offsetRect","rect","getBoundingClientRect","top","window","pageYOffset","documentElement","scrollTop","body","pageXOffset","scrollLeft","height","bottom","width","widtth","right","scrollDiv","pos","speed","dt","onmove","page","vertical","scroll","querySelectorAll","ondragstart","Date","classList","add","remove","mousewheel","contains","max","min","wheelDelta","detail","util_element","ol_control_LayerSwitcher","self","dcount","show_progress","oninfo","onextent","hasextent","extent","hastrash","trash","reordering","_layers","displayInLayerSwitcher","target","switcherClass","collapsed","button","type","dispatchEvent","preventDefault","overflow","mouseover","topv","click","botv","panel_","stopPropagation","header_","Control","call","set","drawDelay","ext","prototype","tip","up","down","info","plus","layer","get","setMap","map","drawPanel","_listener","Observable","change","moveend","size","getLayerGroup","bind","viewChange","isOpen","setHeader","dir","h","hp","dh","offsetTop","lh","round","_setLayerForLI","li","_getLayerForLI","l","getMap","testLayerVisibility","setTimeout","drawPanel_","dragging_","drawList","getLayers","switchLayerVisibility","layers","getVisible","setVisible","res","getView","getResolution","getMaxResolution","getMinResolution","ex0","getExtent","ex","calculateExtent","getSize","dragOrdering_","pageY","dragElt","group","currentTarget","parentNode","start","panel","pageY0","touches","changedTouches","stop","drop","collection","getArray","removeAt","j","insertAt","move","position","z-index","offsetLeft","opacity","elementFromPoint","clientX","clientY","dragOpacity_","pageX","nextElementSibling","setOpacity","ul","setVisibility","onInfo","zoomExtent","fit","removeLayer","getLength","layer_buttons","title","unselectable","userSelect","mousedown touchstart","nb","Tile","p","setprogress_","layerswitcher_progress","op","offsetX","getOpacity","ul2","Vector","VectorTile","Image","Heatmap","loaded","loading","draw","toFixed","getSource","UNKNOWN","INTERSECTING","ABOVE","RIGHT","BELOW","LEFT","altShiftKeysOnly","focus","always","mouseActionButton","noModifierKeys","shiftKeyOnly","targetNotEditable","mouseOnly","_asserts_js__WEBPACK_IMPORTED_MODULE_1__","_functions_js__WEBPACK_IMPORTED_MODULE_2__","_has_js__WEBPACK_IMPORTED_MODULE_3__","mapBrowserEvent","originalEvent","altKey","metaKey","ctrlKey","shiftKey","event","getTargetElement","activeElement","pointerEvent","pointerType","createCanvasContext2D","opt_width","opt_height","canvas","getContext","replaceNode","newNode","oldNode","replaceChild","removeNode","node","removeChild","removeChildren","lastChild","boundingExtent","buffer","clone","closestSquaredDistanceXY","containsCoordinate","containsExtent","containsXY","coordinateRelationship","createEmpty","createOrUpdate","createOrUpdateEmpty","createOrUpdateFromCoordinate","createOrUpdateFromCoordinates","createOrUpdateFromFlatCoordinates","equals","extend","extendCoordinate","extendFlatCoordinates","forEachCorner","getArea","getBottomLeft","getBottomRight","getCenter","getCorner","getForViewAndSize","getHeight","getIntersection","getTopLeft","getTopRight","getWidth","intersects","isEmpty","returnOrUpdate","scaleFromCenter","intersectsSegment","applyTransform","_asserts_js__WEBPACK_IMPORTED_MODULE_0__","_extent_Corner_js__WEBPACK_IMPORTED_MODULE_1__","_extent_Relationship_js__WEBPACK_IMPORTED_MODULE_2__","coordinates","ii","_boundingExtentXYs","xs","ys","opt_extent","minX","apply","minY","maxX","maxY","slice","dx","dy","coordinate","extent1","extent2","relationship","Infinity","extendCoordinates","extendXY","callback","opt_this","val","area","corner","BOTTOM_LEFT","BOTTOM_RIGHT","TOP_LEFT","TOP_RIGHT","center","resolution","rotation","cosRotation","cos","sinRotation","sin","xCos","xSin","yCos","ySin","x0","x3","y0","y3","intersection","deltaX","deltaY","startRel","endRel","startX","startY","endX","endY","slope","transformFn","_events_EventType_js__WEBPACK_IMPORTED_MODULE_0__","SINGLECLICK","POINTERDRAG","POINTERMOVE","POINTERDOWN","POINTERUP","POINTEROVER","POINTEROUT","POINTERENTER","POINTERLEAVE","POINTERCANCEL","_Disposable_js__WEBPACK_IMPORTED_MODULE_0__","_events_js__WEBPACK_IMPORTED_MODULE_1__","_Event_js__WEBPACK_IMPORTED_MODULE_3__","Target","Disposable","pendingRemovals_","dispatching_","listeners_","__proto__","constructor","listener","listeners","indexOf","evt","propagate","propagationStopped","pendingRemovals","disposeInternal","getListeners","hasListener","opt_type","keys","splice","UP","DOWN","ADD","REMOVE","douglasPeucker","snap","quantizeArray","squaredTolerance","simplifiedFlatCoordinates","simplifiedOffset","n","markers","Array","stack","last","pop","first","maxSquaredDistance","squaredDistance","i$1","tolerance","quantize","dx1","dy1","dx2","dy2","ends","simplifiedEnds","listen","listenOnce","unlisten","unlistenByKey","unlistenAll","_obj_js__WEBPACK_IMPORTED_MODULE_0__","bindListener","listenerObj","boundListener","bindTo","callOnce","findListener","opt_setDeleteIndex","deleteIndex","listenerMap","getListenerMap","opt_create","ol_lm","removeListenerMap","removeListeners","opt_once","key","Kinetic","decay","minVelocity","delay","decay_","minVelocity_","delay_","points_","angle_","initialVelocity_","begin","update","now","lastIndex","firstIndex","duration","getDistance","getAngle","unByKey","_events_js__WEBPACK_IMPORTED_MODULE_0__","_events_Target_js__WEBPACK_IMPORTED_MODULE_1__","_events_EventType_js__WEBPACK_IMPORTED_MODULE_2__","EventTarget","revision_","changed","getRevision","isArray","len","once","un","_functions_js__WEBPACK_IMPORTED_MODULE_0__","_MapEventType_js__WEBPACK_IMPORTED_MODULE_1__","_Object_js__WEBPACK_IMPORTED_MODULE_2__","_dom_js__WEBPACK_IMPORTED_MODULE_3__","_events_js__WEBPACK_IMPORTED_MODULE_4__","BaseObject","target_","map_","listenerKeys","render","setTarget","getOverlayContainerStopEvent","POSTRENDER","getElementById","ANIMATING","INTERACTING","_Object_js__WEBPACK_IMPORTED_MODULE_3__","Feature","opt_geometryOrProperties","id_","geometryName_","style_","styleFunction_","geometryChangeKey_","handleGeometryChanged_","getSimplifiedGeometry","geometry","setGeometry","properties","setProperties","getProperties","setGeometryName","getGeometryName","getGeometry","getId","getStyleFunction","handleGeometryChange_","createStyleFunction","setId","id","name","obj","styles","getZIndex","XY","XYZ","XYM","XYZM","TRUE","FALSE","VOID","MOVESTART","MOVEEND","lineStringLength","area_linearRing","twiceArea","area_linearRings","assignClosest","offset1","offset2","closestPoint","t","math","maxSquaredDelta","squaredDelta","arrayMaxSquaredDelta","assignClosestPoint","maxDelta","isRing","minSquaredDistance","opt_tmpPoint","tmpPoint","NaN","assignClosestArrayPoint","deflateCoordinate","deflateCoordinates","deflateCoordinatesArray","coordinatess","opt_ends","jj","LinearRing_LinearRing","SimpleGeometry","LinearRing","opt_layout","maxDelta_","maxDeltaRevision_","setCoordinates","setFlatCoordinates","layout","closestPointXY","ol_extent","getCoordinates","inflate","getSimplifiedGeometryInternal","simplify","GeometryLayout","getType","GeometryType","LINEAR_RING","intersectsExtent","setLayout","geom_SimpleGeometry","geom_LinearRing","Point_Point","Point","point","computeExtent","POINT","geom_Point","linearRingContainsExtent","outside","linearRingContainsXY","wn","linearRingsContainsXY","getInteriorPointOfArray","flatCenters","flatCentersOffset","opt_dest","intersections","r","rr","pointX","maxSegmentLength","sort","array","isNaN","ret","point1","point2","intersectsLineString","coordinatesExtent","intersectsLinearRing","intersectsLinearRingArray","reverse_coordinates","tmp","linearRingIsClockwise","edge","linearRingIsOriented","opt_right","isClockwise","orientLinearRings","fromExtent","Polygon_Polygon","Polygon","ends_","flatInteriorPointRevision_","flatInteriorPoint_","orientedRevision_","orientedFlatCoordinates_","appendLinearRing","linearRing","getFlatCoordinates","getOrientedFlatCoordinates","getEnds","getFlatInteriorPoint","flatCenter","getInteriorPoint","getLinearRingCount","getLinearRing","getLinearRings","linearRings","POLYGON","asString","asArray","toString","_math_js__WEBPACK_IMPORTED_MODULE_1__","HEX_COLOR_RE_","NAMED_COLOR_RE_","color","fromNamed","rgb","fromString","MAX_CACHE_SIZE","cache","cacheSize","hasOwnProperty","fromStringInternal_","g","b","a","exec","hasAlpha","substr","Number","normalize","IMAGE","TILE","VECTOR_TILE","VECTOR","_TileState_js__WEBPACK_IMPORTED_MODULE_0__","_easing_js__WEBPACK_IMPORTED_MODULE_1__","_events_Target_js__WEBPACK_IMPORTED_MODULE_2__","_events_EventType_js__WEBPACK_IMPORTED_MODULE_3__","tileCoord","state","opt_options","interimTile","transition_","transition","transitionStarts_","getKey","getInterimTile","tile","getState","LOADED","refreshInterimChain","prev","LOADING","IDLE","getTileCoord","setState","load","getAlpha","time","inTransition","endTransition","MapEvent","Event","opt_frameState","frameState","ol_MapEvent","MapBrowserEvent","browserEvent","opt_dragging","pixel","getEventPixel","getCoordinateFromPixel","dragging","ol_MapBrowserEvent","MapBrowserPointerEvent","ol_MapBrowserPointerEvent","MapBrowserEventHandler_MapBrowserEventHandler","MapBrowserEventHandler","moveTolerance","clickTimeoutId_","dragListenerKeys_","moveTolerance_","has","down_","getViewport","activePointers_","trackedTouches_","pointerEventHandler_","PointerEventHandler","documentPointerEventHandler_","pointerdownListenerKey_","events","EventType","handlePointerDown_","relayedListenerKey_","relayEvent_","emulateClick_","newEvent","MapBrowserEventType","clearTimeout","updateActivePointers_","pointerId","handlePointerUp_","isMouseActionButton_","dispose","handlePointerMove_","isMoving_","ol_MapBrowserEventHandler","MapProperty","LAYERGROUP","SIZE","TARGET","VIEW","TileQueue_TileQueue","PriorityQueue","TileQueue","tilePriorityFunction","tileChangeCallback","tileChangeCallback_","tilesLoading_","tilesLoadingKeys_","enqueue","added","events_EventType","handleTileChange","getTilesLoading","TileState","EMPTY","ABORT","tileKey","loadMoreTiles","maxTotalLoading","maxNewLoads","newLoads","abortedTiles","getCount","dequeue","structs_PriorityQueue","ol_TileQueue","PluggableMap_PluggableMap","PluggableMap","optionsInternal","createOptionsInternal","maxTilesLoading_","maxTilesLoading","loadTilesWhileAnimating_","loadTilesWhileAnimating","loadTilesWhileInteracting_","loadTilesWhileInteracting","pixelRatio_","pixelRatio","animationDelayKey_","animationDelay_","renderFrame_","coordinateToPixelTransform_","transform","pixelToCoordinateTransform_","frameIndex_","frameState_","previousExtent_","viewPropertyListenerKey_","viewChangeListenerKey_","layerGroupPropertyListenerKeys_","viewport_","msTouchAction","touchAction","overlayContainer_","overlayContainerStopEvent_","overlayEvents","mapBrowserEventHandler_","handleMapBrowserEvent","keyboardEventTarget_","keyboardEventTarget","keyHandlerKeys_","handleBrowserEvent","controls","Collection","interactions","overlays_","overlays","overlayIdIndex_","renderer_","createRenderer","handleResize_","focus_","postRenderFunctions_","tileQueue_","getTilePriority","handleTileChange_","skippedFeatureUids_","ol_Object","handleLayerGroupChanged_","handleViewChanged_","handleSizeChanged_","handleTargetChanged_","values","control","CollectionEventType","interaction","addOverlayInternal_","overlay","Error","addControl","getControls","addInteraction","getInteractions","addLayer","addOverlay","getOverlays","cancelAnimationFrame","forEachFeatureAtPixel","hitTolerance","layerFilter","functions","forEachFeatureAtCoordinate","getFeaturesAtPixel","features","feature","forEachLayerAtPixel","hasFeatureAtPixel","hasFeatureAtCoordinate","getEventCoordinate","viewportPosition","eventPosition","getTarget","pixelToCoordinateTransform","getOverlayById","getPixelFromCoordinate","coordinateToPixelTransform","getRenderer","getOverlayContainer","tileSourceKey","tileCenter","tileResolution","wantedTiles","log","interactionsArray","getActive","cont","handleEvent","handlePostRender","tileQueue","hints","viewHints","ViewHint","reprioritize","render_EventType","RENDERCOMPLETE","animate","getLoading","dispatchRenderEvent","postRenderFunctions","targetElement","updateSize","removeLayerRenderers","dom","handleViewPropertyChanged_","view","util","ObjectEventType","PROPERTYCHANGE","layerGroup","isRendered","renderSync","requestAnimationFrame","removeControl","removeInteraction","removeOverlay","viewState","previousFrameState","ol_size","isDef","getHints","layerStatesArray","getLayerStatesArray","layerStates","skippedFeatureUids","usedTiles","renderFrame","moveStart","MapEventType","idle","setLayerGroup","setSize","setView","skipFeature","computedStyle","parseFloat","unskipFeature","Group","View","asserts","ol_PluggableMap","source","Map_Map","Map","control_util","renderer","canvas_Map","registerLayerRenderers","ImageLayer","TileLayer","VectorLayer","VectorTileLayer","FormatType","ARRAY_BUFFER","JSON","TEXT","XML","loadFeaturesXhr","url","format","success","failure","projection","xhr","XMLHttpRequest","open","responseType","onload","status","responseText","responseXML","DOMParser","parseFromString","readFeatures","featureProjection","readProjection","getLastExtent","onerror","send","featureloader_xhr","dataProjection","sourceOrTile","addFeatures","_Tile_js__WEBPACK_IMPORTED_MODULE_0__","_TileState_js__WEBPACK_IMPORTED_MODULE_1__","_dom_js__WEBPACK_IMPORTED_MODULE_2__","_events_js__WEBPACK_IMPORTED_MODULE_3__","_events_EventType_js__WEBPACK_IMPORTED_MODULE_4__","ImageTile","src","crossOrigin","tileLoadFunction","crossOrigin_","src_","image_","imageListenerKeys_","tileLoadFunction_","unlistenImage_","getBlankImage","getImage","handleImageError_","handleImageLoad_","image","naturalWidth","naturalHeight","ctx","fillStyle","fillRect","_util_js__WEBPACK_IMPORTED_MODULE_0__","AssertionError","code","path","message","matchingChunk","acos","m12","m23","x12","y12","x23","y23","chunkStart","chunkEnd","chunkM","m","_structs_LRUCache_js__WEBPACK_IMPORTED_MODULE_0__","_tilecoord_js__WEBPACK_IMPORTED_MODULE_1__","TileCache","LRUCache","opt_highWaterMark","expireCache","canExpireCache","peekLast","zKey","pruneExceptNewestZ","peekFirstKey","z","Attribution_Attribution","Attribution","ulElement_","collapsed_","overrideCollapsible_","collapsible","collapsible_","tipLabel","collapseLabel","collapseLabel_","textContent","label","label_","activeLabel","handleClick_","cssClasses","css","renderedAttributions_","renderedVisible_","collectSourceAttributions_","lookup","visibleAttributions","layerState","Layer","attributionGetter","getAttributions","attributions","getAttributionsCollapsible","setCollapsible","updateElement_","visible","handleToggle_","getCollapsible","setCollapsed","getCollapsed","control_Control","mapEvent","control_Attribution","Rotate_Rotate","Rotate","Rotate_render","callResetNorth_","resetNorth","duration_","autoHide_","autoHide","rotation_","resetNorth_","getRotation","easing","setRotation","msTransform","webkitTransform","control_Rotate","Zoom_Zoom","Zoom","zoomInLabel","zoomOutLabel","zoomInTipLabel","zoomOutTipLabel","inElement","outElement","zoomByDelta_","currentResolution","newResolution","constrainResolution","getAnimating","cancelAnimations","setResolution","control_Zoom","defaults","zoomControl","zoom","zoomOptions","rotateControl","rotate","rotateOptions","attributionControl","attribution","attributionOptions","assert","_AssertionError_js__WEBPACK_IMPORTED_MODULE_0__","assertion","errorCode","tmpTransform","ol_transform","Geometry_Geometry","Geometry","extent_","extentRevision_","simplifiedGeometryCache","simplifiedGeometryMaxMinSquaredTolerance","simplifiedGeometryRevision","getClosestPoint","opt_closestPoint","intersectsCoordinate","anchor","scale","sx","opt_sy","opt_anchor","translate","destination","sourceProj","proj","getUnits","Units","TILE_PIXELS","inCoordinates","outCoordinates","pixelExtent","projectedExtent","getWorldExtent","flat_transform","geom_Geometry","transformGeom2D","SimpleGeometry_SimpleGeometry","getFirstCoordinate","getLastCoordinate","getLayout","simplifiedGeometry","getStride","getStrideForLayout","nesting","getLayoutForStride","sy","simpleGeometry","_Object_js__WEBPACK_IMPORTED_MODULE_0__","_Control_js__WEBPACK_IMPORTED_MODULE_2__","_css_js__WEBPACK_IMPORTED_MODULE_3__","_proj_js__WEBPACK_IMPORTED_MODULE_5__","_proj_Units_js__WEBPACK_IMPORTED_MODULE_6__","UNITS_PROP","DEGREES","IMPERIAL","NAUTICAL","METRIC","US","LEADING_DIGITS","ScaleLine","innerElement_","viewState_","minWidth_","minWidth","renderedWidth_","renderedHTML_","handleUnitsChanged_","setUnits","units","pointResolutionUnits","METERS","pointResolution","getMetersPerUnit","nominalCount","suffix","metersPerDegree","count","floor","numberSafeCompareFunction","includes","arr","linearFindNearest","direction","reverseSubArray","extension","found","arr1","arr2","len1","stableSort","compareFnc","isSorted","opt_func","opt_strict","compare","every","currentVal","createExtent","none","ViewProperty","CENTER","RESOLUTION","ROTATION","DEFAULT_MIN_ZOOM","View_View","hints_","animations_","updateAnimationKey_","updateAnimations_","projection_","applyOptions_","resolutionConstraintInfo","createResolutionConstraint","maxResolution_","maxResolution","minResolution_","minResolution","zoomFactor_","zoomFactor","resolutions_","resolutions","minZoom_","minZoom","centerConstraint","createCenterConstraint","resolutionConstraint","constraint","rotationConstraint","createRotationConstraint","constraints_","options_","getUpdatedOptions_","newOptions","getZoom","var_args","arguments$1","arguments","animationCount","setCenter","setZoom","animationCallback","series","animation","complete","sourceCenter","targetCenter","sourceResolution","targetResolution","sourceRotation","targetRotation","isNoopAnimation","setHint","getInteracting","more","seriesComplete","elapsed","fraction","progress","calculateCenterZoom","calculateCenterRotate","filter","Boolean","currentCenter","getSizeFromViewport_","selector","querySelector","metrics","constrainCenter","opt_delta","opt_direction","constrainRotation","getConstraints","opt_hints","opt_size","getMaxZoom","getZoomForResolution","setMaxZoom","maxZoom","getMinZoom","setMinZoom","getProjection","getResolutions","getResolutionForExtent","xResolution","yResolution","getResolutionForValueFunction","opt_power","power","getValueForResolutionFunction","pixelResolution","nearest","getResolutionForZoom","geometryOrExtent","CIRCLE","padding","coords","cosAngle","sinAngle","minRotX","minRotY","maxRotX","maxRotY","rotX","rotY","constrainedResolution","centerRotX","centerRotY","centerX","centerY","centerOn","hint","returnValue","defaultMaxZoom","defaultZoomFactor","resolutionconstraint","defaultMaxResolution","common","defaultMinResolution","enableRotation","rotationconstraint","coordinate1","coordinate2","inflateCoordinates","opt_coordinates","inflateCoordinatesArray","opt_coordinatess","inflateMultiCoordinatesArray","endss","opt_coordinatesss","coordinatesss","transform2D","dest","anchorX","anchorY","k","ol","ol_ext_inherits","child","inherits","NodeList","_Control_js__WEBPACK_IMPORTED_MODULE_0__","_css_js__WEBPACK_IMPORTED_MODULE_1__","getChangeType","changeType","webkitRequestFullscreen","mozRequestFullScreen","msRequestFullscreen","requestFullscreen","FullScreen","cssClassName_","labelNode_","labelActive","labelActiveNode_","button_","setClassName_","isFullScreen","isFullScreenSupported","keys_","source_","handleFullScreen_","exitFullScreen","requestFullScreenWithKeys","requestFullScreen","handleFullScreenChange_","fullscreen","activeClassName","inactiveClassName","nextClassName","mozFullScreenEnabled","msFullscreenEnabled","fullscreenEnabled","webkitIsFullScreen","mozFullScreen","msFullscreenElement","fullscreenElement","mozRequestFullScreenWithKeys","exitFullscreen","msExitFullscreen","mozCancelFullScreen","webkitExitFullscreen","easeIn","easeOut","inAndOut","linear","CLASS_HIDDEN","CLASS_UNSELECTABLE","CLASS_UNSUPPORTED","CLASS_CONTROL","CLASS_COLLAPSED","getFontFamilies","font","family","fontFamily","_util_ext__WEBPACK_IMPORTED_MODULE_0__","ol_control_Control__WEBPACK_IMPORTED_MODULE_1__","ol_control_Swipe","precomposeRight_","precomposeRight","precomposeLeft_","precomposeLeft","postcompose_","postcompose","rightLayers","orientation","isLayer_","isMoving","eventName","clientLeft","clientTop","context","save","beginPath","clip","restore","disposed_","TileRange","tileRange","containsTileRange","getChangeEventType","_ObjectEventType_js__WEBPACK_IMPORTED_MODULE_1__","_Observable_js__WEBPACK_IMPORTED_MODULE_2__","_events_Event_js__WEBPACK_IMPORTED_MODULE_3__","_obj_js__WEBPACK_IMPORTED_MODULE_4__","ObjectEvent","oldValue","opt_values","values_","getKeys","notify","opt_silent","unset","changeEventTypeCache","_CollectionEventType_js__WEBPACK_IMPORTED_MODULE_1__","Property","LENGTH","CollectionEvent","opt_element","opt_array","unique_","unique","array_","assertUnique_","updateLength_","clear","f","item","elem","setAt","opt_except","asColorLike","_color_js__WEBPACK_IMPORTED_MODULE_0__","ImageBase_ImageBase","ImageBase","getPixelRatio","ol_ImageBase","ImageCanvas_ImageCanvas","ImageCanvas","opt_loader","ImageState","loader_","canvas_","error_","getError","handleLoad_","err","LINE_STRING","MULTI_POINT","MULTI_LINE_STRING","MULTI_POLYGON","GEOMETRY_COLLECTION"],"mappings":"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","file":"js/chunk-5a5163d5.4fb2001c.js","sourcesContent":["/**\n * @module ol/geom/flat/textpath\n */\nimport {lerp} from '../../math.js';\n\n\n/**\n * @param {Array<number>} flatCoordinates Path to put text on.\n * @param {number} offset Start offset of the `flatCoordinates`.\n * @param {number} end End offset of the `flatCoordinates`.\n * @param {number} stride Stride.\n * @param {string} text Text to place on the path.\n * @param {function(string):number} measure Measure function returning the\n * width of the character passed as 1st argument.\n * @param {number} startM m along the path where the text starts.\n * @param {number} maxAngle Max angle between adjacent chars in radians.\n * @return {Array<Array<*>>} The result array of null if `maxAngle` was\n * exceeded. Entries of the array are x, y, anchorX, angle, chunk.\n */\nexport function drawTextOnPath(\n  flatCoordinates, offset, end, stride, text, measure, startM, maxAngle) {\n  var result = [];\n\n  // Keep text upright\n  var reverse = flatCoordinates[offset] > flatCoordinates[end - stride];\n\n  var numChars = text.length;\n\n  var x1 = flatCoordinates[offset];\n  var y1 = flatCoordinates[offset + 1];\n  offset += stride;\n  var x2 = flatCoordinates[offset];\n  var y2 = flatCoordinates[offset + 1];\n  var segmentM = 0;\n  var segmentLength = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));\n\n  var chunk = '';\n  var chunkLength = 0;\n  var data, index, previousAngle;\n  for (var i = 0; i < numChars; ++i) {\n    index = reverse ? numChars - i - 1 : i;\n    var char = text.charAt(index);\n    chunk = reverse ? char + chunk : chunk + char;\n    var charLength = measure(chunk) - chunkLength;\n    chunkLength += charLength;\n    var charM = startM + charLength / 2;\n    while (offset < end - stride && segmentM + segmentLength < charM) {\n      x1 = x2;\n      y1 = y2;\n      offset += stride;\n      x2 = flatCoordinates[offset];\n      y2 = flatCoordinates[offset + 1];\n      segmentM += segmentLength;\n      segmentLength = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));\n    }\n    var segmentPos = charM - segmentM;\n    var angle = Math.atan2(y2 - y1, x2 - x1);\n    if (reverse) {\n      angle += angle > 0 ? -Math.PI : Math.PI;\n    }\n    if (previousAngle !== undefined) {\n      var delta = angle - previousAngle;\n      delta += (delta > Math.PI) ? -2 * Math.PI : (delta < -Math.PI) ? 2 * Math.PI : 0;\n      if (Math.abs(delta) > maxAngle) {\n        return null;\n      }\n    }\n    var interpolate = segmentPos / segmentLength;\n    var x = lerp(x1, x2, interpolate);\n    var y = lerp(y1, y2, interpolate);\n    if (previousAngle == angle) {\n      if (reverse) {\n        data[0] = x;\n        data[1] = y;\n        data[2] = charLength / 2;\n      }\n      data[4] = chunk;\n    } else {\n      chunk = char;\n      chunkLength = charLength;\n      data = [x, y, charLength / 2, angle, chunk];\n      if (reverse) {\n        result.unshift(data);\n      } else {\n        result.push(data);\n      }\n      previousAngle = angle;\n    }\n    startM += charLength;\n  }\n  return result;\n}\n\n//# sourceMappingURL=textpath.js.map","/**\n * @module ol/events/EventType\n */\n\n/**\n * @enum {string}\n * @const\n */\nexport default {\n  /**\n   * Generic change event. Triggered when the revision counter is increased.\n   * @event module:ol/events/Event~Event#change\n   * @api\n   */\n  CHANGE: 'change',\n\n  CLEAR: 'clear',\n  CONTEXTMENU: 'contextmenu',\n  CLICK: 'click',\n  DBLCLICK: 'dblclick',\n  DRAGENTER: 'dragenter',\n  DRAGOVER: 'dragover',\n  DROP: 'drop',\n  ERROR: 'error',\n  KEYDOWN: 'keydown',\n  KEYPRESS: 'keypress',\n  LOAD: 'load',\n  MOUSEDOWN: 'mousedown',\n  MOUSEMOVE: 'mousemove',\n  MOUSEOUT: 'mouseout',\n  MOUSEUP: 'mouseup',\n  MOUSEWHEEL: 'mousewheel',\n  MSPOINTERDOWN: 'MSPointerDown',\n  RESIZE: 'resize',\n  TOUCHSTART: 'touchstart',\n  TOUCHMOVE: 'touchmove',\n  TOUCHEND: 'touchend',\n  WHEEL: 'wheel'\n};\n\n//# sourceMappingURL=EventType.js.map","/** Vanilla JS helper to manipulate DOM without jQuery\n * @see https://github.com/nefe/You-Dont-Need-jQuery\n * @see https://plainjs.com/javascript/\n * @see http://youmightnotneedjquery.com/\n */\n var ol_ext_element = {};\n\n/**\n * Create an element\n * @param {string} tagName The element tag, use 'TEXT' to create a text node\n * @param {*} options\n *  @param {string} options.className className The element class name \n *  @param {Element} options.parent Parent to append the element as child\n *  @param {Element|string} options.html Content of the element\n *  @param {string} options.* Any other attribut to add to the element\n */\nol_ext_element.create = function (tagName, options) {\n  options = options || {};\n  var elt;\n  // Create text node\n  if (tagName === 'TEXT') {\n    elt = document.createTextNode(options.html||'');\n    if (options.parent) options.parent.appendChild(elt);\n  } else {\n    // Other element\n    elt = document.createElement(tagName);\n    if (/button/i.test(tagName)) elt.setAttribute('type', 'button');\n    for (var attr in options) {\n      switch (attr) {\n        case 'className': {\n          if (options.className && options.className.trim) elt.setAttribute('class', options.className.trim());\n          break;\n        }\n        case 'html': {\n          if (options.html instanceof Element) elt.appendChild(options.html)\n          else if (options.html!==undefined) elt.innerHTML = options.html;\n          break;\n        }\n        case 'parent': {\n          options.parent.appendChild(elt);\n          break;\n        }\n        case 'style': {\n          this.setStyle(elt, options.style);\n          break;\n        }\n        case 'change':\n        case 'click': {\n          ol_ext_element.addListener(elt, attr, options[attr]);\n          break;\n        }\n        case 'on': {\n          for (var e in options.on) {\n            ol_ext_element.addListener(elt, e, options.on[e]);\n          }\n          break;\n        }\n        case 'checked': {\n          elt.checked = !!options.checked;\n          break;\n        }\n        default: {\n          elt.setAttribute(attr, options[attr]);\n          break;\n        }\n      }\n    }\n  }\n  return elt;\n};\n\n/** Set inner html or append a child element to an element\n * @param {Element} element\n * @param {Element|string} html Content of the element\n */\nol_ext_element.setHTML = function(element, html) {\n  if (html instanceof Element) element.appendChild(html)\n  else if (html!==undefined) element.innerHTML = html;\n};\n\n/** Append text into an elemnt\n * @param {Element} element\n * @param {string} text text content\n */\nol_ext_element.appendText = function(element, text) {\n  element.appendChild(document.createTextNode(text||''));\n};\n\n/**\n * Add a set of event listener to an element\n * @param {Element} element\n * @param {string|Array<string>} eventType\n * @param {function} fn\n */\nol_ext_element.addListener = function (element, eventType, fn) {\n  if (typeof eventType === 'string') eventType = eventType.split(' ');\n  eventType.forEach(function(e) {\n    element.addEventListener(e, fn);\n  });\n};\n\n/**\n * Add a set of event listener to an element\n * @param {Element} element\n * @param {string|Array<string>} eventType\n * @param {function} fn\n */\nol_ext_element.removeListener = function (element, eventType, fn) {\n  if (typeof eventType === 'string') eventType = eventType.split(' ');\n  eventType.forEach(function(e) {\n    element.removeEventListener(e, fn);\n  });\n};\n\n/**\n * Show an element\n * @param {Element} element\n */\nol_ext_element.show = function (element) {\n  element.style.display = '';\n};\n\n/**\n * Hide an element\n * @param {Element} element\n */\nol_ext_element.hide = function (element) {\n  element.style.display = 'none';\n};\n\n/**\n * Test if an element is hihdden\n * @param {Element} element\n * @return {boolean}\n */\nol_ext_element.hidden = function (element) {\n  return ol_ext_element.getStyle(element, 'display') === 'none';\n};\n\n/**\n * Toggle an element\n * @param {Element} element\n */\nol_ext_element.toggle = function (element) {\n  element.style.display = (element.style.display==='none' ? '' : 'none');\n};\n\n/** Set style of an element\n * @param {DOMElement} el the element\n * @param {*} st list of style\n */\nol_ext_element.setStyle = function(el, st) {\n  for (var s in st) {\n    switch (s) {\n      case 'top':\n      case 'left':\n      case 'bottom':\n      case 'right':\n      case 'minWidth':\n      case 'maxWidth':\n      case 'width':\n      case 'height': {\n        if (typeof(st[s]) === 'number') {\n          el.style[s] = st[s]+'px';\n        } else {\n          el.style[s] = st[s];\n        }\n        break;\n      }\n      default: {\n        el.style[s] = st[s];\n      }\n    }\n  }\n};\n\n/**\n * Get style propertie of an element\n * @param {DOMElement} el the element\n * @param {string} styleProp Propertie name\n * @return {*} style value\n */\nol_ext_element.getStyle = function(el, styleProp) {\n  var value, defaultView = (el.ownerDocument || document).defaultView;\n  // W3C standard way:\n  if (defaultView && defaultView.getComputedStyle) {\n    // sanitize property name to css notation\n    // (hypen separated words eg. font-Size)\n    styleProp = styleProp.replace(/([A-Z])/g, \"-$1\").toLowerCase();\n    value = defaultView.getComputedStyle(el, null).getPropertyValue(styleProp);\n  } else if (el.currentStyle) { // IE\n    // sanitize property name to camelCase\n    styleProp = styleProp.replace(/-(\\w)/g, function(str, letter) {\n      return letter.toUpperCase();\n    });\n    value = el.currentStyle[styleProp];\n    // convert other units to pixels on IE\n    if (/^\\d+(em|pt|%|ex)?$/i.test(value)) { \n      return (function(value) {\n        var oldLeft = el.style.left, oldRsLeft = el.runtimeStyle.left;\n        el.runtimeStyle.left = el.currentStyle.left;\n        el.style.left = value || 0;\n        value = el.style.pixelLeft + \"px\";\n        el.style.left = oldLeft;\n        el.runtimeStyle.left = oldRsLeft;\n        return value;\n      })(value);\n    }\n  }\n  if (/px$/.test(value)) return parseInt(value);\n  return value;\n};\n\n/** Get outerHeight of an elemen\n * @param {DOMElement} elt\n * @return {number}\n */\nol_ext_element.outerHeight = function(elt) {\n  return elt.offsetHeight + ol_ext_element.getStyle(elt, 'marginBottom')\n};\n\n/** Get outerWidth of an elemen\n * @param {DOMElement} elt\n * @return {number}\n */\nol_ext_element.outerWidth = function(elt) {\n  return elt.offsetWidth + ol_ext_element.getStyle(elt, 'marginLeft')\n};\n\n/** Get element offset rect\n * @param {DOMElement} elt\n * @return {*} \n */\nol_ext_element.offsetRect = function(elt) {\n  var rect = elt.getBoundingClientRect();\n  return {\n    top: rect.top + (window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0),\n    left: rect.left + (window.pageXOffset || document.documentElement.scrollLeft || document.body.scrollLeft || 0),\n    height: rect.height || (rect.bottom - rect.top),\n    width: rect.widtth || (rect.right - rect.left)\n  }\n};\n\n/** Make a div scrollable without scrollbar.\n * On touch devices the default behavior is preserved\n * @param {DOMElement} elt\n * @param {function} onmove a function that takes a boolean indicating that the div is scrolling\n */\nol_ext_element.scrollDiv = function(elt, options) {\n  var pos = false;\n  var speed = 0;\n  var d, dt = 0;\n\n  var onmove = (typeof(options.onmove) === 'function' ? options.onmove : function(){});\n  var page = options.vertical ? 'pageY' : 'pageX';\n  var scroll = options.vertical ? 'scrollTop' : 'scrollLeft';\n\n  // Prevent image dragging\n  elt.querySelectorAll('img').forEach(function(i) {\n    i.ondragstart = function(){ return false; };\n  });\n  \n  // Start scrolling\n  ol_ext_element.addListener(elt, ['mousedown'], function(e) {\n    pos = e[page];\n    dt = new Date();\n    elt.classList.add('ol-move');\n  });\n  \n  // Register scroll\n  ol_ext_element.addListener(window, ['mousemove'], function(e) {\n    if (pos !== false) {\n      var delta = pos - e[page];\n      elt[scroll] += delta;\n      d = new Date();\n      if (d-dt) {\n        speed = (speed + delta / (d - dt))/2;\n      }\n      pos = e[page];\n      dt = d;\n      // Tell we are moving\n      if (delta) onmove(true);\n    } else {\n      // Not moving yet\n      onmove(false);\n    }\n  });\n  \n  // Stop scrolling\n  ol_ext_element.addListener(window, ['mouseup'], function(e) {\n    elt.classList.remove('ol-move');\n    dt = new Date() - dt;\n    if (dt>100) {\n      // User stop: no speed\n      speed = 0;\n    } else if (dt>0) {\n      // Calculate new speed\n      speed = ((speed||0) + (pos - e[page]) / dt) / 2;\n    }\n    elt[scroll] += speed*100;\n    pos = false;\n    speed = 0;\n    dt = 0;\n  });\n\n  // Handle mousewheel\n  if (options.mousewheel && !elt.classList.contains('ol-touch')) {\n    ol_ext_element.addListener(elt, \n      ['mousewheel', 'DOMMouseScroll', 'onmousewheel'], \n      function(e) {\n        var delta = Math.max(-1, Math.min(1, (e.wheelDelta || -e.detail)));\n        elt.classList.add('ol-move');\n        elt[scroll] -= delta*30;\n        return false;\n      }\n    );\n  }\n};\n\nexport default ol_ext_element","/*\tCopyright (c) 2015 Jean-Marc VIGLINO, \n  released under the CeCILL-B license (French BSD license)\n  (http://www.cecill.info/licences/Licence_CeCILL-B_V1-en.txt).\n*/\nimport ol_ext_inherits from '../util/ext'\nimport {unByKey as ol_Observable_unByKey} from 'ol/Observable'\nimport ol_control_Control from 'ol/control/Control'\nimport ol_layer_Tile from 'ol/layer/Tile'\nimport ol_layer_Vector from 'ol/layer/Vector'\nimport ol_layer_VectorTile from 'ol/layer/VectorTile'\nimport ol_layer_Image from 'ol/layer/Image'\nimport ol_layer_Heatmap from 'ol/layer/Heatmap'\nimport {intersects as ol_extent_intersects} from 'ol/extent'\n\nimport ol_ext_element from '../util/element'\n\n/**\n * @classdesc OpenLayers 3 Layer Switcher Control.\n * @fires drawlist\n * @fires toggle\n * \n * @constructor\n * @extends {ol_control_Control}\n * @param {Object=} options\n *  @param {function} options.displayInLayerSwitcher function that takes a layer and return a boolean if the layer is displayed in the switcher, default test the displayInLayerSwitcher layer attribute\n *  @param {boolean} options.show_progress show a progress bar on tile layers, default false\n *  @param {boolean} options.mouseover show the panel on mouseover, default false\n *  @param {boolean} options.reordering allow layer reordering, default true\n *  @param {boolean} options.trash add a trash button to delete the layer, default false\n *  @param {function} options.oninfo callback on click on info button, if none no info button is shown DEPRECATED: use on(info) instead\n *  @param {boolean} options.extent add an extent button to zoom to the extent of the layer\n *  @param {function} options.onextent callback when click on extent, default fits view to extent\n *  @param {number} options.drawDelay delay in ms to redraw the layer (usefull to prevent flickering when manipulating the layers)\n *  @param {boolean} options.collapsed collapse the layerswitcher at beginning, default true\n *\n * Layers attributes that control the switcher\n *\t- allwaysOnTop {boolean} true to force layer stay on top of the others while reordering, default false\n *\t- displayInLayerSwitcher {boolean} display in switcher, default true\n *\t- noSwitcherDelete {boolean} to prevent layer deletion (w. trash option = true), default false\n */\nvar ol_control_LayerSwitcher = function(options) {\n  options = options || {};\n  var self = this;\n  this.dcount = 0;\n  this.show_progress = options.show_progress;\n  this.oninfo = (typeof (options.oninfo) == \"function\" ? options.oninfo: null);\n  this.onextent = (typeof (options.onextent) == \"function\" ? options.onextent: null);\n  this.hasextent = options.extent || options.onextent;\n  this.hastrash = options.trash;\n  this.reordering = (options.reordering!==false);\n  this._layers = [];\n\n  // displayInLayerSwitcher\n  if (typeof(options.displayInLayerSwitcher) === 'function') {\n    this.displayInLayerSwitcher = options.displayInLayerSwitcher;\n  }\n\n  var element;\n  if (options.target) {\n    element = ol_ext_element.create('DIV', {\n      className: options.switcherClass || \"ol-layerswitcher\"\n    });\n  } else {\n    element = ol_ext_element.create('DIV', {\n      className: (options.switcherClass || \"ol-layerswitcher\") +' ol-unselectable ol-control'\n    });\n    if (options.collapsed !== false) element.classList.add('ol-collapsed'); \n    else element.classList.add('ol-forceopen'); \n  \n    this.button = ol_ext_element.create('BUTTON', {\n      type: 'button',\n      parent: element\n    });\n    this.button.addEventListener('touchstart', function(e){\n      element.classList.toggle('ol-collapsed');\n      self.dispatchEvent({ type: 'toggle', collapsed: element.classList.contains('ol-collapsed') });\n      e.preventDefault(); \n      self.overflow();\n    });\n    this.button.addEventListener('click', function(){\n      element.classList.toggle('ol-forceopen');\n      element.classList.add('ol-collapsed'); \n      self.dispatchEvent({ type: 'toggle', collapsed: !element.classList.contains('ol-forceopen') });\n      self.overflow();\n    });\n\n    if (options.mouseover) {\n      element.addEventListener ('mouseleave', function(){ \n        element.classList.add(\"ol-collapsed\"); \n        self.dispatchEvent({ type: 'toggle', collapsed: true });\n      });\n      element.addEventListener ('mouseover', function(){ \n        element.classList.remove(\"ol-collapsed\"); \n        self.dispatchEvent({ type: 'toggle', collapsed: false });\n      });\n    }\n\n    this.topv = ol_ext_element.create('DIV', {\n      className: 'ol-switchertopdiv',\n      parent: element,\n      click: function() {\n        self.overflow(\"+50%\");\n      }\n    });\n\n    this.botv = ol_ext_element.create('DIV', {\n      className: 'ol-switcherbottomdiv',\n      parent: element,\n      click: function() {\n        self.overflow(\"-50%\");\n      }\n    });\n  }\n\n  this.panel_ = ol_ext_element.create ('UL', {\n    className: 'panel',\n    parent: element\n  });\n  ol_ext_element.addListener (this.panel_, 'mousewheel DOMMouseScroll onmousewheel', function(e) {\n    if (self.overflow(Math.max(-1, Math.min(1, (e.wheelDelta || -e.detail))))) {\n      e.stopPropagation();\n      e.preventDefault();\n    }\n  });\n\n  this.header_ = ol_ext_element.create('LI', {\n    className: 'ol-header',\n    parent: this.panel_\n  });\n\n  ol_control_Control.call (this, {\n    element: element,\n    target: options.target\n  });\n\n  this.set('drawDelay',options.drawDelay||0);\n};\nol_ext_inherits(ol_control_LayerSwitcher, ol_control_Control);\n\n/** List of tips for internationalization purposes\n*/\nol_control_LayerSwitcher.prototype.tip = {\n  up: \"up/down\",\n  down: \"down\",\n  info: \"informations...\",\n  extent: \"zoom to extent\",\n  trash: \"remove layer\",\n  plus: \"expand/shrink\"\n};\n\n/** Test if a layer should be displayed in the switcher\n * @param {ol.layer} layer\n * @return {boolean} true if the layer is displayed\n */\nol_control_LayerSwitcher.prototype.displayInLayerSwitcher = function(layer) {\n  return (layer.get(\"displayInLayerSwitcher\")!==false);\n};\n\n/**\n * Set the map instance the control is associated with.\n * @param {_ol_Map_} map The map instance.\n */\nol_control_LayerSwitcher.prototype.setMap = function(map) {\n  ol_control_Control.prototype.setMap.call(this, map);\n  this.drawPanel();\n  \n  if (this._listener) {\n    if (this._listener) ol_Observable_unByKey(this._listener.change);\n    if (this._listener) ol_Observable_unByKey(this._listener.moveend);\n    if (this._listener) ol_Observable_unByKey(this._listener.size);\n  }\n  this._listener = null;\n\n  // Get change (new layer added or removed)\n  if (map) {\n    this._listener = {\n      change: map.getLayerGroup().on('change', this.drawPanel.bind(this)),\n      moveend: map.on('moveend', this.viewChange.bind(this)),\n      size: map.on('change:size', this.overflow.bind(this))\n    }\n  }\n};\n\n/** Show control\n */\nol_control_LayerSwitcher.prototype.show = function() {\n  this.element.classList.add(\"ol-forceopen\");\n  this.overflow();\n};\n\n/** Hide control\n */\nol_control_LayerSwitcher.prototype.hide = function() {\n  this.element.classList.remove(\"ol-forceopen\");\n  this.overflow();\n};\n\n/** Toggle control\n */\nol_control_LayerSwitcher.prototype.toggle = function() {\n  this.element.classList.toggle(\"ol-forceopen\");\n  this.overflow();\n};\n\n/** Is control open\n * @return {boolean}\n */\nol_control_LayerSwitcher.prototype.isOpen = function() {\n  return this.element.classList.contains(\"ol-forceopen\");\n};\n\n/** Add a custom header\n * @param {Element|string} html content html\n */\nol_control_LayerSwitcher.prototype.setHeader = function(html) {\n  ol_ext_element.setHTML(this.header_, html);\n};\n\n/** Calculate overflow and add scrolls\n *\t@param {Number} dir scroll direction -1|0|1|'+50%'|'-50%'\n */\nol_control_LayerSwitcher.prototype.overflow = function(dir) {\t\n  if (this.button) {\n    // Nothing to show\n    if (ol_ext_element.hidden(this.panel_)) {\n      ol_ext_element.setStyle(this.element, { height: 'auto' });\n      return;\n    }\n    // Calculate offset\n    var h = ol_ext_element.outerHeight(this.element);\n    var hp = ol_ext_element.outerHeight(this.panel_);\n    var dh = this.button.offsetTop + ol_ext_element.outerHeight(this.button);\n    //var dh = this.button.position().top + this.button.outerHeight(true);\n\n    var top = this.panel_.offsetTop - dh;\n    if (hp > h-dh) {\n      // Bug IE: need to have an height defined\n      ol_ext_element.setStyle(this.element, { height: '100%' });\n      var lh = 2 * ol_ext_element.getStyle(this.panel_.querySelectorAll('li.visible .li-content')[0], 'height');\n      switch (dir) {\n        case 1: top += lh; break;\n        case -1: top -= lh; break;\n        case \"+50%\": top += Math.round(h/2); break;\n        case \"-50%\": top -= Math.round(h/2); break;\n        default: break;\n      }\n      // Scroll div\n      if (top+hp <= h-3*dh/2) {\n        top = h-3*dh/2-hp;\n        ol_ext_element.hide(this.botv);\n      } else {\n        ol_ext_element.show(this.botv);\n      }\n      if (top >= 0) {\n        top = 0;\n        ol_ext_element.hide(this.topv);\n      } else {\n        ol_ext_element.show(this.topv);\n      }\n      // Scroll ?\n      ol_ext_element.setStyle(this.panel_, { top: top+\"px\" });\n      return true;\n    } else {\n      ol_ext_element.setStyle(this.element, { height: \"auto\" });\n      ol_ext_element.setStyle(this.panel_, { top: 0 });\n      ol_ext_element.hide(this.botv);\n      ol_ext_element.hide(this.topv);\n      return false;\n    }\n  }\n  else return false;\n};\n\n/** Set the layer associated with a li\n * @param {Element} li\n * @param {ol.layer} layer\n */\nol_control_LayerSwitcher.prototype._setLayerForLI = function(li, layer) {\n  this._layers.push({ li:li, layer:layer });\n};\n\n/** Get the layer associated with a li\n * @param {Element} li\n * @return {ol.layer}\n */\nol_control_LayerSwitcher.prototype._getLayerForLI = function(li) {\n  for (var i=0, l; l=this._layers[i]; i++) {\n    if (l.li===li) return l.layer;\n  }\n  return null;\n};\n\n/**\n * On view change hide layer depending on resolution / extent\n * @private\n */\nol_control_LayerSwitcher.prototype.viewChange = function() {\n  var map = this.getMap();\n  this.panel_.querySelectorAll('li').forEach( function(li) {\n    var l = this._getLayerForLI(li);\n    if (l) {\n      if (this.testLayerVisibility(l)) li.classList.remove('ol-layer-hidden');\n      else li.classList.add('ol-layer-hidden');\n      /*\n      var res = map.getView().getResolution();\n      if (l.getMaxResolution()<=res || l.getMinResolution()>=res) {\n        li.classList.add('ol-layer-hidden');\n      } else {\n        var ex0 = l.getExtent();\n        if (ex0) {\n          var ex = map.getView().calculateExtent(map.getSize());\n          if (!ol_extent_intersects(ex, ex0)) {\n            li.classList.add('ol-layer-hidden');\n          } else {\n            li.classList.remove('ol-layer-hidden');\n          }\n        } else {\n          li.classList.remove('ol-layer-hidden');\n        }\n      }\n      */\n    }\n  }.bind(this));\n};\n\n/**\n *\tDraw the panel control (prevent multiple draw due to layers manipulation on the map with a delay function)\n*/\nol_control_LayerSwitcher.prototype.drawPanel = function() {\n  if (!this.getMap()) return;\n  var self = this;\n  // Multiple event simultaneously / draw once => put drawing in the event queue\n  this.dcount++;\n  setTimeout (function(){ self.drawPanel_(); }, this.get('drawDelay') || 0);\n};\n\n/** Delayed draw panel control \n * @private\n */\nol_control_LayerSwitcher.prototype.drawPanel_ = function() {\n  if (--this.dcount || this.dragging_) return;\n  // Remove existing layers\n  this._layers = [];\n  this.panel_.querySelectorAll('li').forEach (function(li) {\n    if (!li.classList.contains('ol-header')) li.remove();\n  }.bind(this));\n  // Draw list\n  this.drawList (this.panel_, this.getMap().getLayers());\n};\n\n/** Change layer visibility according to the baselayer option\n * @param {ol.layer}\n * @param {Array<ol.layer>} related layers\n */\nol_control_LayerSwitcher.prototype.switchLayerVisibility = function(l, layers) {\n  if (!l.get('baseLayer')) {\n    l.setVisible(!l.getVisible());\n  } else {\n    if (!l.getVisible()) l.setVisible(true);\n    layers.forEach(function(li) {\n      if (l!==li && li.get('baseLayer') && li.getVisible()) li.setVisible(false);\n    });\n  }\n};\n\n/** Check if layer is on the map (depending on zoom and extent)\n * @param {ol.layer}\n * @return {boolean}\n */\nol_control_LayerSwitcher.prototype.testLayerVisibility = function(layer) {\n  if (!this.getMap()) return true;\n  var res = this.getMap().getView().getResolution();\n  if (layer.getMaxResolution()<=res || layer.getMinResolution()>=res) {\n    return false;\n  } else {\n    var ex0 = layer.getExtent();\n    if (ex0) {\n      var ex = this.getMap().getView().calculateExtent(this.getMap().getSize());\n      return ol_extent_intersects(ex, ex0);\n    }\n    return true;\n  }\n};\n\n\n/** Start ordering the list\n*\t@param {event} e drag event\n*\t@private\n*/\nol_control_LayerSwitcher.prototype.dragOrdering_ = function(e) {\n  e.stopPropagation();\n  e.preventDefault();\n  // Get params\n  var self = this;\n  var elt = e.currentTarget.parentNode.parentNode;\n  var start = true;\n  var panel = this.panel_; \n  var pageY;\n  var pageY0 = e.pageY \n    || (e.touches && e.touches.length && e.touches[0].pageY) \n    || (e.changedTouches && e.changedTouches.length && e.changedTouches[0].pageY);\n  var target, dragElt;\n  var layer, group;\n  elt.parentNode.classList.add('drag');\n\n  // Stop ordering\n  function stop() {\n    if (target) {\n      // Get drag on parent\n      var drop = layer;\n      if (drop && target) {\n        var collection ;\n        if (group) collection = group.getLayers();\n        else collection = self.getMap().getLayers();\n        var layers = collection.getArray();\n        // Switch layers\n        for (var i=0; i<layers.length; i++) {\n          if (layers[i]==drop) {\n            collection.removeAt (i);\n            break;\n          }\n        }\n        for (var j=0; j<layers.length; j++) {\n          if (layers[j]==target) {\n            if (i>j) collection.insertAt (j,drop);\n            else collection.insertAt (j+1,drop);\n            break;\n          }\n        }\n      }\n    }\n    \n    elt.parentNode.querySelectorAll('li').forEach(function(li){\n      li.classList.remove('dropover');\n      li.classList.remove('dropover-after');\n      li.classList.remove('dropover-before');\n    });\n    elt.classList.remove(\"drag\");\n    elt.parentNode.classList.remove(\"drag\");\n    self.element.classList.remove('drag');\n    if (dragElt) dragElt.remove();\n\n    ol_ext_element.removeListener(document, 'mousemove touchmove', move);\n    ol_ext_element.removeListener(document, 'mouseup touchend touchcancel', stop);\n  }\n\n  // Ordering\n  function move(e) {\n    // First drag (more than 2 px) => show drag element (ghost)\n    pageY = e.pageY \n        || (e.touches && e.touches.length && e.touches[0].pageY) \n        || (e.changedTouches && e.changedTouches.length && e.changedTouches[0].pageY);\n    if (start && Math.abs(pageY0 - pageY) > 2) {\n      start = false;\n      elt.classList.add(\"drag\");\n      layer = self._getLayerForLI(elt);\n      target = false;\n      group = self._getLayerForLI(elt.parentNode.parentNode);\n      // Ghost div\n      dragElt = ol_ext_element.create('LI', { \n        className: 'ol-dragover',\n        html: elt.innerHTML,\n        style: { \n          position: \"absolute\", \n          \"z-index\": 10000, \n          left: elt.offsetLeft, \n          opacity: 0.5,\n          width: ol_ext_element.outerWidth(elt),\n          height: ol_ext_element.getStyle(elt,'height'),\n        },\n        parent: panel \n      });\n      self.element.classList.add('drag');\n    }\n    // Start a new drag sequence\n    if (!start) {\n      e.preventDefault();\n      e.stopPropagation();\n\n      // Ghost div\n      ol_ext_element.setStyle(dragElt, { top: pageY - ol_ext_element.offsetRect(panel).top + panel.scrollTop +5 });\n      \n      var li;\n      if (!e.touches) {\n        li = e.target;\n      } else {\n        li = document.elementFromPoint(e.touches[0].clientX, e.touches[0].clientY);\n      }\n      if (li.classList.contains(\"ol-switcherbottomdiv\")) {\n        self.overflow(-1);\n      } else if (li.classList.contains(\"ol-switchertopdiv\")) {\n        self.overflow(1);\n      }\n      // Get associated li\n      while (li && li.tagName!=='LI') {\n        li = li.parentNode;\n      }\n      if (!li || !li.classList.contains('dropover')) {\n        elt.parentNode.querySelectorAll('li').forEach(function(li) {\n          li.classList.remove('dropover');\n          li.classList.remove('dropover-after');\n          li.classList.remove('dropover-before');\n        });\n      }\n      if (li && li.parentNode.classList.contains('drag') && li !== elt) {\n        target = self._getLayerForLI(li);\n        // Don't mix layer level\n        if (target && !target.get('allwaysOnTop') == !layer.get('allwaysOnTop')) {\n          li.classList.add(\"dropover\");\n          li.classList.add((elt.offsetTop < li.offsetTop) ? 'dropover-after' : 'dropover-before');\n        } else {\n          target = false;\n        }\n        ol_ext_element.show(dragElt);\n      } else {\n        target = false;\n        if (li===elt) ol_ext_element.hide(dragElt);\n        else ol_ext_element.show(dragElt);\n      }\n      \n      if (!target) dragElt.classList.add(\"forbidden\");\n      else dragElt.classList.remove(\"forbidden\");\n    }\n  }\n\n  // Start ordering\n  ol_ext_element.addListener(document, 'mousemove touchmove', move);\n  ol_ext_element.addListener(document, 'mouseup touchend touchcancel', stop);\n};\n\n\n/** Change opacity on drag \n*\t@param {event} e drag event\n*\t@private\n*/\nol_control_LayerSwitcher.prototype.dragOpacity_ = function(e) {\n  e.stopPropagation();\n  e.preventDefault();\n  var self = this\n  // Register start params\n  var elt = e.target;\n  var layer = this._getLayerForLI(elt.parentNode.parentNode.parentNode);\n  if (!layer) return;\n  var x = e.pageX \n    || (e.touches && e.touches.length && e.touches[0].pageX) \n    || (e.changedTouches && e.changedTouches.length && e.changedTouches[0].pageX);\n  var start = ol_ext_element.getStyle (elt, 'left') - x;\n  self.dragging_ = true;\n\n  // stop dragging\n  function stop() {\n    ol_ext_element.removeListener(document, \"mouseup touchend touchcancel\", stop);\n    ol_ext_element.removeListener(document, \"mousemove touchmove\", move);\n    self.dragging_ = false;\n  }\n  // On draggin\n  function move(e) {\n    var x = e.pageX \n      || (e.touches && e.touches.length && e.touches[0].pageX) \n      || (e.changedTouches && e.changedTouches.length && e.changedTouches[0].pageX);\n    var delta = (start + x) / ol_ext_element.getStyle(elt.parentNode, 'width');\n    var opacity = Math.max (0, Math.min(1, delta));\n    ol_ext_element.setStyle (elt, { left: (opacity*100) + \"%\" });\n    elt.parentNode.nextElementSibling.innerHTML = Math.round(opacity*100);\n    layer.setOpacity(opacity);\n  }\n  // Register move\n  ol_ext_element.addListener(document, \"mouseup touchend touchcancel\", stop);\n  ol_ext_element.addListener(document, \"mousemove touchmove\", move);\n};\n\n\n/** Render a list of layer\n * @param {Elemen} element to render\n * @layers {Array{ol.layer}} list of layer to show\n * @api stable\n */\nol_control_LayerSwitcher.prototype.drawList = function(ul, collection) {\n  var self = this;\n  var layers = collection.getArray();\n\n  // Change layer visibility\n  var setVisibility = function(e) {\n    e.stopPropagation();\n    e.preventDefault();\n    var l = self._getLayerForLI(this.parentNode.parentNode);\n    self.switchLayerVisibility(l, collection);\n  };\n  // Info button click\n  function onInfo(e) {\n    e.stopPropagation();\n    e.preventDefault(); \n    var l = self._getLayerForLI(this.parentNode.parentNode);\n    self.oninfo(l); \n    self.dispatchEvent({ type: \"info\", layer: l });\n  }\n  // Zoom to extent button\n  function zoomExtent(e) {\n    e.stopPropagation();\n    e.preventDefault(); \n    var l = self._getLayerForLI(this.parentNode.parentNode);\n    if (self.onextent) self.onextent(l); \n    else self.getMap().getView().fit (l.getExtent(), self.getMap().getSize()); \n    self.dispatchEvent({ type: \"extent\", layer: l });\n  }\n  // Remove a layer on trash click\n  function removeLayer(e) {\n    e.stopPropagation();\n    e.preventDefault();\n    var li = this.parentNode.parentNode.parentNode.parentNode;\n    var layer, group = self._getLayerForLI(li);\n    // Remove the layer from a group or from a map\n    if (group) {\n      layer = self._getLayerForLI(this.parentNode.parentNode);\n      group.getLayers().remove(layer);\n      if (group.getLayers().getLength()==0 && !group.get('noSwitcherDelete')) {\n        removeLayer.call(li.querySelectorAll('.layerTrash')[0], e);\n      }\n    } else {\n      li = this.parentNode.parentNode;\n      self.getMap().removeLayer(self._getLayerForLI(li));\n    }\n  }\n  \n  // Add the layer list\n  for (var i=layers.length-1; i>=0; i--) {\n    var layer = layers[i];\n    if (!self.displayInLayerSwitcher(layer)) continue;\n\n    var li = ol_ext_element.create('LI', {\n      className: (layer.getVisible()?\"visible \":\" \")+(layer.get('baseLayer')?\"baselayer\":\"\"),\n      parent: ul\n    });\n    this._setLayerForLI(li, layer);\n\n    var layer_buttons = ol_ext_element.create('DIV', {\n      className: 'ol-layerswitcher-buttons',\n      parent: li\n    });\n\n    // Content div\n    var d = ol_ext_element.create('DIV', {\n      className: 'li-content',// + (this.testLayerVisibility(layer) ? '' : ' ol-layer-hidden'),\n      parent: li\n    });\n    \n    // Visibility\n    ol_ext_element.create('INPUT', {\n      type: layer.get('baseLayer') ? 'radio' : 'checkbox',\n      checked: layer.getVisible(),\n      click: setVisibility,\n      parent: d\n    });\n    // Label\n    ol_ext_element.create('LABEL', {\n      html: layer.get(\"title\") || layer.get(\"name\"),\n      title: layer.get(\"title\") || layer.get(\"name\"),\n      click: setVisibility,\n      unselectable: 'on',\n      style: {\n        userSelect: 'none'\n      },\n      parent: d\n    }).addEventListener('selectstart', function(){ return false; });\n\n    //  up/down\n    if (this.reordering) {\n      if ( (i<layers.length-1 && (layer.get(\"allwaysOnTop\") || !layers[i+1].get(\"allwaysOnTop\")) )\n      || (i>0 && (!layer.get(\"allwaysOnTop\") || layers[i-1].get(\"allwaysOnTop\")) ) ) {\n        ol_ext_element.create('DIV', {\n          className: 'layerup',\n          title: this.tip.up,\n          on: { 'mousedown touchstart': function(e) { self.dragOrdering_(e) } },\n          parent: layer_buttons\n        });\n      }\n    }\n\n    // Show/hide sub layers\n    if (layer.getLayers) {\n      var nb = 0;\n      layer.getLayers().forEach(function(l) {\n        if (self.displayInLayerSwitcher(l)) nb++;\n      });\n      if (nb) {\n        ol_ext_element.create('DIV', {\n          className: layer.get(\"openInLayerSwitcher\") ? \"collapse-layers\" : \"expend-layers\",\n          title: this.tip.plus,\n          click: function() {\n            var l = self._getLayerForLI(this.parentNode.parentNode);\n            l.set(\"openInLayerSwitcher\", !l.get(\"openInLayerSwitcher\") )\n          },\n          parent: layer_buttons\n        });\n      }\n    }\n\n    // Info button\n    if (this.oninfo) {\n      ol_ext_element.create('DIV', {\n        className: 'layerInfo',\n        title: this.tip.info,\n        click: onInfo,\n        parent: layer_buttons\n      });\n    }\n    // Layer remove\n    if (this.hastrash && !layer.get(\"noSwitcherDelete\")) {\n      ol_ext_element.create('DIV', {\n        className: 'layerTrash',\n        title: this.tip.trash,\n        click: removeLayer,\n        parent: layer_buttons\n      });\n    }\n    // Layer extent\n    if (this.hasextent && layers[i].getExtent()) {\n      var ex = layers[i].getExtent();\n      if (ex.length==4 && ex[0]<ex[2] && ex[1]<ex[3]) {\n        ol_ext_element.create('DIV', {\n          className: 'layerExtent',\n          title: this.tip.extent,\n          click: zoomExtent,\n          parent: layer_buttons  \n        });\n      }\n    }\n\n    // Progress\n    if (this.show_progress && layer instanceof ol_layer_Tile) {\n      var p = ol_ext_element.create('DIV', {\n        className: 'layerswitcher-progress',\n        parent: d\n      });\n      this.setprogress_(layer);\n      layer.layerswitcher_progress = ol_ext_element.create('DIV', { parent: p });\n    }\n\n    // Opacity\n    var opacity = ol_ext_element.create('DIV', {\n      className: 'layerswitcher-opacity',\n      // Click on the opacity line\n      click: function(e){\n        if (e.target !== this) return;\n        e.stopPropagation();\n        e.preventDefault();\n        var op = Math.max ( 0, Math.min( 1, e.offsetX / ol_ext_element.getStyle(this, 'width')));\n        self._getLayerForLI(this.parentNode.parentNode).setOpacity(op);\n      },\n      parent: d\n    });\n    // Start dragging\n    ol_ext_element.create('DIV', {\n      className: 'layerswitcher-opacity-cursor',\n      style: { left: (layer.getOpacity()*100)+\"%\" },\n      on: {\n        'mousedown touchstart': function(e) { self.dragOpacity_ (e); }\n      },\n      parent: opacity\n    });\n    // Percent\n    ol_ext_element.create('DIV', {\n      className: 'layerswitcher-opacity-label',\n      html: Math.round(layer.getOpacity()*100),\n      parent: d\n    });\n\n    // Layer group\n    if (layer.getLayers) {\n      li.classList.add('ol-layer-group');\n      if (layer.get(\"openInLayerSwitcher\") === true) {\n        var ul2 = ol_ext_element.create('UL', {\n          parent: li\n        });\n        this.drawList (ul2, layer.getLayers());\n      }\n    }\n    else if (layer instanceof ol_layer_Vector) li.classList.add('ol-layer-vector');\n    else if (layer instanceof ol_layer_VectorTile) li.classList.add('ol-layer-vector');\n    else if (layer instanceof ol_layer_Tile) li.classList.add('ol-layer-tile');\n    else if (layer instanceof ol_layer_Image) li.classList.add('ol-layer-image');\n    else if (layer instanceof ol_layer_Heatmap) li.classList.add('ol-layer-heatmap');\n\n    // Dispatch a dralist event to allow customisation\n    this.dispatchEvent({ type:'drawlist', layer:layer, li:li });\n  }\n\n  this.viewChange();\n\n  if (ul === this.panel_) this.overflow();\n};\n\n/** Handle progress bar for a layer\n*\t@private\n*/\nol_control_LayerSwitcher.prototype.setprogress_ = function(layer) {\n  if (!layer.layerswitcher_progress) {\n    var loaded = 0;\n    var loading = 0;\n    var draw = function() {\n      if (loading === loaded) {\n        loading = loaded = 0;\n        ol_ext_element.setStyle(layer.layerswitcher_progress, { width: 0 });// layer.layerswitcher_progress.width(0);\n      } else {\n        ol_ext_element.setStyle(layer.layerswitcher_progress, { width: (loaded / loading * 100).toFixed(1) + '%' });// layer.layerswitcher_progress.css('width', (loaded / loading * 100).toFixed(1) + '%');\n      }\n    }\n    layer.getSource().on('tileloadstart', function() {\n      loading++;\n      draw();\n    });\n    layer.getSource().on('tileloadend', function() {\n      loaded++;\n      draw();\n    });\n    layer.getSource().on('tileloaderror', function() {\n      loaded++;\n      draw();\n    });\n  }\n};\n\nexport default ol_control_LayerSwitcher\n","/**\n * @module ol/extent/Relationship\n */\n\n/**\n * Relationship to an extent.\n * @enum {number}\n */\nexport default {\n  UNKNOWN: 0,\n  INTERSECTING: 1,\n  ABOVE: 2,\n  RIGHT: 4,\n  BELOW: 8,\n  LEFT: 16\n};\n\n//# sourceMappingURL=Relationship.js.map","/**\n * @module ol/events/condition\n */\nimport MapBrowserEventType from '../MapBrowserEventType.js';\nimport {assert} from '../asserts.js';\nimport {TRUE, FALSE} from '../functions.js';\nimport {WEBKIT, MAC} from '../has.js';\n\n\n/**\n * A function that takes an {@link module:ol/MapBrowserEvent} and returns a\n * `{boolean}`. If the condition is met, true should be returned.\n *\n * @typedef {function(this: ?, import(\"../MapBrowserEvent.js\").default): boolean} Condition\n */\n\n\n/**\n * Return `true` if only the alt-key is pressed, `false` otherwise (e.g. when\n * additionally the shift-key is pressed).\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True if only the alt key is pressed.\n * @api\n */\nexport var altKeyOnly = function(mapBrowserEvent) {\n  var originalEvent = /** @type {KeyboardEvent|MouseEvent|TouchEvent} */ (mapBrowserEvent.originalEvent);\n  return (\n    originalEvent.altKey &&\n      !(originalEvent.metaKey || originalEvent.ctrlKey) &&\n      !originalEvent.shiftKey);\n};\n\n\n/**\n * Return `true` if only the alt-key and shift-key is pressed, `false` otherwise\n * (e.g. when additionally the platform-modifier-key is pressed).\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True if only the alt and shift keys are pressed.\n * @api\n */\nexport var altShiftKeysOnly = function(mapBrowserEvent) {\n  var originalEvent = /** @type {KeyboardEvent|MouseEvent|TouchEvent} */ (mapBrowserEvent.originalEvent);\n  return (\n    originalEvent.altKey &&\n      !(originalEvent.metaKey || originalEvent.ctrlKey) &&\n      originalEvent.shiftKey);\n};\n\n\n/**\n * Return `true` if the map has the focus. This condition requires a map target\n * element with a `tabindex` attribute, e.g. `<div id=\"map\" tabindex=\"1\">`.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} event Map browser event.\n * @return {boolean} The map has the focus.\n * @api\n */\nexport var focus = function(event) {\n  return event.target.getTargetElement() === document.activeElement;\n};\n\n\n/**\n * Return always true.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True.\n * @api\n */\nexport var always = TRUE;\n\n\n/**\n * Return `true` if the event is a `click` event, `false` otherwise.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True if the event is a map `click` event.\n * @api\n */\nexport var click = function(mapBrowserEvent) {\n  return mapBrowserEvent.type == MapBrowserEventType.CLICK;\n};\n\n\n/**\n * Return `true` if the event has an \"action\"-producing mouse button.\n *\n * By definition, this includes left-click on windows/linux, and left-click\n * without the ctrl key on Macs.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} The result.\n */\nexport var mouseActionButton = function(mapBrowserEvent) {\n  var originalEvent = /** @type {MouseEvent} */ (mapBrowserEvent.originalEvent);\n  return originalEvent.button == 0 &&\n      !(WEBKIT && MAC && originalEvent.ctrlKey);\n};\n\n\n/**\n * Return always false.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} False.\n * @api\n */\nexport var never = FALSE;\n\n\n/**\n * Return `true` if the browser event is a `pointermove` event, `false`\n * otherwise.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True if the browser event is a `pointermove` event.\n * @api\n */\nexport var pointerMove = function(mapBrowserEvent) {\n  return mapBrowserEvent.type == 'pointermove';\n};\n\n\n/**\n * Return `true` if the event is a map `singleclick` event, `false` otherwise.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True if the event is a map `singleclick` event.\n * @api\n */\nexport var singleClick = function(mapBrowserEvent) {\n  return mapBrowserEvent.type == MapBrowserEventType.SINGLECLICK;\n};\n\n\n/**\n * Return `true` if the event is a map `dblclick` event, `false` otherwise.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True if the event is a map `dblclick` event.\n * @api\n */\nexport var doubleClick = function(mapBrowserEvent) {\n  return mapBrowserEvent.type == MapBrowserEventType.DBLCLICK;\n};\n\n\n/**\n * Return `true` if no modifier key (alt-, shift- or platform-modifier-key) is\n * pressed.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True only if there no modifier keys are pressed.\n * @api\n */\nexport var noModifierKeys = function(mapBrowserEvent) {\n  var originalEvent = /** @type {KeyboardEvent|MouseEvent|TouchEvent} */ (mapBrowserEvent.originalEvent);\n  return (\n    !originalEvent.altKey &&\n      !(originalEvent.metaKey || originalEvent.ctrlKey) &&\n      !originalEvent.shiftKey);\n};\n\n\n/**\n * Return `true` if only the platform-modifier-key (the meta-key on Mac,\n * ctrl-key otherwise) is pressed, `false` otherwise (e.g. when additionally\n * the shift-key is pressed).\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True if only the platform modifier key is pressed.\n * @api\n */\nexport var platformModifierKeyOnly = function(mapBrowserEvent) {\n  var originalEvent = /** @type {KeyboardEvent|MouseEvent|TouchEvent} */ (mapBrowserEvent.originalEvent);\n  return !originalEvent.altKey &&\n    (MAC ? originalEvent.metaKey : originalEvent.ctrlKey) &&\n    !originalEvent.shiftKey;\n};\n\n\n/**\n * Return `true` if only the shift-key is pressed, `false` otherwise (e.g. when\n * additionally the alt-key is pressed).\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True if only the shift key is pressed.\n * @api\n */\nexport var shiftKeyOnly = function(mapBrowserEvent) {\n  var originalEvent = /** @type {KeyboardEvent|MouseEvent|TouchEvent} */ (mapBrowserEvent.originalEvent);\n  return (\n    !originalEvent.altKey &&\n      !(originalEvent.metaKey || originalEvent.ctrlKey) &&\n      originalEvent.shiftKey);\n};\n\n\n/**\n * Return `true` if the target element is not editable, i.e. not a `<input>`-,\n * `<select>`- or `<textarea>`-element, `false` otherwise.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True only if the target element is not editable.\n * @api\n */\nexport var targetNotEditable = function(mapBrowserEvent) {\n  var target = mapBrowserEvent.originalEvent.target;\n  var tagName = /** @type {Element} */ (target).tagName;\n  return (\n    tagName !== 'INPUT' &&\n      tagName !== 'SELECT' &&\n      tagName !== 'TEXTAREA');\n};\n\n\n/**\n * Return `true` if the event originates from a mouse device.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True if the event originates from a mouse device.\n * @api\n */\nexport var mouseOnly = function(mapBrowserEvent) {\n  var pointerEvent = /** @type {import(\"../MapBrowserPointerEvent\").default} */ (mapBrowserEvent).pointerEvent;\n  assert(pointerEvent !== undefined, 56); // mapBrowserEvent must originate from a pointer event\n  // see http://www.w3.org/TR/pointerevents/#widl-PointerEvent-pointerType\n  return pointerEvent.pointerType == 'mouse';\n};\n\n\n/**\n * Return `true` if the event originates from a primary pointer in\n * contact with the surface or if the left mouse button is pressed.\n * See http://www.w3.org/TR/pointerevents/#button-states.\n *\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} True if the event originates from a primary pointer.\n * @api\n */\nexport var primaryAction = function(mapBrowserEvent) {\n  var pointerEvent = /** @type {import(\"../MapBrowserPointerEvent\").default} */ (mapBrowserEvent).pointerEvent;\n  assert(pointerEvent !== undefined, 56); // mapBrowserEvent must originate from a pointer event\n  return pointerEvent.isPrimary && pointerEvent.button === 0;\n};\n\n//# sourceMappingURL=condition.js.map","/**\n * @module ol/dom\n */\n\n\n/**\n * Create an html canvas element and returns its 2d context.\n * @param {number=} opt_width Canvas width.\n * @param {number=} opt_height Canvas height.\n * @return {CanvasRenderingContext2D} The context.\n */\nexport function createCanvasContext2D(opt_width, opt_height) {\n  var canvas = /** @type {HTMLCanvasElement} */ (document.createElement('canvas'));\n  if (opt_width) {\n    canvas.width = opt_width;\n  }\n  if (opt_height) {\n    canvas.height = opt_height;\n  }\n  return /** @type {CanvasRenderingContext2D} */ (canvas.getContext('2d'));\n}\n\n\n/**\n * Get the current computed width for the given element including margin,\n * padding and border.\n * Equivalent to jQuery's `$(el).outerWidth(true)`.\n * @param {!HTMLElement} element Element.\n * @return {number} The width.\n */\nexport function outerWidth(element) {\n  var width = element.offsetWidth;\n  var style = getComputedStyle(element);\n  width += parseInt(style.marginLeft, 10) + parseInt(style.marginRight, 10);\n\n  return width;\n}\n\n\n/**\n * Get the current computed height for the given element including margin,\n * padding and border.\n * Equivalent to jQuery's `$(el).outerHeight(true)`.\n * @param {!HTMLElement} element Element.\n * @return {number} The height.\n */\nexport function outerHeight(element) {\n  var height = element.offsetHeight;\n  var style = getComputedStyle(element);\n  height += parseInt(style.marginTop, 10) + parseInt(style.marginBottom, 10);\n\n  return height;\n}\n\n/**\n * @param {Node} newNode Node to replace old node\n * @param {Node} oldNode The node to be replaced\n */\nexport function replaceNode(newNode, oldNode) {\n  var parent = oldNode.parentNode;\n  if (parent) {\n    parent.replaceChild(newNode, oldNode);\n  }\n}\n\n/**\n * @param {Node} node The node to remove.\n * @returns {Node} The node that was removed or null.\n */\nexport function removeNode(node) {\n  return node && node.parentNode ? node.parentNode.removeChild(node) : null;\n}\n\n/**\n * @param {Node} node The node to remove the children from.\n */\nexport function removeChildren(node) {\n  while (node.lastChild) {\n    node.removeChild(node.lastChild);\n  }\n}\n\n//# sourceMappingURL=dom.js.map","/**\n * @module ol/extent\n */\nimport {assert} from './asserts.js';\nimport Corner from './extent/Corner.js';\nimport Relationship from './extent/Relationship.js';\n\n\n/**\n * An array of numbers representing an extent: `[minx, miny, maxx, maxy]`.\n * @typedef {Array<number>} Extent\n * @api\n */\n\n/**\n * Build an extent that includes all given coordinates.\n *\n * @param {Array<import(\"./coordinate.js\").Coordinate>} coordinates Coordinates.\n * @return {Extent} Bounding extent.\n * @api\n */\nexport function boundingExtent(coordinates) {\n  var extent = createEmpty();\n  for (var i = 0, ii = coordinates.length; i < ii; ++i) {\n    extendCoordinate(extent, coordinates[i]);\n  }\n  return extent;\n}\n\n\n/**\n * @param {Array<number>} xs Xs.\n * @param {Array<number>} ys Ys.\n * @param {Extent=} opt_extent Destination extent.\n * @private\n * @return {Extent} Extent.\n */\nfunction _boundingExtentXYs(xs, ys, opt_extent) {\n  var minX = Math.min.apply(null, xs);\n  var minY = Math.min.apply(null, ys);\n  var maxX = Math.max.apply(null, xs);\n  var maxY = Math.max.apply(null, ys);\n  return createOrUpdate(minX, minY, maxX, maxY, opt_extent);\n}\n\n\n/**\n * Return extent increased by the provided value.\n * @param {Extent} extent Extent.\n * @param {number} value The amount by which the extent should be buffered.\n * @param {Extent=} opt_extent Extent.\n * @return {Extent} Extent.\n * @api\n */\nexport function buffer(extent, value, opt_extent) {\n  if (opt_extent) {\n    opt_extent[0] = extent[0] - value;\n    opt_extent[1] = extent[1] - value;\n    opt_extent[2] = extent[2] + value;\n    opt_extent[3] = extent[3] + value;\n    return opt_extent;\n  } else {\n    return [\n      extent[0] - value,\n      extent[1] - value,\n      extent[2] + value,\n      extent[3] + value\n    ];\n  }\n}\n\n\n/**\n * Creates a clone of an extent.\n *\n * @param {Extent} extent Extent to clone.\n * @param {Extent=} opt_extent Extent.\n * @return {Extent} The clone.\n */\nexport function clone(extent, opt_extent) {\n  if (opt_extent) {\n    opt_extent[0] = extent[0];\n    opt_extent[1] = extent[1];\n    opt_extent[2] = extent[2];\n    opt_extent[3] = extent[3];\n    return opt_extent;\n  } else {\n    return extent.slice();\n  }\n}\n\n\n/**\n * @param {Extent} extent Extent.\n * @param {number} x X.\n * @param {number} y Y.\n * @return {number} Closest squared distance.\n */\nexport function closestSquaredDistanceXY(extent, x, y) {\n  var dx, dy;\n  if (x < extent[0]) {\n    dx = extent[0] - x;\n  } else if (extent[2] < x) {\n    dx = x - extent[2];\n  } else {\n    dx = 0;\n  }\n  if (y < extent[1]) {\n    dy = extent[1] - y;\n  } else if (extent[3] < y) {\n    dy = y - extent[3];\n  } else {\n    dy = 0;\n  }\n  return dx * dx + dy * dy;\n}\n\n\n/**\n * Check if the passed coordinate is contained or on the edge of the extent.\n *\n * @param {Extent} extent Extent.\n * @param {import(\"./coordinate.js\").Coordinate} coordinate Coordinate.\n * @return {boolean} The coordinate is contained in the extent.\n * @api\n */\nexport function containsCoordinate(extent, coordinate) {\n  return containsXY(extent, coordinate[0], coordinate[1]);\n}\n\n\n/**\n * Check if one extent contains another.\n *\n * An extent is deemed contained if it lies completely within the other extent,\n * including if they share one or more edges.\n *\n * @param {Extent} extent1 Extent 1.\n * @param {Extent} extent2 Extent 2.\n * @return {boolean} The second extent is contained by or on the edge of the\n *     first.\n * @api\n */\nexport function containsExtent(extent1, extent2) {\n  return extent1[0] <= extent2[0] && extent2[2] <= extent1[2] &&\n      extent1[1] <= extent2[1] && extent2[3] <= extent1[3];\n}\n\n\n/**\n * Check if the passed coordinate is contained or on the edge of the extent.\n *\n * @param {Extent} extent Extent.\n * @param {number} x X coordinate.\n * @param {number} y Y coordinate.\n * @return {boolean} The x, y values are contained in the extent.\n * @api\n */\nexport function containsXY(extent, x, y) {\n  return extent[0] <= x && x <= extent[2] && extent[1] <= y && y <= extent[3];\n}\n\n\n/**\n * Get the relationship between a coordinate and extent.\n * @param {Extent} extent The extent.\n * @param {import(\"./coordinate.js\").Coordinate} coordinate The coordinate.\n * @return {Relationship} The relationship (bitwise compare with\n *     import(\"./extent/Relationship.js\").Relationship).\n */\nexport function coordinateRelationship(extent, coordinate) {\n  var minX = extent[0];\n  var minY = extent[1];\n  var maxX = extent[2];\n  var maxY = extent[3];\n  var x = coordinate[0];\n  var y = coordinate[1];\n  var relationship = Relationship.UNKNOWN;\n  if (x < minX) {\n    relationship = relationship | Relationship.LEFT;\n  } else if (x > maxX) {\n    relationship = relationship | Relationship.RIGHT;\n  }\n  if (y < minY) {\n    relationship = relationship | Relationship.BELOW;\n  } else if (y > maxY) {\n    relationship = relationship | Relationship.ABOVE;\n  }\n  if (relationship === Relationship.UNKNOWN) {\n    relationship = Relationship.INTERSECTING;\n  }\n  return relationship;\n}\n\n\n/**\n * Create an empty extent.\n * @return {Extent} Empty extent.\n * @api\n */\nexport function createEmpty() {\n  return [Infinity, Infinity, -Infinity, -Infinity];\n}\n\n\n/**\n * Create a new extent or update the provided extent.\n * @param {number} minX Minimum X.\n * @param {number} minY Minimum Y.\n * @param {number} maxX Maximum X.\n * @param {number} maxY Maximum Y.\n * @param {Extent=} opt_extent Destination extent.\n * @return {Extent} Extent.\n */\nexport function createOrUpdate(minX, minY, maxX, maxY, opt_extent) {\n  if (opt_extent) {\n    opt_extent[0] = minX;\n    opt_extent[1] = minY;\n    opt_extent[2] = maxX;\n    opt_extent[3] = maxY;\n    return opt_extent;\n  } else {\n    return [minX, minY, maxX, maxY];\n  }\n}\n\n\n/**\n * Create a new empty extent or make the provided one empty.\n * @param {Extent=} opt_extent Extent.\n * @return {Extent} Extent.\n */\nexport function createOrUpdateEmpty(opt_extent) {\n  return createOrUpdate(\n    Infinity, Infinity, -Infinity, -Infinity, opt_extent);\n}\n\n\n/**\n * @param {import(\"./coordinate.js\").Coordinate} coordinate Coordinate.\n * @param {Extent=} opt_extent Extent.\n * @return {Extent} Extent.\n */\nexport function createOrUpdateFromCoordinate(coordinate, opt_extent) {\n  var x = coordinate[0];\n  var y = coordinate[1];\n  return createOrUpdate(x, y, x, y, opt_extent);\n}\n\n\n/**\n * @param {Array<import(\"./coordinate.js\").Coordinate>} coordinates Coordinates.\n * @param {Extent=} opt_extent Extent.\n * @return {Extent} Extent.\n */\nexport function createOrUpdateFromCoordinates(coordinates, opt_extent) {\n  var extent = createOrUpdateEmpty(opt_extent);\n  return extendCoordinates(extent, coordinates);\n}\n\n\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @param {Extent=} opt_extent Extent.\n * @return {Extent} Extent.\n */\nexport function createOrUpdateFromFlatCoordinates(flatCoordinates, offset, end, stride, opt_extent) {\n  var extent = createOrUpdateEmpty(opt_extent);\n  return extendFlatCoordinates(extent, flatCoordinates, offset, end, stride);\n}\n\n/**\n * @param {Array<Array<import(\"./coordinate.js\").Coordinate>>} rings Rings.\n * @param {Extent=} opt_extent Extent.\n * @return {Extent} Extent.\n */\nexport function createOrUpdateFromRings(rings, opt_extent) {\n  var extent = createOrUpdateEmpty(opt_extent);\n  return extendRings(extent, rings);\n}\n\n\n/**\n * Determine if two extents are equivalent.\n * @param {Extent} extent1 Extent 1.\n * @param {Extent} extent2 Extent 2.\n * @return {boolean} The two extents are equivalent.\n * @api\n */\nexport function equals(extent1, extent2) {\n  return extent1[0] == extent2[0] && extent1[2] == extent2[2] &&\n      extent1[1] == extent2[1] && extent1[3] == extent2[3];\n}\n\n\n/**\n * Modify an extent to include another extent.\n * @param {Extent} extent1 The extent to be modified.\n * @param {Extent} extent2 The extent that will be included in the first.\n * @return {Extent} A reference to the first (extended) extent.\n * @api\n */\nexport function extend(extent1, extent2) {\n  if (extent2[0] < extent1[0]) {\n    extent1[0] = extent2[0];\n  }\n  if (extent2[2] > extent1[2]) {\n    extent1[2] = extent2[2];\n  }\n  if (extent2[1] < extent1[1]) {\n    extent1[1] = extent2[1];\n  }\n  if (extent2[3] > extent1[3]) {\n    extent1[3] = extent2[3];\n  }\n  return extent1;\n}\n\n\n/**\n * @param {Extent} extent Extent.\n * @param {import(\"./coordinate.js\").Coordinate} coordinate Coordinate.\n */\nexport function extendCoordinate(extent, coordinate) {\n  if (coordinate[0] < extent[0]) {\n    extent[0] = coordinate[0];\n  }\n  if (coordinate[0] > extent[2]) {\n    extent[2] = coordinate[0];\n  }\n  if (coordinate[1] < extent[1]) {\n    extent[1] = coordinate[1];\n  }\n  if (coordinate[1] > extent[3]) {\n    extent[3] = coordinate[1];\n  }\n}\n\n\n/**\n * @param {Extent} extent Extent.\n * @param {Array<import(\"./coordinate.js\").Coordinate>} coordinates Coordinates.\n * @return {Extent} Extent.\n */\nexport function extendCoordinates(extent, coordinates) {\n  for (var i = 0, ii = coordinates.length; i < ii; ++i) {\n    extendCoordinate(extent, coordinates[i]);\n  }\n  return extent;\n}\n\n\n/**\n * @param {Extent} extent Extent.\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @return {Extent} Extent.\n */\nexport function extendFlatCoordinates(extent, flatCoordinates, offset, end, stride) {\n  for (; offset < end; offset += stride) {\n    extendXY(extent, flatCoordinates[offset], flatCoordinates[offset + 1]);\n  }\n  return extent;\n}\n\n\n/**\n * @param {Extent} extent Extent.\n * @param {Array<Array<import(\"./coordinate.js\").Coordinate>>} rings Rings.\n * @return {Extent} Extent.\n */\nexport function extendRings(extent, rings) {\n  for (var i = 0, ii = rings.length; i < ii; ++i) {\n    extendCoordinates(extent, rings[i]);\n  }\n  return extent;\n}\n\n\n/**\n * @param {Extent} extent Extent.\n * @param {number} x X.\n * @param {number} y Y.\n */\nexport function extendXY(extent, x, y) {\n  extent[0] = Math.min(extent[0], x);\n  extent[1] = Math.min(extent[1], y);\n  extent[2] = Math.max(extent[2], x);\n  extent[3] = Math.max(extent[3], y);\n}\n\n\n/**\n * This function calls `callback` for each corner of the extent. If the\n * callback returns a truthy value the function returns that value\n * immediately. Otherwise the function returns `false`.\n * @param {Extent} extent Extent.\n * @param {function(this:T, import(\"./coordinate.js\").Coordinate): S} callback Callback.\n * @param {T=} opt_this Value to use as `this` when executing `callback`.\n * @return {S|boolean} Value.\n * @template S, T\n */\nexport function forEachCorner(extent, callback, opt_this) {\n  var val;\n  val = callback.call(opt_this, getBottomLeft(extent));\n  if (val) {\n    return val;\n  }\n  val = callback.call(opt_this, getBottomRight(extent));\n  if (val) {\n    return val;\n  }\n  val = callback.call(opt_this, getTopRight(extent));\n  if (val) {\n    return val;\n  }\n  val = callback.call(opt_this, getTopLeft(extent));\n  if (val) {\n    return val;\n  }\n  return false;\n}\n\n\n/**\n * Get the size of an extent.\n * @param {Extent} extent Extent.\n * @return {number} Area.\n * @api\n */\nexport function getArea(extent) {\n  var area = 0;\n  if (!isEmpty(extent)) {\n    area = getWidth(extent) * getHeight(extent);\n  }\n  return area;\n}\n\n\n/**\n * Get the bottom left coordinate of an extent.\n * @param {Extent} extent Extent.\n * @return {import(\"./coordinate.js\").Coordinate} Bottom left coordinate.\n * @api\n */\nexport function getBottomLeft(extent) {\n  return [extent[0], extent[1]];\n}\n\n\n/**\n * Get the bottom right coordinate of an extent.\n * @param {Extent} extent Extent.\n * @return {import(\"./coordinate.js\").Coordinate} Bottom right coordinate.\n * @api\n */\nexport function getBottomRight(extent) {\n  return [extent[2], extent[1]];\n}\n\n\n/**\n * Get the center coordinate of an extent.\n * @param {Extent} extent Extent.\n * @return {import(\"./coordinate.js\").Coordinate} Center.\n * @api\n */\nexport function getCenter(extent) {\n  return [(extent[0] + extent[2]) / 2, (extent[1] + extent[3]) / 2];\n}\n\n\n/**\n * Get a corner coordinate of an extent.\n * @param {Extent} extent Extent.\n * @param {Corner} corner Corner.\n * @return {import(\"./coordinate.js\").Coordinate} Corner coordinate.\n */\nexport function getCorner(extent, corner) {\n  var coordinate;\n  if (corner === Corner.BOTTOM_LEFT) {\n    coordinate = getBottomLeft(extent);\n  } else if (corner === Corner.BOTTOM_RIGHT) {\n    coordinate = getBottomRight(extent);\n  } else if (corner === Corner.TOP_LEFT) {\n    coordinate = getTopLeft(extent);\n  } else if (corner === Corner.TOP_RIGHT) {\n    coordinate = getTopRight(extent);\n  } else {\n    assert(false, 13); // Invalid corner\n  }\n  return coordinate;\n}\n\n\n/**\n * @param {Extent} extent1 Extent 1.\n * @param {Extent} extent2 Extent 2.\n * @return {number} Enlarged area.\n */\nexport function getEnlargedArea(extent1, extent2) {\n  var minX = Math.min(extent1[0], extent2[0]);\n  var minY = Math.min(extent1[1], extent2[1]);\n  var maxX = Math.max(extent1[2], extent2[2]);\n  var maxY = Math.max(extent1[3], extent2[3]);\n  return (maxX - minX) * (maxY - minY);\n}\n\n\n/**\n * @param {import(\"./coordinate.js\").Coordinate} center Center.\n * @param {number} resolution Resolution.\n * @param {number} rotation Rotation.\n * @param {import(\"./size.js\").Size} size Size.\n * @param {Extent=} opt_extent Destination extent.\n * @return {Extent} Extent.\n */\nexport function getForViewAndSize(center, resolution, rotation, size, opt_extent) {\n  var dx = resolution * size[0] / 2;\n  var dy = resolution * size[1] / 2;\n  var cosRotation = Math.cos(rotation);\n  var sinRotation = Math.sin(rotation);\n  var xCos = dx * cosRotation;\n  var xSin = dx * sinRotation;\n  var yCos = dy * cosRotation;\n  var ySin = dy * sinRotation;\n  var x = center[0];\n  var y = center[1];\n  var x0 = x - xCos + ySin;\n  var x1 = x - xCos - ySin;\n  var x2 = x + xCos - ySin;\n  var x3 = x + xCos + ySin;\n  var y0 = y - xSin - yCos;\n  var y1 = y - xSin + yCos;\n  var y2 = y + xSin + yCos;\n  var y3 = y + xSin - yCos;\n  return createOrUpdate(\n    Math.min(x0, x1, x2, x3), Math.min(y0, y1, y2, y3),\n    Math.max(x0, x1, x2, x3), Math.max(y0, y1, y2, y3),\n    opt_extent);\n}\n\n\n/**\n * Get the height of an extent.\n * @param {Extent} extent Extent.\n * @return {number} Height.\n * @api\n */\nexport function getHeight(extent) {\n  return extent[3] - extent[1];\n}\n\n\n/**\n * @param {Extent} extent1 Extent 1.\n * @param {Extent} extent2 Extent 2.\n * @return {number} Intersection area.\n */\nexport function getIntersectionArea(extent1, extent2) {\n  var intersection = getIntersection(extent1, extent2);\n  return getArea(intersection);\n}\n\n\n/**\n * Get the intersection of two extents.\n * @param {Extent} extent1 Extent 1.\n * @param {Extent} extent2 Extent 2.\n * @param {Extent=} opt_extent Optional extent to populate with intersection.\n * @return {Extent} Intersecting extent.\n * @api\n */\nexport function getIntersection(extent1, extent2, opt_extent) {\n  var intersection = opt_extent ? opt_extent : createEmpty();\n  if (intersects(extent1, extent2)) {\n    if (extent1[0] > extent2[0]) {\n      intersection[0] = extent1[0];\n    } else {\n      intersection[0] = extent2[0];\n    }\n    if (extent1[1] > extent2[1]) {\n      intersection[1] = extent1[1];\n    } else {\n      intersection[1] = extent2[1];\n    }\n    if (extent1[2] < extent2[2]) {\n      intersection[2] = extent1[2];\n    } else {\n      intersection[2] = extent2[2];\n    }\n    if (extent1[3] < extent2[3]) {\n      intersection[3] = extent1[3];\n    } else {\n      intersection[3] = extent2[3];\n    }\n  } else {\n    createOrUpdateEmpty(intersection);\n  }\n  return intersection;\n}\n\n\n/**\n * @param {Extent} extent Extent.\n * @return {number} Margin.\n */\nexport function getMargin(extent) {\n  return getWidth(extent) + getHeight(extent);\n}\n\n\n/**\n * Get the size (width, height) of an extent.\n * @param {Extent} extent The extent.\n * @return {import(\"./size.js\").Size} The extent size.\n * @api\n */\nexport function getSize(extent) {\n  return [extent[2] - extent[0], extent[3] - extent[1]];\n}\n\n\n/**\n * Get the top left coordinate of an extent.\n * @param {Extent} extent Extent.\n * @return {import(\"./coordinate.js\").Coordinate} Top left coordinate.\n * @api\n */\nexport function getTopLeft(extent) {\n  return [extent[0], extent[3]];\n}\n\n\n/**\n * Get the top right coordinate of an extent.\n * @param {Extent} extent Extent.\n * @return {import(\"./coordinate.js\").Coordinate} Top right coordinate.\n * @api\n */\nexport function getTopRight(extent) {\n  return [extent[2], extent[3]];\n}\n\n\n/**\n * Get the width of an extent.\n * @param {Extent} extent Extent.\n * @return {number} Width.\n * @api\n */\nexport function getWidth(extent) {\n  return extent[2] - extent[0];\n}\n\n\n/**\n * Determine if one extent intersects another.\n * @param {Extent} extent1 Extent 1.\n * @param {Extent} extent2 Extent.\n * @return {boolean} The two extents intersect.\n * @api\n */\nexport function intersects(extent1, extent2) {\n  return extent1[0] <= extent2[2] &&\n      extent1[2] >= extent2[0] &&\n      extent1[1] <= extent2[3] &&\n      extent1[3] >= extent2[1];\n}\n\n\n/**\n * Determine if an extent is empty.\n * @param {Extent} extent Extent.\n * @return {boolean} Is empty.\n * @api\n */\nexport function isEmpty(extent) {\n  return extent[2] < extent[0] || extent[3] < extent[1];\n}\n\n\n/**\n * @param {Extent} extent Extent.\n * @param {Extent=} opt_extent Extent.\n * @return {Extent} Extent.\n */\nexport function returnOrUpdate(extent, opt_extent) {\n  if (opt_extent) {\n    opt_extent[0] = extent[0];\n    opt_extent[1] = extent[1];\n    opt_extent[2] = extent[2];\n    opt_extent[3] = extent[3];\n    return opt_extent;\n  } else {\n    return extent;\n  }\n}\n\n\n/**\n * @param {Extent} extent Extent.\n * @param {number} value Value.\n */\nexport function scaleFromCenter(extent, value) {\n  var deltaX = ((extent[2] - extent[0]) / 2) * (value - 1);\n  var deltaY = ((extent[3] - extent[1]) / 2) * (value - 1);\n  extent[0] -= deltaX;\n  extent[2] += deltaX;\n  extent[1] -= deltaY;\n  extent[3] += deltaY;\n}\n\n\n/**\n * Determine if the segment between two coordinates intersects (crosses,\n * touches, or is contained by) the provided extent.\n * @param {Extent} extent The extent.\n * @param {import(\"./coordinate.js\").Coordinate} start Segment start coordinate.\n * @param {import(\"./coordinate.js\").Coordinate} end Segment end coordinate.\n * @return {boolean} The segment intersects the extent.\n */\nexport function intersectsSegment(extent, start, end) {\n  var intersects = false;\n  var startRel = coordinateRelationship(extent, start);\n  var endRel = coordinateRelationship(extent, end);\n  if (startRel === Relationship.INTERSECTING ||\n      endRel === Relationship.INTERSECTING) {\n    intersects = true;\n  } else {\n    var minX = extent[0];\n    var minY = extent[1];\n    var maxX = extent[2];\n    var maxY = extent[3];\n    var startX = start[0];\n    var startY = start[1];\n    var endX = end[0];\n    var endY = end[1];\n    var slope = (endY - startY) / (endX - startX);\n    var x, y;\n    if (!!(endRel & Relationship.ABOVE) &&\n        !(startRel & Relationship.ABOVE)) {\n      // potentially intersects top\n      x = endX - ((endY - maxY) / slope);\n      intersects = x >= minX && x <= maxX;\n    }\n    if (!intersects && !!(endRel & Relationship.RIGHT) &&\n        !(startRel & Relationship.RIGHT)) {\n      // potentially intersects right\n      y = endY - ((endX - maxX) * slope);\n      intersects = y >= minY && y <= maxY;\n    }\n    if (!intersects && !!(endRel & Relationship.BELOW) &&\n        !(startRel & Relationship.BELOW)) {\n      // potentially intersects bottom\n      x = endX - ((endY - minY) / slope);\n      intersects = x >= minX && x <= maxX;\n    }\n    if (!intersects && !!(endRel & Relationship.LEFT) &&\n        !(startRel & Relationship.LEFT)) {\n      // potentially intersects left\n      y = endY - ((endX - minX) * slope);\n      intersects = y >= minY && y <= maxY;\n    }\n\n  }\n  return intersects;\n}\n\n\n/**\n * Apply a transform function to the extent.\n * @param {Extent} extent Extent.\n * @param {import(\"./proj.js\").TransformFunction} transformFn Transform function.\n * Called with `[minX, minY, maxX, maxY]` extent coordinates.\n * @param {Extent=} opt_extent Destination extent.\n * @return {Extent} Extent.\n * @api\n */\nexport function applyTransform(extent, transformFn, opt_extent) {\n  var coordinates = [\n    extent[0], extent[1],\n    extent[0], extent[3],\n    extent[2], extent[1],\n    extent[2], extent[3]\n  ];\n  transformFn(coordinates, coordinates, 2);\n  var xs = [coordinates[0], coordinates[2], coordinates[4], coordinates[6]];\n  var ys = [coordinates[1], coordinates[3], coordinates[5], coordinates[7]];\n  return _boundingExtentXYs(xs, ys, opt_extent);\n}\n\n//# sourceMappingURL=extent.js.map","/**\n * @module ol/MapBrowserEventType\n */\nimport EventType from './events/EventType.js';\n\n/**\n * Constants for event names.\n * @enum {string}\n */\nexport default {\n\n  /**\n   * A true single click with no dragging and no double click. Note that this\n   * event is delayed by 250 ms to ensure that it is not a double click.\n   * @event module:ol/MapBrowserEvent~MapBrowserEvent#singleclick\n   * @api\n   */\n  SINGLECLICK: 'singleclick',\n\n  /**\n   * A click with no dragging. A double click will fire two of this.\n   * @event module:ol/MapBrowserEvent~MapBrowserEvent#click\n   * @api\n   */\n  CLICK: EventType.CLICK,\n\n  /**\n   * A true double click, with no dragging.\n   * @event module:ol/MapBrowserEvent~MapBrowserEvent#dblclick\n   * @api\n   */\n  DBLCLICK: EventType.DBLCLICK,\n\n  /**\n   * Triggered when a pointer is dragged.\n   * @event module:ol/MapBrowserEvent~MapBrowserEvent#pointerdrag\n   * @api\n   */\n  POINTERDRAG: 'pointerdrag',\n\n  /**\n   * Triggered when a pointer is moved. Note that on touch devices this is\n   * triggered when the map is panned, so is not the same as mousemove.\n   * @event module:ol/MapBrowserEvent~MapBrowserEvent#pointermove\n   * @api\n   */\n  POINTERMOVE: 'pointermove',\n\n  POINTERDOWN: 'pointerdown',\n  POINTERUP: 'pointerup',\n  POINTEROVER: 'pointerover',\n  POINTEROUT: 'pointerout',\n  POINTERENTER: 'pointerenter',\n  POINTERLEAVE: 'pointerleave',\n  POINTERCANCEL: 'pointercancel'\n};\n\n//# sourceMappingURL=MapBrowserEventType.js.map","/**\n * @module ol/events/Target\n */\nimport Disposable from '../Disposable.js';\nimport {unlistenAll} from '../events.js';\nimport {VOID} from '../functions.js';\nimport Event from './Event.js';\n\n\n/**\n * @typedef {EventTarget|Target} EventTargetLike\n */\n\n\n/**\n * @classdesc\n * A simplified implementation of the W3C DOM Level 2 EventTarget interface.\n * See https://www.w3.org/TR/2000/REC-DOM-Level-2-Events-20001113/events.html#Events-EventTarget.\n *\n * There are two important simplifications compared to the specification:\n *\n * 1. The handling of `useCapture` in `addEventListener` and\n *    `removeEventListener`. There is no real capture model.\n * 2. The handling of `stopPropagation` and `preventDefault` on `dispatchEvent`.\n *    There is no event target hierarchy. When a listener calls\n *    `stopPropagation` or `preventDefault` on an event object, it means that no\n *    more listeners after this one will be called. Same as when the listener\n *    returns false.\n */\nvar Target = /*@__PURE__*/(function (Disposable) {\n  function Target() {\n\n    Disposable.call(this);\n\n    /**\n     * @private\n     * @type {!Object<string, number>}\n     */\n    this.pendingRemovals_ = {};\n\n    /**\n     * @private\n     * @type {!Object<string, number>}\n     */\n    this.dispatching_ = {};\n\n    /**\n     * @private\n     * @type {!Object<string, Array<import(\"../events.js\").ListenerFunction>>}\n     */\n    this.listeners_ = {};\n\n  }\n\n  if ( Disposable ) Target.__proto__ = Disposable;\n  Target.prototype = Object.create( Disposable && Disposable.prototype );\n  Target.prototype.constructor = Target;\n\n  /**\n   * @param {string} type Type.\n   * @param {import(\"../events.js\").ListenerFunction} listener Listener.\n   */\n  Target.prototype.addEventListener = function addEventListener (type, listener) {\n    var listeners = this.listeners_[type];\n    if (!listeners) {\n      listeners = this.listeners_[type] = [];\n    }\n    if (listeners.indexOf(listener) === -1) {\n      listeners.push(listener);\n    }\n  };\n\n  /**\n   * Dispatches an event and calls all listeners listening for events\n   * of this type. The event parameter can either be a string or an\n   * Object with a `type` property.\n   *\n   * @param {{type: string,\n   *     target: (EventTargetLike|undefined),\n   *     propagationStopped: (boolean|undefined)}|\n   *     import(\"./Event.js\").default|string} event Event object.\n   * @return {boolean|undefined} `false` if anyone called preventDefault on the\n   *     event object or if any of the listeners returned false.\n   * @api\n   */\n  Target.prototype.dispatchEvent = function dispatchEvent (event) {\n    var evt = typeof event === 'string' ? new Event(event) : event;\n    var type = evt.type;\n    evt.target = this;\n    var listeners = this.listeners_[type];\n    var propagate;\n    if (listeners) {\n      if (!(type in this.dispatching_)) {\n        this.dispatching_[type] = 0;\n        this.pendingRemovals_[type] = 0;\n      }\n      ++this.dispatching_[type];\n      for (var i = 0, ii = listeners.length; i < ii; ++i) {\n        if (listeners[i].call(this, evt) === false || evt.propagationStopped) {\n          propagate = false;\n          break;\n        }\n      }\n      --this.dispatching_[type];\n      if (this.dispatching_[type] === 0) {\n        var pendingRemovals = this.pendingRemovals_[type];\n        delete this.pendingRemovals_[type];\n        while (pendingRemovals--) {\n          this.removeEventListener(type, VOID);\n        }\n        delete this.dispatching_[type];\n      }\n      return propagate;\n    }\n  };\n\n  /**\n   * @inheritDoc\n   */\n  Target.prototype.disposeInternal = function disposeInternal () {\n    unlistenAll(this);\n  };\n\n  /**\n   * Get the listeners for a specified event type. Listeners are returned in the\n   * order that they will be called in.\n   *\n   * @param {string} type Type.\n   * @return {Array<import(\"../events.js\").ListenerFunction>} Listeners.\n   */\n  Target.prototype.getListeners = function getListeners (type) {\n    return this.listeners_[type];\n  };\n\n  /**\n   * @param {string=} opt_type Type. If not provided,\n   *     `true` will be returned if this event target has any listeners.\n   * @return {boolean} Has listeners.\n   */\n  Target.prototype.hasListener = function hasListener (opt_type) {\n    return opt_type ?\n      opt_type in this.listeners_ :\n      Object.keys(this.listeners_).length > 0;\n  };\n\n  /**\n   * @param {string} type Type.\n   * @param {import(\"../events.js\").ListenerFunction} listener Listener.\n   */\n  Target.prototype.removeEventListener = function removeEventListener (type, listener) {\n    var listeners = this.listeners_[type];\n    if (listeners) {\n      var index = listeners.indexOf(listener);\n      if (type in this.pendingRemovals_) {\n        // make listener a no-op, and remove later in #dispatchEvent()\n        listeners[index] = VOID;\n        ++this.pendingRemovals_[type];\n      } else {\n        listeners.splice(index, 1);\n        if (listeners.length === 0) {\n          delete this.listeners_[type];\n        }\n      }\n    }\n  };\n\n  return Target;\n}(Disposable));\n\n\nexport default Target;\n\n//# sourceMappingURL=Target.js.map","/**\n * @module ol/events/KeyCode\n */\n\n/**\n * @enum {number}\n * @const\n */\nexport default {\n  LEFT: 37,\n  UP: 38,\n  RIGHT: 39,\n  DOWN: 40\n};\n\n//# sourceMappingURL=KeyCode.js.map","/**\n * @module ol/CollectionEventType\n */\n\n/**\n * @enum {string}\n */\nexport default {\n  /**\n   * Triggered when an item is added to the collection.\n   * @event module:ol/Collection.CollectionEvent#add\n   * @api\n   */\n  ADD: 'add',\n  /**\n   * Triggered when an item is removed from the collection.\n   * @event module:ol/Collection.CollectionEvent#remove\n   * @api\n   */\n  REMOVE: 'remove'\n};\n\n//# sourceMappingURL=CollectionEventType.js.map","/**\n * @module ol/geom/flat/simplify\n */\n// Based on simplify-js https://github.com/mourner/simplify-js\n// Copyright (c) 2012, Vladimir Agafonkin\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//    1. Redistributions of source code must retain the above copyright notice,\n//       this list of conditions and the following disclaimer.\n//\n//    2. Redistributions in binary form must reproduce the above copyright\n//       notice, this list of conditions and the following disclaimer in the\n//       documentation and/or other materials provided with the distribution.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n\nimport {squaredSegmentDistance, squaredDistance} from '../../math.js';\n\n\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @param {number} squaredTolerance Squared tolerance.\n * @param {boolean} highQuality Highest quality.\n * @param {Array<number>=} opt_simplifiedFlatCoordinates Simplified flat\n *     coordinates.\n * @return {Array<number>} Simplified line string.\n */\nexport function simplifyLineString(flatCoordinates, offset, end,\n  stride, squaredTolerance, highQuality, opt_simplifiedFlatCoordinates) {\n  var simplifiedFlatCoordinates = opt_simplifiedFlatCoordinates !== undefined ?\n    opt_simplifiedFlatCoordinates : [];\n  if (!highQuality) {\n    end = radialDistance(flatCoordinates, offset, end,\n      stride, squaredTolerance,\n      simplifiedFlatCoordinates, 0);\n    flatCoordinates = simplifiedFlatCoordinates;\n    offset = 0;\n    stride = 2;\n  }\n  simplifiedFlatCoordinates.length = douglasPeucker(\n    flatCoordinates, offset, end, stride, squaredTolerance,\n    simplifiedFlatCoordinates, 0);\n  return simplifiedFlatCoordinates;\n}\n\n\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @param {number} squaredTolerance Squared tolerance.\n * @param {Array<number>} simplifiedFlatCoordinates Simplified flat\n *     coordinates.\n * @param {number} simplifiedOffset Simplified offset.\n * @return {number} Simplified offset.\n */\nexport function douglasPeucker(flatCoordinates, offset, end,\n  stride, squaredTolerance, simplifiedFlatCoordinates, simplifiedOffset) {\n  var n = (end - offset) / stride;\n  if (n < 3) {\n    for (; offset < end; offset += stride) {\n      simplifiedFlatCoordinates[simplifiedOffset++] =\n          flatCoordinates[offset];\n      simplifiedFlatCoordinates[simplifiedOffset++] =\n          flatCoordinates[offset + 1];\n    }\n    return simplifiedOffset;\n  }\n  /** @type {Array<number>} */\n  var markers = new Array(n);\n  markers[0] = 1;\n  markers[n - 1] = 1;\n  /** @type {Array<number>} */\n  var stack = [offset, end - stride];\n  var index = 0;\n  while (stack.length > 0) {\n    var last = stack.pop();\n    var first = stack.pop();\n    var maxSquaredDistance = 0;\n    var x1 = flatCoordinates[first];\n    var y1 = flatCoordinates[first + 1];\n    var x2 = flatCoordinates[last];\n    var y2 = flatCoordinates[last + 1];\n    for (var i = first + stride; i < last; i += stride) {\n      var x = flatCoordinates[i];\n      var y = flatCoordinates[i + 1];\n      var squaredDistance = squaredSegmentDistance(\n        x, y, x1, y1, x2, y2);\n      if (squaredDistance > maxSquaredDistance) {\n        index = i;\n        maxSquaredDistance = squaredDistance;\n      }\n    }\n    if (maxSquaredDistance > squaredTolerance) {\n      markers[(index - offset) / stride] = 1;\n      if (first + stride < index) {\n        stack.push(first, index);\n      }\n      if (index + stride < last) {\n        stack.push(index, last);\n      }\n    }\n  }\n  for (var i$1 = 0; i$1 < n; ++i$1) {\n    if (markers[i$1]) {\n      simplifiedFlatCoordinates[simplifiedOffset++] =\n          flatCoordinates[offset + i$1 * stride];\n      simplifiedFlatCoordinates[simplifiedOffset++] =\n          flatCoordinates[offset + i$1 * stride + 1];\n    }\n  }\n  return simplifiedOffset;\n}\n\n\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<number>} ends Ends.\n * @param {number} stride Stride.\n * @param {number} squaredTolerance Squared tolerance.\n * @param {Array<number>} simplifiedFlatCoordinates Simplified flat\n *     coordinates.\n * @param {number} simplifiedOffset Simplified offset.\n * @param {Array<number>} simplifiedEnds Simplified ends.\n * @return {number} Simplified offset.\n */\nexport function douglasPeuckerArray(flatCoordinates, offset,\n  ends, stride, squaredTolerance, simplifiedFlatCoordinates,\n  simplifiedOffset, simplifiedEnds) {\n  for (var i = 0, ii = ends.length; i < ii; ++i) {\n    var end = ends[i];\n    simplifiedOffset = douglasPeucker(\n      flatCoordinates, offset, end, stride, squaredTolerance,\n      simplifiedFlatCoordinates, simplifiedOffset);\n    simplifiedEnds.push(simplifiedOffset);\n    offset = end;\n  }\n  return simplifiedOffset;\n}\n\n\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<Array<number>>} endss Endss.\n * @param {number} stride Stride.\n * @param {number} squaredTolerance Squared tolerance.\n * @param {Array<number>} simplifiedFlatCoordinates Simplified flat\n *     coordinates.\n * @param {number} simplifiedOffset Simplified offset.\n * @param {Array<Array<number>>} simplifiedEndss Simplified endss.\n * @return {number} Simplified offset.\n */\nexport function douglasPeuckerMultiArray(\n  flatCoordinates, offset, endss, stride, squaredTolerance,\n  simplifiedFlatCoordinates, simplifiedOffset, simplifiedEndss) {\n  for (var i = 0, ii = endss.length; i < ii; ++i) {\n    var ends = endss[i];\n    var simplifiedEnds = [];\n    simplifiedOffset = douglasPeuckerArray(\n      flatCoordinates, offset, ends, stride, squaredTolerance,\n      simplifiedFlatCoordinates, simplifiedOffset, simplifiedEnds);\n    simplifiedEndss.push(simplifiedEnds);\n    offset = ends[ends.length - 1];\n  }\n  return simplifiedOffset;\n}\n\n\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @param {number} squaredTolerance Squared tolerance.\n * @param {Array<number>} simplifiedFlatCoordinates Simplified flat\n *     coordinates.\n * @param {number} simplifiedOffset Simplified offset.\n * @return {number} Simplified offset.\n */\nexport function radialDistance(flatCoordinates, offset, end,\n  stride, squaredTolerance, simplifiedFlatCoordinates, simplifiedOffset) {\n  if (end <= offset + stride) {\n    // zero or one point, no simplification possible, so copy and return\n    for (; offset < end; offset += stride) {\n      simplifiedFlatCoordinates[simplifiedOffset++] = flatCoordinates[offset];\n      simplifiedFlatCoordinates[simplifiedOffset++] =\n          flatCoordinates[offset + 1];\n    }\n    return simplifiedOffset;\n  }\n  var x1 = flatCoordinates[offset];\n  var y1 = flatCoordinates[offset + 1];\n  // copy first point\n  simplifiedFlatCoordinates[simplifiedOffset++] = x1;\n  simplifiedFlatCoordinates[simplifiedOffset++] = y1;\n  var x2 = x1;\n  var y2 = y1;\n  for (offset += stride; offset < end; offset += stride) {\n    x2 = flatCoordinates[offset];\n    y2 = flatCoordinates[offset + 1];\n    if (squaredDistance(x1, y1, x2, y2) > squaredTolerance) {\n      // copy point at offset\n      simplifiedFlatCoordinates[simplifiedOffset++] = x2;\n      simplifiedFlatCoordinates[simplifiedOffset++] = y2;\n      x1 = x2;\n      y1 = y2;\n    }\n  }\n  if (x2 != x1 || y2 != y1) {\n    // copy last point\n    simplifiedFlatCoordinates[simplifiedOffset++] = x2;\n    simplifiedFlatCoordinates[simplifiedOffset++] = y2;\n  }\n  return simplifiedOffset;\n}\n\n\n/**\n * @param {number} value Value.\n * @param {number} tolerance Tolerance.\n * @return {number} Rounded value.\n */\nexport function snap(value, tolerance) {\n  return tolerance * Math.round(value / tolerance);\n}\n\n\n/**\n * Simplifies a line string using an algorithm designed by Tim Schaub.\n * Coordinates are snapped to the nearest value in a virtual grid and\n * consecutive duplicate coordinates are discarded.  This effectively preserves\n * topology as the simplification of any subsection of a line string is\n * independent of the rest of the line string.  This means that, for examples,\n * the common edge between two polygons will be simplified to the same line\n * string independently in both polygons.  This implementation uses a single\n * pass over the coordinates and eliminates intermediate collinear points.\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @param {number} tolerance Tolerance.\n * @param {Array<number>} simplifiedFlatCoordinates Simplified flat\n *     coordinates.\n * @param {number} simplifiedOffset Simplified offset.\n * @return {number} Simplified offset.\n */\nexport function quantize(flatCoordinates, offset, end, stride,\n  tolerance, simplifiedFlatCoordinates, simplifiedOffset) {\n  // do nothing if the line is empty\n  if (offset == end) {\n    return simplifiedOffset;\n  }\n  // snap the first coordinate (P1)\n  var x1 = snap(flatCoordinates[offset], tolerance);\n  var y1 = snap(flatCoordinates[offset + 1], tolerance);\n  offset += stride;\n  // add the first coordinate to the output\n  simplifiedFlatCoordinates[simplifiedOffset++] = x1;\n  simplifiedFlatCoordinates[simplifiedOffset++] = y1;\n  // find the next coordinate that does not snap to the same value as the first\n  // coordinate (P2)\n  var x2, y2;\n  do {\n    x2 = snap(flatCoordinates[offset], tolerance);\n    y2 = snap(flatCoordinates[offset + 1], tolerance);\n    offset += stride;\n    if (offset == end) {\n      // all coordinates snap to the same value, the line collapses to a point\n      // push the last snapped value anyway to ensure that the output contains\n      // at least two points\n      // FIXME should we really return at least two points anyway?\n      simplifiedFlatCoordinates[simplifiedOffset++] = x2;\n      simplifiedFlatCoordinates[simplifiedOffset++] = y2;\n      return simplifiedOffset;\n    }\n  } while (x2 == x1 && y2 == y1);\n  while (offset < end) {\n    // snap the next coordinate (P3)\n    var x3 = snap(flatCoordinates[offset], tolerance);\n    var y3 = snap(flatCoordinates[offset + 1], tolerance);\n    offset += stride;\n    // skip P3 if it is equal to P2\n    if (x3 == x2 && y3 == y2) {\n      continue;\n    }\n    // calculate the delta between P1 and P2\n    var dx1 = x2 - x1;\n    var dy1 = y2 - y1;\n    // calculate the delta between P3 and P1\n    var dx2 = x3 - x1;\n    var dy2 = y3 - y1;\n    // if P1, P2, and P3 are colinear and P3 is further from P1 than P2 is from\n    // P1 in the same direction then P2 is on the straight line between P1 and\n    // P3\n    if ((dx1 * dy2 == dy1 * dx2) &&\n        ((dx1 < 0 && dx2 < dx1) || dx1 == dx2 || (dx1 > 0 && dx2 > dx1)) &&\n        ((dy1 < 0 && dy2 < dy1) || dy1 == dy2 || (dy1 > 0 && dy2 > dy1))) {\n      // discard P2 and set P2 = P3\n      x2 = x3;\n      y2 = y3;\n      continue;\n    }\n    // either P1, P2, and P3 are not colinear, or they are colinear but P3 is\n    // between P3 and P1 or on the opposite half of the line to P2.  add P2,\n    // and continue with P1 = P2 and P2 = P3\n    simplifiedFlatCoordinates[simplifiedOffset++] = x2;\n    simplifiedFlatCoordinates[simplifiedOffset++] = y2;\n    x1 = x2;\n    y1 = y2;\n    x2 = x3;\n    y2 = y3;\n  }\n  // add the last point (P2)\n  simplifiedFlatCoordinates[simplifiedOffset++] = x2;\n  simplifiedFlatCoordinates[simplifiedOffset++] = y2;\n  return simplifiedOffset;\n}\n\n\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<number>} ends Ends.\n * @param {number} stride Stride.\n * @param {number} tolerance Tolerance.\n * @param {Array<number>} simplifiedFlatCoordinates Simplified flat\n *     coordinates.\n * @param {number} simplifiedOffset Simplified offset.\n * @param {Array<number>} simplifiedEnds Simplified ends.\n * @return {number} Simplified offset.\n */\nexport function quantizeArray(\n  flatCoordinates, offset, ends, stride,\n  tolerance,\n  simplifiedFlatCoordinates, simplifiedOffset, simplifiedEnds) {\n  for (var i = 0, ii = ends.length; i < ii; ++i) {\n    var end = ends[i];\n    simplifiedOffset = quantize(\n      flatCoordinates, offset, end, stride,\n      tolerance,\n      simplifiedFlatCoordinates, simplifiedOffset);\n    simplifiedEnds.push(simplifiedOffset);\n    offset = end;\n  }\n  return simplifiedOffset;\n}\n\n\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<Array<number>>} endss Endss.\n * @param {number} stride Stride.\n * @param {number} tolerance Tolerance.\n * @param {Array<number>} simplifiedFlatCoordinates Simplified flat\n *     coordinates.\n * @param {number} simplifiedOffset Simplified offset.\n * @param {Array<Array<number>>} simplifiedEndss Simplified endss.\n * @return {number} Simplified offset.\n */\nexport function quantizeMultiArray(\n  flatCoordinates, offset, endss, stride,\n  tolerance,\n  simplifiedFlatCoordinates, simplifiedOffset, simplifiedEndss) {\n  for (var i = 0, ii = endss.length; i < ii; ++i) {\n    var ends = endss[i];\n    var simplifiedEnds = [];\n    simplifiedOffset = quantizeArray(\n      flatCoordinates, offset, ends, stride,\n      tolerance,\n      simplifiedFlatCoordinates, simplifiedOffset, simplifiedEnds);\n    simplifiedEndss.push(simplifiedEnds);\n    offset = ends[ends.length - 1];\n  }\n  return simplifiedOffset;\n}\n\n//# sourceMappingURL=simplify.js.map","/**\n * @module ol/events\n */\nimport {clear} from './obj.js';\n\n\n/**\n * Key to use with {@link module:ol/Observable~Observable#unByKey}.\n * @typedef {Object} EventsKey\n * @property {Object} [bindTo]\n * @property {ListenerFunction} [boundListener]\n * @property {boolean} callOnce\n * @property {number} [deleteIndex]\n * @property {ListenerFunction} listener\n * @property {import(\"./events/Target.js\").EventTargetLike} target\n * @property {string} type\n * @api\n */\n\n\n/**\n * Listener function. This function is called with an event object as argument.\n * When the function returns `false`, event propagation will stop.\n *\n * @typedef {function((Event|import(\"./events/Event.js\").default)): (void|boolean)} ListenerFunction\n * @api\n */\n\n\n/**\n * @param {EventsKey} listenerObj Listener object.\n * @return {ListenerFunction} Bound listener.\n */\nexport function bindListener(listenerObj) {\n  var boundListener = function(evt) {\n    var listener = listenerObj.listener;\n    var bindTo = listenerObj.bindTo || listenerObj.target;\n    if (listenerObj.callOnce) {\n      unlistenByKey(listenerObj);\n    }\n    return listener.call(bindTo, evt);\n  };\n  listenerObj.boundListener = boundListener;\n  return boundListener;\n}\n\n\n/**\n * Finds the matching {@link module:ol/events~EventsKey} in the given listener\n * array.\n *\n * @param {!Array<!EventsKey>} listeners Array of listeners.\n * @param {!Function} listener The listener function.\n * @param {Object=} opt_this The `this` value inside the listener.\n * @param {boolean=} opt_setDeleteIndex Set the deleteIndex on the matching\n *     listener, for {@link module:ol/events~unlistenByKey}.\n * @return {EventsKey|undefined} The matching listener object.\n */\nexport function findListener(listeners, listener, opt_this, opt_setDeleteIndex) {\n  var listenerObj;\n  for (var i = 0, ii = listeners.length; i < ii; ++i) {\n    listenerObj = listeners[i];\n    if (listenerObj.listener === listener &&\n        listenerObj.bindTo === opt_this) {\n      if (opt_setDeleteIndex) {\n        listenerObj.deleteIndex = i;\n      }\n      return listenerObj;\n    }\n  }\n  return undefined;\n}\n\n\n/**\n * @param {import(\"./events/Target.js\").EventTargetLike} target Target.\n * @param {string} type Type.\n * @return {Array<EventsKey>|undefined} Listeners.\n */\nexport function getListeners(target, type) {\n  var listenerMap = getListenerMap(target);\n  return listenerMap ? listenerMap[type] : undefined;\n}\n\n\n/**\n * Get the lookup of listeners.\n * @param {Object} target Target.\n * @param {boolean=} opt_create If a map should be created if it doesn't exist.\n * @return {!Object<string, Array<EventsKey>>} Map of\n *     listeners by event type.\n */\nfunction getListenerMap(target, opt_create) {\n  var listenerMap = target.ol_lm;\n  if (!listenerMap && opt_create) {\n    listenerMap = target.ol_lm = {};\n  }\n  return listenerMap;\n}\n\n\n/**\n * Remove the listener map from a target.\n * @param {Object} target Target.\n */\nfunction removeListenerMap(target) {\n  delete target.ol_lm;\n}\n\n\n/**\n * Clean up all listener objects of the given type.  All properties on the\n * listener objects will be removed, and if no listeners remain in the listener\n * map, it will be removed from the target.\n * @param {import(\"./events/Target.js\").EventTargetLike} target Target.\n * @param {string} type Type.\n */\nfunction removeListeners(target, type) {\n  var listeners = getListeners(target, type);\n  if (listeners) {\n    for (var i = 0, ii = listeners.length; i < ii; ++i) {\n      /** @type {import(\"./events/Target.js\").default} */ (target).\n        removeEventListener(type, listeners[i].boundListener);\n      clear(listeners[i]);\n    }\n    listeners.length = 0;\n    var listenerMap = getListenerMap(target);\n    if (listenerMap) {\n      delete listenerMap[type];\n      if (Object.keys(listenerMap).length === 0) {\n        removeListenerMap(target);\n      }\n    }\n  }\n}\n\n\n/**\n * Registers an event listener on an event target. Inspired by\n * https://google.github.io/closure-library/api/source/closure/goog/events/events.js.src.html\n *\n * This function efficiently binds a `listener` to a `this` object, and returns\n * a key for use with {@link module:ol/events~unlistenByKey}.\n *\n * @param {import(\"./events/Target.js\").EventTargetLike} target Event target.\n * @param {string} type Event type.\n * @param {ListenerFunction} listener Listener.\n * @param {Object=} opt_this Object referenced by the `this` keyword in the\n *     listener. Default is the `target`.\n * @param {boolean=} opt_once If true, add the listener as one-off listener.\n * @return {EventsKey} Unique key for the listener.\n */\nexport function listen(target, type, listener, opt_this, opt_once) {\n  var listenerMap = getListenerMap(target, true);\n  var listeners = listenerMap[type];\n  if (!listeners) {\n    listeners = listenerMap[type] = [];\n  }\n  var listenerObj = findListener(listeners, listener, opt_this, false);\n  if (listenerObj) {\n    if (!opt_once) {\n      // Turn one-off listener into a permanent one.\n      listenerObj.callOnce = false;\n    }\n  } else {\n    listenerObj = /** @type {EventsKey} */ ({\n      bindTo: opt_this,\n      callOnce: !!opt_once,\n      listener: listener,\n      target: target,\n      type: type\n    });\n    /** @type {import(\"./events/Target.js\").default} */ (target).\n      addEventListener(type, bindListener(listenerObj));\n    listeners.push(listenerObj);\n  }\n\n  return listenerObj;\n}\n\n\n/**\n * Registers a one-off event listener on an event target. Inspired by\n * https://google.github.io/closure-library/api/source/closure/goog/events/events.js.src.html\n *\n * This function efficiently binds a `listener` as self-unregistering listener\n * to a `this` object, and returns a key for use with\n * {@link module:ol/events~unlistenByKey} in case the listener needs to be\n * unregistered before it is called.\n *\n * When {@link module:ol/events~listen} is called with the same arguments after this\n * function, the self-unregistering listener will be turned into a permanent\n * listener.\n *\n * @param {import(\"./events/Target.js\").EventTargetLike} target Event target.\n * @param {string} type Event type.\n * @param {ListenerFunction} listener Listener.\n * @param {Object=} opt_this Object referenced by the `this` keyword in the\n *     listener. Default is the `target`.\n * @return {EventsKey} Key for unlistenByKey.\n */\nexport function listenOnce(target, type, listener, opt_this) {\n  return listen(target, type, listener, opt_this, true);\n}\n\n\n/**\n * Unregisters an event listener on an event target. Inspired by\n * https://google.github.io/closure-library/api/source/closure/goog/events/events.js.src.html\n *\n * To return a listener, this function needs to be called with the exact same\n * arguments that were used for a previous {@link module:ol/events~listen} call.\n *\n * @param {import(\"./events/Target.js\").EventTargetLike} target Event target.\n * @param {string} type Event type.\n * @param {ListenerFunction} listener Listener.\n * @param {Object=} opt_this Object referenced by the `this` keyword in the\n *     listener. Default is the `target`.\n */\nexport function unlisten(target, type, listener, opt_this) {\n  var listeners = getListeners(target, type);\n  if (listeners) {\n    var listenerObj = findListener(listeners, listener, opt_this, true);\n    if (listenerObj) {\n      unlistenByKey(listenerObj);\n    }\n  }\n}\n\n\n/**\n * Unregisters event listeners on an event target. Inspired by\n * https://google.github.io/closure-library/api/source/closure/goog/events/events.js.src.html\n *\n * The argument passed to this function is the key returned from\n * {@link module:ol/events~listen} or {@link module:ol/events~listenOnce}.\n *\n * @param {EventsKey} key The key.\n */\nexport function unlistenByKey(key) {\n  if (key && key.target) {\n    /** @type {import(\"./events/Target.js\").default} */ (key.target).\n      removeEventListener(key.type, key.boundListener);\n    var listeners = getListeners(key.target, key.type);\n    if (listeners) {\n      var i = 'deleteIndex' in key ? key.deleteIndex : listeners.indexOf(key);\n      if (i !== -1) {\n        listeners.splice(i, 1);\n      }\n      if (listeners.length === 0) {\n        removeListeners(key.target, key.type);\n      }\n    }\n    clear(key);\n  }\n}\n\n\n/**\n * Unregisters all event listeners on an event target. Inspired by\n * https://google.github.io/closure-library/api/source/closure/goog/events/events.js.src.html\n *\n * @param {import(\"./events/Target.js\").EventTargetLike} target Target.\n */\nexport function unlistenAll(target) {\n  var listenerMap = getListenerMap(target);\n  if (listenerMap) {\n    for (var type in listenerMap) {\n      removeListeners(target, type);\n    }\n  }\n}\n\n//# sourceMappingURL=events.js.map","/**\n * @module ol/Kinetic\n */\n\n/**\n * @classdesc\n * Implementation of inertial deceleration for map movement.\n *\n * @api\n */\nvar Kinetic = function Kinetic(decay, minVelocity, delay) {\n\n  /**\n   * @private\n   * @type {number}\n   */\n  this.decay_ = decay;\n\n  /**\n   * @private\n   * @type {number}\n   */\n  this.minVelocity_ = minVelocity;\n\n  /**\n   * @private\n   * @type {number}\n   */\n  this.delay_ = delay;\n\n  /**\n   * @private\n   * @type {Array<number>}\n   */\n  this.points_ = [];\n\n  /**\n   * @private\n   * @type {number}\n   */\n  this.angle_ = 0;\n\n  /**\n   * @private\n   * @type {number}\n   */\n  this.initialVelocity_ = 0;\n};\n\n/**\n * FIXME empty description for jsdoc\n */\nKinetic.prototype.begin = function begin () {\n  this.points_.length = 0;\n  this.angle_ = 0;\n  this.initialVelocity_ = 0;\n};\n\n/**\n * @param {number} x X.\n * @param {number} y Y.\n */\nKinetic.prototype.update = function update (x, y) {\n  this.points_.push(x, y, Date.now());\n};\n\n/**\n * @return {boolean} Whether we should do kinetic animation.\n */\nKinetic.prototype.end = function end () {\n  if (this.points_.length < 6) {\n    // at least 2 points are required (i.e. there must be at least 6 elements\n    // in the array)\n    return false;\n  }\n  var delay = Date.now() - this.delay_;\n  var lastIndex = this.points_.length - 3;\n  if (this.points_[lastIndex + 2] < delay) {\n    // the last tracked point is too old, which means that the user stopped\n    // panning before releasing the map\n    return false;\n  }\n\n  // get the first point which still falls into the delay time\n  var firstIndex = lastIndex - 3;\n  while (firstIndex > 0 && this.points_[firstIndex + 2] > delay) {\n    firstIndex -= 3;\n  }\n\n  var duration = this.points_[lastIndex + 2] - this.points_[firstIndex + 2];\n  // we don't want a duration of 0 (divide by zero)\n  // we also make sure the user panned for a duration of at least one frame\n  // (1/60s) to compute sane displacement values\n  if (duration < 1000 / 60) {\n    return false;\n  }\n\n  var dx = this.points_[lastIndex] - this.points_[firstIndex];\n  var dy = this.points_[lastIndex + 1] - this.points_[firstIndex + 1];\n  this.angle_ = Math.atan2(dy, dx);\n  this.initialVelocity_ = Math.sqrt(dx * dx + dy * dy) / duration;\n  return this.initialVelocity_ > this.minVelocity_;\n};\n\n/**\n * @return {number} Total distance travelled (pixels).\n */\nKinetic.prototype.getDistance = function getDistance () {\n  return (this.minVelocity_ - this.initialVelocity_) / this.decay_;\n};\n\n/**\n * @return {number} Angle of the kinetic panning animation (radians).\n */\nKinetic.prototype.getAngle = function getAngle () {\n  return this.angle_;\n};\n\nexport default Kinetic;\n\n//# sourceMappingURL=Kinetic.js.map","/**\n * @module ol/Observable\n */\nimport {listen, unlistenByKey, unlisten, listenOnce} from './events.js';\nimport EventTarget from './events/Target.js';\nimport EventType from './events/EventType.js';\n\n/**\n * @classdesc\n * Abstract base class; normally only used for creating subclasses and not\n * instantiated in apps.\n * An event target providing convenient methods for listener registration\n * and unregistration. A generic `change` event is always available through\n * {@link module:ol/Observable~Observable#changed}.\n *\n * @fires import(\"./events/Event.js\").Event\n * @api\n */\nvar Observable = /*@__PURE__*/(function (EventTarget) {\n  function Observable() {\n\n    EventTarget.call(this);\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.revision_ = 0;\n\n  }\n\n  if ( EventTarget ) Observable.__proto__ = EventTarget;\n  Observable.prototype = Object.create( EventTarget && EventTarget.prototype );\n  Observable.prototype.constructor = Observable;\n\n  /**\n   * Increases the revision counter and dispatches a 'change' event.\n   * @api\n   */\n  Observable.prototype.changed = function changed () {\n    ++this.revision_;\n    this.dispatchEvent(EventType.CHANGE);\n  };\n\n  /**\n   * Get the version number for this object.  Each time the object is modified,\n   * its version number will be incremented.\n   * @return {number} Revision.\n   * @api\n   */\n  Observable.prototype.getRevision = function getRevision () {\n    return this.revision_;\n  };\n\n  /**\n   * Listen for a certain type of event.\n   * @param {string|Array<string>} type The event type or array of event types.\n   * @param {function(?): ?} listener The listener function.\n   * @return {import(\"./events.js\").EventsKey|Array<import(\"./events.js\").EventsKey>} Unique key for the listener. If\n   *     called with an array of event types as the first argument, the return\n   *     will be an array of keys.\n   * @api\n   */\n  Observable.prototype.on = function on (type, listener) {\n    if (Array.isArray(type)) {\n      var len = type.length;\n      var keys = new Array(len);\n      for (var i = 0; i < len; ++i) {\n        keys[i] = listen(this, type[i], listener);\n      }\n      return keys;\n    } else {\n      return listen(this, /** @type {string} */ (type), listener);\n    }\n  };\n\n  /**\n   * Listen once for a certain type of event.\n   * @param {string|Array<string>} type The event type or array of event types.\n   * @param {function(?): ?} listener The listener function.\n   * @return {import(\"./events.js\").EventsKey|Array<import(\"./events.js\").EventsKey>} Unique key for the listener. If\n   *     called with an array of event types as the first argument, the return\n   *     will be an array of keys.\n   * @api\n   */\n  Observable.prototype.once = function once (type, listener) {\n    if (Array.isArray(type)) {\n      var len = type.length;\n      var keys = new Array(len);\n      for (var i = 0; i < len; ++i) {\n        keys[i] = listenOnce(this, type[i], listener);\n      }\n      return keys;\n    } else {\n      return listenOnce(this, /** @type {string} */ (type), listener);\n    }\n  };\n\n  /**\n   * Unlisten for a certain type of event.\n   * @param {string|Array<string>} type The event type or array of event types.\n   * @param {function(?): ?} listener The listener function.\n   * @api\n   */\n  Observable.prototype.un = function un (type, listener) {\n    if (Array.isArray(type)) {\n      for (var i = 0, ii = type.length; i < ii; ++i) {\n        unlisten(this, type[i], listener);\n      }\n      return;\n    } else {\n      unlisten(this, /** @type {string} */ (type), listener);\n    }\n  };\n\n  return Observable;\n}(EventTarget));\n\n\n/**\n * Removes an event listener using the key returned by `on()` or `once()`.\n * @param {import(\"./events.js\").EventsKey|Array<import(\"./events.js\").EventsKey>} key The key returned by `on()`\n *     or `once()` (or an array of keys).\n * @api\n */\nexport function unByKey(key) {\n  if (Array.isArray(key)) {\n    for (var i = 0, ii = key.length; i < ii; ++i) {\n      unlistenByKey(key[i]);\n    }\n  } else {\n    unlistenByKey(/** @type {import(\"./events.js\").EventsKey} */ (key));\n  }\n}\n\n\nexport default Observable;\n\n//# sourceMappingURL=Observable.js.map","/**\n * @module ol/extent/Corner\n */\n\n/**\n * Extent corner.\n * @enum {string}\n */\nexport default {\n  BOTTOM_LEFT: 'bottom-left',\n  BOTTOM_RIGHT: 'bottom-right',\n  TOP_LEFT: 'top-left',\n  TOP_RIGHT: 'top-right'\n};\n\n//# sourceMappingURL=Corner.js.map","/**\n * @module ol/control/Control\n */\nimport {VOID} from '../functions.js';\nimport MapEventType from '../MapEventType.js';\nimport BaseObject from '../Object.js';\nimport {removeNode} from '../dom.js';\nimport {listen, unlistenByKey} from '../events.js';\n\n\n/**\n * @typedef {Object} Options\n * @property {HTMLElement} [element] The element is the control's\n * container element. This only needs to be specified if you're developing\n * a custom control.\n * @property {function(import(\"../MapEvent.js\").default)} [render] Function called when\n * the control should be re-rendered. This is called in a `requestAnimationFrame`\n * callback.\n * @property {HTMLElement|string} [target] Specify a target if you want\n * the control to be rendered outside of the map's viewport.\n */\n\n\n/**\n * @classdesc\n * A control is a visible widget with a DOM element in a fixed position on the\n * screen. They can involve user input (buttons), or be informational only;\n * the position is determined using CSS. By default these are placed in the\n * container with CSS class name `ol-overlaycontainer-stopevent`, but can use\n * any outside DOM element.\n *\n * This is the base class for controls. You can use it for simple custom\n * controls by creating the element with listeners, creating an instance:\n * ```js\n * var myControl = new Control({element: myElement});\n * ```\n * and then adding this to the map.\n *\n * The main advantage of having this as a control rather than a simple separate\n * DOM element is that preventing propagation is handled for you. Controls\n * will also be objects in a {@link module:ol/Collection~Collection}, so you can use their methods.\n *\n * You can also extend this base for your own control class. See\n * examples/custom-controls for an example of how to do this.\n *\n * @api\n */\nvar Control = /*@__PURE__*/(function (BaseObject) {\n  function Control(options) {\n\n    BaseObject.call(this);\n\n    /**\n     * @protected\n     * @type {HTMLElement}\n     */\n    this.element = options.element ? options.element : null;\n\n    /**\n     * @private\n     * @type {HTMLElement}\n     */\n    this.target_ = null;\n\n    /**\n     * @private\n     * @type {import(\"../PluggableMap.js\").default}\n     */\n    this.map_ = null;\n\n    /**\n     * @protected\n     * @type {!Array<import(\"../events.js\").EventsKey>}\n     */\n    this.listenerKeys = [];\n\n    /**\n     * @type {function(import(\"../MapEvent.js\").default)}\n     */\n    this.render = options.render ? options.render : VOID;\n\n    if (options.target) {\n      this.setTarget(options.target);\n    }\n\n  }\n\n  if ( BaseObject ) Control.__proto__ = BaseObject;\n  Control.prototype = Object.create( BaseObject && BaseObject.prototype );\n  Control.prototype.constructor = Control;\n\n  /**\n   * @inheritDoc\n   */\n  Control.prototype.disposeInternal = function disposeInternal () {\n    removeNode(this.element);\n    BaseObject.prototype.disposeInternal.call(this);\n  };\n\n  /**\n   * Get the map associated with this control.\n   * @return {import(\"../PluggableMap.js\").default} Map.\n   * @api\n   */\n  Control.prototype.getMap = function getMap () {\n    return this.map_;\n  };\n\n  /**\n   * Remove the control from its current map and attach it to the new map.\n   * Subclasses may set up event handlers to get notified about changes to\n   * the map here.\n   * @param {import(\"../PluggableMap.js\").default} map Map.\n   * @api\n   */\n  Control.prototype.setMap = function setMap (map) {\n    if (this.map_) {\n      removeNode(this.element);\n    }\n    for (var i = 0, ii = this.listenerKeys.length; i < ii; ++i) {\n      unlistenByKey(this.listenerKeys[i]);\n    }\n    this.listenerKeys.length = 0;\n    this.map_ = map;\n    if (this.map_) {\n      var target = this.target_ ?\n        this.target_ : map.getOverlayContainerStopEvent();\n      target.appendChild(this.element);\n      if (this.render !== VOID) {\n        this.listenerKeys.push(listen(map,\n          MapEventType.POSTRENDER, this.render, this));\n      }\n      map.render();\n    }\n  };\n\n  /**\n   * This function is used to set a target element for the control. It has no\n   * effect if it is called after the control has been added to the map (i.e.\n   * after `setMap` is called on the control). If no `target` is set in the\n   * options passed to the control constructor and if `setTarget` is not called\n   * then the control is added to the map's overlay container.\n   * @param {HTMLElement|string} target Target.\n   * @api\n   */\n  Control.prototype.setTarget = function setTarget (target) {\n    this.target_ = typeof target === 'string' ?\n      document.getElementById(target) :\n      target;\n  };\n\n  return Control;\n}(BaseObject));\n\n\nexport default Control;\n\n//# sourceMappingURL=Control.js.map","/**\n * @module ol/ViewHint\n */\n\n/**\n * @enum {number}\n */\nexport default {\n  ANIMATING: 0,\n  INTERACTING: 1\n};\n\n//# sourceMappingURL=ViewHint.js.map","/**\n * @module ol/Feature\n */\nimport {assert} from './asserts.js';\nimport {listen, unlisten, unlistenByKey} from './events.js';\nimport EventType from './events/EventType.js';\nimport BaseObject, {getChangeEventType} from './Object.js';\n\n/**\n * @typedef {typeof Feature|typeof import(\"./render/Feature.js\").default} FeatureClass\n */\n\n/**\n * @typedef {Feature|import(\"./render/Feature.js\").default} FeatureLike\n */\n\n/**\n * @classdesc\n * A vector object for geographic features with a geometry and other\n * attribute properties, similar to the features in vector file formats like\n * GeoJSON.\n *\n * Features can be styled individually with `setStyle`; otherwise they use the\n * style of their vector layer.\n *\n * Note that attribute properties are set as {@link module:ol/Object} properties on\n * the feature object, so they are observable, and have get/set accessors.\n *\n * Typically, a feature has a single geometry property. You can set the\n * geometry using the `setGeometry` method and get it with `getGeometry`.\n * It is possible to store more than one geometry on a feature using attribute\n * properties. By default, the geometry used for rendering is identified by\n * the property name `geometry`. If you want to use another geometry property\n * for rendering, use the `setGeometryName` method to change the attribute\n * property associated with the geometry for the feature.  For example:\n *\n * ```js\n *\n * import Feature from 'ol/Feature';\n * import Polygon from 'ol/geom/Polygon';\n * import Point from 'ol/geom/Point';\n *\n * var feature = new Feature({\n *   geometry: new Polygon(polyCoords),\n *   labelPoint: new Point(labelCoords),\n *   name: 'My Polygon'\n * });\n *\n * // get the polygon geometry\n * var poly = feature.getGeometry();\n *\n * // Render the feature as a point using the coordinates from labelPoint\n * feature.setGeometryName('labelPoint');\n *\n * // get the point geometry\n * var point = feature.getGeometry();\n * ```\n *\n * @api\n */\nvar Feature = /*@__PURE__*/(function (BaseObject) {\n  function Feature(opt_geometryOrProperties) {\n\n    BaseObject.call(this);\n\n    /**\n     * @private\n     * @type {number|string|undefined}\n     */\n    this.id_ = undefined;\n\n    /**\n     * @type {string}\n     * @private\n     */\n    this.geometryName_ = 'geometry';\n\n    /**\n     * User provided style.\n     * @private\n     * @type {import(\"./style/Style.js\").StyleLike}\n     */\n    this.style_ = null;\n\n    /**\n     * @private\n     * @type {import(\"./style/Style.js\").StyleFunction|undefined}\n     */\n    this.styleFunction_ = undefined;\n\n    /**\n     * @private\n     * @type {?import(\"./events.js\").EventsKey}\n     */\n    this.geometryChangeKey_ = null;\n\n    listen(\n      this, getChangeEventType(this.geometryName_),\n      this.handleGeometryChanged_, this);\n\n    if (opt_geometryOrProperties) {\n      if (typeof /** @type {?} */ (opt_geometryOrProperties).getSimplifiedGeometry === 'function') {\n        var geometry = /** @type {import(\"./geom/Geometry.js\").default} */ (opt_geometryOrProperties);\n        this.setGeometry(geometry);\n      } else {\n        /** @type {Object<string, *>} */\n        var properties = opt_geometryOrProperties;\n        this.setProperties(properties);\n      }\n    }\n  }\n\n  if ( BaseObject ) Feature.__proto__ = BaseObject;\n  Feature.prototype = Object.create( BaseObject && BaseObject.prototype );\n  Feature.prototype.constructor = Feature;\n\n  /**\n   * Clone this feature. If the original feature has a geometry it\n   * is also cloned. The feature id is not set in the clone.\n   * @return {Feature} The clone.\n   * @api\n   */\n  Feature.prototype.clone = function clone () {\n    var clone = new Feature(this.getProperties());\n    clone.setGeometryName(this.getGeometryName());\n    var geometry = this.getGeometry();\n    if (geometry) {\n      clone.setGeometry(geometry.clone());\n    }\n    var style = this.getStyle();\n    if (style) {\n      clone.setStyle(style);\n    }\n    return clone;\n  };\n\n  /**\n   * Get the feature's default geometry.  A feature may have any number of named\n   * geometries.  The \"default\" geometry (the one that is rendered by default) is\n   * set when calling {@link module:ol/Feature~Feature#setGeometry}.\n   * @return {import(\"./geom/Geometry.js\").default|undefined} The default geometry for the feature.\n   * @api\n   * @observable\n   */\n  Feature.prototype.getGeometry = function getGeometry () {\n    return (\n      /** @type {import(\"./geom/Geometry.js\").default|undefined} */ (this.get(this.geometryName_))\n    );\n  };\n\n  /**\n   * Get the feature identifier.  This is a stable identifier for the feature and\n   * is either set when reading data from a remote source or set explicitly by\n   * calling {@link module:ol/Feature~Feature#setId}.\n   * @return {number|string|undefined} Id.\n   * @api\n   */\n  Feature.prototype.getId = function getId () {\n    return this.id_;\n  };\n\n  /**\n   * Get the name of the feature's default geometry.  By default, the default\n   * geometry is named `geometry`.\n   * @return {string} Get the property name associated with the default geometry\n   *     for this feature.\n   * @api\n   */\n  Feature.prototype.getGeometryName = function getGeometryName () {\n    return this.geometryName_;\n  };\n\n  /**\n   * Get the feature's style. Will return what was provided to the\n   * {@link module:ol/Feature~Feature#setStyle} method.\n   * @return {import(\"./style/Style.js\").StyleLike} The feature style.\n   * @api\n   */\n  Feature.prototype.getStyle = function getStyle () {\n    return this.style_;\n  };\n\n  /**\n   * Get the feature's style function.\n   * @return {import(\"./style/Style.js\").StyleFunction|undefined} Return a function\n   * representing the current style of this feature.\n   * @api\n   */\n  Feature.prototype.getStyleFunction = function getStyleFunction () {\n    return this.styleFunction_;\n  };\n\n  /**\n   * @private\n   */\n  Feature.prototype.handleGeometryChange_ = function handleGeometryChange_ () {\n    this.changed();\n  };\n\n  /**\n   * @private\n   */\n  Feature.prototype.handleGeometryChanged_ = function handleGeometryChanged_ () {\n    if (this.geometryChangeKey_) {\n      unlistenByKey(this.geometryChangeKey_);\n      this.geometryChangeKey_ = null;\n    }\n    var geometry = this.getGeometry();\n    if (geometry) {\n      this.geometryChangeKey_ = listen(geometry,\n        EventType.CHANGE, this.handleGeometryChange_, this);\n    }\n    this.changed();\n  };\n\n  /**\n   * Set the default geometry for the feature.  This will update the property\n   * with the name returned by {@link module:ol/Feature~Feature#getGeometryName}.\n   * @param {import(\"./geom/Geometry.js\").default|undefined} geometry The new geometry.\n   * @api\n   * @observable\n   */\n  Feature.prototype.setGeometry = function setGeometry (geometry) {\n    this.set(this.geometryName_, geometry);\n  };\n\n  /**\n   * Set the style for the feature.  This can be a single style object, an array\n   * of styles, or a function that takes a resolution and returns an array of\n   * styles. If it is `null` the feature has no style (a `null` style).\n   * @param {import(\"./style/Style.js\").StyleLike} style Style for this feature.\n   * @api\n   * @fires module:ol/events/Event~Event#event:change\n   */\n  Feature.prototype.setStyle = function setStyle (style) {\n    this.style_ = style;\n    this.styleFunction_ = !style ? undefined : createStyleFunction(style);\n    this.changed();\n  };\n\n  /**\n   * Set the feature id.  The feature id is considered stable and may be used when\n   * requesting features or comparing identifiers returned from a remote source.\n   * The feature id can be used with the\n   * {@link module:ol/source/Vector~VectorSource#getFeatureById} method.\n   * @param {number|string|undefined} id The feature id.\n   * @api\n   * @fires module:ol/events/Event~Event#event:change\n   */\n  Feature.prototype.setId = function setId (id) {\n    this.id_ = id;\n    this.changed();\n  };\n\n  /**\n   * Set the property name to be used when getting the feature's default geometry.\n   * When calling {@link module:ol/Feature~Feature#getGeometry}, the value of the property with\n   * this name will be returned.\n   * @param {string} name The property name of the default geometry.\n   * @api\n   */\n  Feature.prototype.setGeometryName = function setGeometryName (name) {\n    unlisten(\n      this, getChangeEventType(this.geometryName_),\n      this.handleGeometryChanged_, this);\n    this.geometryName_ = name;\n    listen(\n      this, getChangeEventType(this.geometryName_),\n      this.handleGeometryChanged_, this);\n    this.handleGeometryChanged_();\n  };\n\n  return Feature;\n}(BaseObject));\n\n\n/**\n * Convert the provided object into a feature style function.  Functions passed\n * through unchanged.  Arrays of Style or single style objects wrapped\n * in a new feature style function.\n * @param {!import(\"./style/Style.js\").StyleFunction|!Array<import(\"./style/Style.js\").default>|!import(\"./style/Style.js\").default} obj\n *     A feature style function, a single style, or an array of styles.\n * @return {import(\"./style/Style.js\").StyleFunction} A style function.\n */\nexport function createStyleFunction(obj) {\n  if (typeof obj === 'function') {\n    return obj;\n  } else {\n    /**\n     * @type {Array<import(\"./style/Style.js\").default>}\n     */\n    var styles;\n    if (Array.isArray(obj)) {\n      styles = obj;\n    } else {\n      assert(typeof /** @type {?} */ (obj).getZIndex === 'function',\n        41); // Expected an `import(\"./style/Style.js\").Style` or an array of `import(\"./style/Style.js\").Style`\n      var style = /** @type {import(\"./style/Style.js\").default} */ (obj);\n      styles = [style];\n    }\n    return function() {\n      return styles;\n    };\n  }\n}\nexport default Feature;\n\n//# sourceMappingURL=Feature.js.map","/**\n * @module ol/geom/GeometryLayout\n */\n\n/**\n * The coordinate layout for geometries, indicating whether a 3rd or 4th z ('Z')\n * or measure ('M') coordinate is available. Supported values are `'XY'`,\n * `'XYZ'`, `'XYM'`, `'XYZM'`.\n * @enum {string}\n */\nexport default {\n  XY: 'XY',\n  XYZ: 'XYZ',\n  XYM: 'XYM',\n  XYZM: 'XYZM'\n};\n\n//# sourceMappingURL=GeometryLayout.js.map","/**\n * @module ol/functions\n */\n\n/**\n * Always returns true.\n * @returns {boolean} true.\n */\nexport function TRUE() {\n  return true;\n}\n\n/**\n * Always returns false.\n * @returns {boolean} false.\n */\nexport function FALSE() {\n  return false;\n}\n\n/**\n * A reusable function, used e.g. as a default for callbacks.\n *\n * @return {void} Nothing.\n */\nexport function VOID() {}\n\n//# sourceMappingURL=functions.js.map","/**\n * @module ol/MapEventType\n */\n\n/**\n * @enum {string}\n */\nexport default {\n\n  /**\n   * Triggered after a map frame is rendered.\n   * @event module:ol/MapEvent~MapEvent#postrender\n   * @api\n   */\n  POSTRENDER: 'postrender',\n\n  /**\n   * Triggered when the map starts moving.\n   * @event module:ol/MapEvent~MapEvent#movestart\n   * @api\n   */\n  MOVESTART: 'movestart',\n\n  /**\n   * Triggered after the map is moved.\n   * @event module:ol/MapEvent~MapEvent#moveend\n   * @api\n   */\n  MOVEEND: 'moveend'\n\n};\n\n//# sourceMappingURL=MapEventType.js.map","/**\n * @module ol/geom/flat/length\n */\n\n\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @return {number} Length.\n */\nexport function lineStringLength(flatCoordinates, offset, end, stride) {\n  var x1 = flatCoordinates[offset];\n  var y1 = flatCoordinates[offset + 1];\n  var length = 0;\n  for (var i = offset + stride; i < end; i += stride) {\n    var x2 = flatCoordinates[i];\n    var y2 = flatCoordinates[i + 1];\n    length += Math.sqrt((x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1));\n    x1 = x2;\n    y1 = y2;\n  }\n  return length;\n}\n\n\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @return {number} Perimeter.\n */\nexport function linearRingLength(flatCoordinates, offset, end, stride) {\n  var perimeter = lineStringLength(flatCoordinates, offset, end, stride);\n  var dx = flatCoordinates[end - stride] - flatCoordinates[offset];\n  var dy = flatCoordinates[end - stride + 1] - flatCoordinates[offset + 1];\n  perimeter += Math.sqrt(dx * dx + dy * dy);\n  return perimeter;\n}\n\n//# sourceMappingURL=length.js.map","/**\n * @module ol/geom/flat/area\n */\n\n\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @return {number} Area.\n */\nexport function linearRing(flatCoordinates, offset, end, stride) {\n  var twiceArea = 0;\n  var x1 = flatCoordinates[end - stride];\n  var y1 = flatCoordinates[end - stride + 1];\n  for (; offset < end; offset += stride) {\n    var x2 = flatCoordinates[offset];\n    var y2 = flatCoordinates[offset + 1];\n    twiceArea += y1 * x2 - x1 * y2;\n    x1 = x2;\n    y1 = y2;\n  }\n  return twiceArea / 2;\n}\n\n\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<number>} ends Ends.\n * @param {number} stride Stride.\n * @return {number} Area.\n */\nexport function linearRings(flatCoordinates, offset, ends, stride) {\n  var area = 0;\n  for (var i = 0, ii = ends.length; i < ii; ++i) {\n    var end = ends[i];\n    area += linearRing(flatCoordinates, offset, end, stride);\n    offset = end;\n  }\n  return area;\n}\n\n\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<Array<number>>} endss Endss.\n * @param {number} stride Stride.\n * @return {number} Area.\n */\nexport function linearRingss(flatCoordinates, offset, endss, stride) {\n  var area = 0;\n  for (var i = 0, ii = endss.length; i < ii; ++i) {\n    var ends = endss[i];\n    area += linearRings(flatCoordinates, offset, ends, stride);\n    offset = ends[ends.length - 1];\n  }\n  return area;\n}\n\n//# sourceMappingURL=area.js.map","/**\n * @module ol/geom/flat/closest\n */\nimport {lerp, squaredDistance as squaredDx} from '../../math.js';\n\n\n/**\n * Returns the point on the 2D line segment flatCoordinates[offset1] to\n * flatCoordinates[offset2] that is closest to the point (x, y).  Extra\n * dimensions are linearly interpolated.\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset1 Offset 1.\n * @param {number} offset2 Offset 2.\n * @param {number} stride Stride.\n * @param {number} x X.\n * @param {number} y Y.\n * @param {Array<number>} closestPoint Closest point.\n */\nfunction assignClosest(flatCoordinates, offset1, offset2, stride, x, y, closestPoint) {\n  var x1 = flatCoordinates[offset1];\n  var y1 = flatCoordinates[offset1 + 1];\n  var dx = flatCoordinates[offset2] - x1;\n  var dy = flatCoordinates[offset2 + 1] - y1;\n  var offset;\n  if (dx === 0 && dy === 0) {\n    offset = offset1;\n  } else {\n    var t = ((x - x1) * dx + (y - y1) * dy) / (dx * dx + dy * dy);\n    if (t > 1) {\n      offset = offset2;\n    } else if (t > 0) {\n      for (var i = 0; i < stride; ++i) {\n        closestPoint[i] = lerp(flatCoordinates[offset1 + i],\n          flatCoordinates[offset2 + i], t);\n      }\n      closestPoint.length = stride;\n      return;\n    } else {\n      offset = offset1;\n    }\n  }\n  for (var i$1 = 0; i$1 < stride; ++i$1) {\n    closestPoint[i$1] = flatCoordinates[offset + i$1];\n  }\n  closestPoint.length = stride;\n}\n\n\n/**\n * Return the squared of the largest distance between any pair of consecutive\n * coordinates.\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @param {number} max Max squared delta.\n * @return {number} Max squared delta.\n */\nexport function maxSquaredDelta(flatCoordinates, offset, end, stride, max) {\n  var x1 = flatCoordinates[offset];\n  var y1 = flatCoordinates[offset + 1];\n  for (offset += stride; offset < end; offset += stride) {\n    var x2 = flatCoordinates[offset];\n    var y2 = flatCoordinates[offset + 1];\n    var squaredDelta = squaredDx(x1, y1, x2, y2);\n    if (squaredDelta > max) {\n      max = squaredDelta;\n    }\n    x1 = x2;\n    y1 = y2;\n  }\n  return max;\n}\n\n\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<number>} ends Ends.\n * @param {number} stride Stride.\n * @param {number} max Max squared delta.\n * @return {number} Max squared delta.\n */\nexport function arrayMaxSquaredDelta(flatCoordinates, offset, ends, stride, max) {\n  for (var i = 0, ii = ends.length; i < ii; ++i) {\n    var end = ends[i];\n    max = maxSquaredDelta(\n      flatCoordinates, offset, end, stride, max);\n    offset = end;\n  }\n  return max;\n}\n\n\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<Array<number>>} endss Endss.\n * @param {number} stride Stride.\n * @param {number} max Max squared delta.\n * @return {number} Max squared delta.\n */\nexport function multiArrayMaxSquaredDelta(flatCoordinates, offset, endss, stride, max) {\n  for (var i = 0, ii = endss.length; i < ii; ++i) {\n    var ends = endss[i];\n    max = arrayMaxSquaredDelta(\n      flatCoordinates, offset, ends, stride, max);\n    offset = ends[ends.length - 1];\n  }\n  return max;\n}\n\n\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @param {number} maxDelta Max delta.\n * @param {boolean} isRing Is ring.\n * @param {number} x X.\n * @param {number} y Y.\n * @param {Array<number>} closestPoint Closest point.\n * @param {number} minSquaredDistance Minimum squared distance.\n * @param {Array<number>=} opt_tmpPoint Temporary point object.\n * @return {number} Minimum squared distance.\n */\nexport function assignClosestPoint(flatCoordinates, offset, end,\n  stride, maxDelta, isRing, x, y, closestPoint, minSquaredDistance,\n  opt_tmpPoint) {\n  if (offset == end) {\n    return minSquaredDistance;\n  }\n  var i, squaredDistance;\n  if (maxDelta === 0) {\n    // All points are identical, so just test the first point.\n    squaredDistance = squaredDx(\n      x, y, flatCoordinates[offset], flatCoordinates[offset + 1]);\n    if (squaredDistance < minSquaredDistance) {\n      for (i = 0; i < stride; ++i) {\n        closestPoint[i] = flatCoordinates[offset + i];\n      }\n      closestPoint.length = stride;\n      return squaredDistance;\n    } else {\n      return minSquaredDistance;\n    }\n  }\n  var tmpPoint = opt_tmpPoint ? opt_tmpPoint : [NaN, NaN];\n  var index = offset + stride;\n  while (index < end) {\n    assignClosest(\n      flatCoordinates, index - stride, index, stride, x, y, tmpPoint);\n    squaredDistance = squaredDx(x, y, tmpPoint[0], tmpPoint[1]);\n    if (squaredDistance < minSquaredDistance) {\n      minSquaredDistance = squaredDistance;\n      for (i = 0; i < stride; ++i) {\n        closestPoint[i] = tmpPoint[i];\n      }\n      closestPoint.length = stride;\n      index += stride;\n    } else {\n      // Skip ahead multiple points, because we know that all the skipped\n      // points cannot be any closer than the closest point we have found so\n      // far.  We know this because we know how close the current point is, how\n      // close the closest point we have found so far is, and the maximum\n      // distance between consecutive points.  For example, if we're currently\n      // at distance 10, the best we've found so far is 3, and that the maximum\n      // distance between consecutive points is 2, then we'll need to skip at\n      // least (10 - 3) / 2 == 3 (rounded down) points to have any chance of\n      // finding a closer point.  We use Math.max(..., 1) to ensure that we\n      // always advance at least one point, to avoid an infinite loop.\n      index += stride * Math.max(\n        ((Math.sqrt(squaredDistance) -\n            Math.sqrt(minSquaredDistance)) / maxDelta) | 0, 1);\n    }\n  }\n  if (isRing) {\n    // Check the closing segment.\n    assignClosest(\n      flatCoordinates, end - stride, offset, stride, x, y, tmpPoint);\n    squaredDistance = squaredDx(x, y, tmpPoint[0], tmpPoint[1]);\n    if (squaredDistance < minSquaredDistance) {\n      minSquaredDistance = squaredDistance;\n      for (i = 0; i < stride; ++i) {\n        closestPoint[i] = tmpPoint[i];\n      }\n      closestPoint.length = stride;\n    }\n  }\n  return minSquaredDistance;\n}\n\n\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<number>} ends Ends.\n * @param {number} stride Stride.\n * @param {number} maxDelta Max delta.\n * @param {boolean} isRing Is ring.\n * @param {number} x X.\n * @param {number} y Y.\n * @param {Array<number>} closestPoint Closest point.\n * @param {number} minSquaredDistance Minimum squared distance.\n * @param {Array<number>=} opt_tmpPoint Temporary point object.\n * @return {number} Minimum squared distance.\n */\nexport function assignClosestArrayPoint(flatCoordinates, offset, ends,\n  stride, maxDelta, isRing, x, y, closestPoint, minSquaredDistance,\n  opt_tmpPoint) {\n  var tmpPoint = opt_tmpPoint ? opt_tmpPoint : [NaN, NaN];\n  for (var i = 0, ii = ends.length; i < ii; ++i) {\n    var end = ends[i];\n    minSquaredDistance = assignClosestPoint(\n      flatCoordinates, offset, end, stride,\n      maxDelta, isRing, x, y, closestPoint, minSquaredDistance, tmpPoint);\n    offset = end;\n  }\n  return minSquaredDistance;\n}\n\n\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<Array<number>>} endss Endss.\n * @param {number} stride Stride.\n * @param {number} maxDelta Max delta.\n * @param {boolean} isRing Is ring.\n * @param {number} x X.\n * @param {number} y Y.\n * @param {Array<number>} closestPoint Closest point.\n * @param {number} minSquaredDistance Minimum squared distance.\n * @param {Array<number>=} opt_tmpPoint Temporary point object.\n * @return {number} Minimum squared distance.\n */\nexport function assignClosestMultiArrayPoint(flatCoordinates, offset,\n  endss, stride, maxDelta, isRing, x, y, closestPoint, minSquaredDistance,\n  opt_tmpPoint) {\n  var tmpPoint = opt_tmpPoint ? opt_tmpPoint : [NaN, NaN];\n  for (var i = 0, ii = endss.length; i < ii; ++i) {\n    var ends = endss[i];\n    minSquaredDistance = assignClosestArrayPoint(\n      flatCoordinates, offset, ends, stride,\n      maxDelta, isRing, x, y, closestPoint, minSquaredDistance, tmpPoint);\n    offset = ends[ends.length - 1];\n  }\n  return minSquaredDistance;\n}\n\n//# sourceMappingURL=closest.js.map","/**\n * @module ol/geom/flat/deflate\n */\n\n\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {import(\"../../coordinate.js\").Coordinate} coordinate Coordinate.\n * @param {number} stride Stride.\n * @return {number} offset Offset.\n */\nexport function deflateCoordinate(flatCoordinates, offset, coordinate, stride) {\n  for (var i = 0, ii = coordinate.length; i < ii; ++i) {\n    flatCoordinates[offset++] = coordinate[i];\n  }\n  return offset;\n}\n\n\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<import(\"../../coordinate.js\").Coordinate>} coordinates Coordinates.\n * @param {number} stride Stride.\n * @return {number} offset Offset.\n */\nexport function deflateCoordinates(flatCoordinates, offset, coordinates, stride) {\n  for (var i = 0, ii = coordinates.length; i < ii; ++i) {\n    var coordinate = coordinates[i];\n    for (var j = 0; j < stride; ++j) {\n      flatCoordinates[offset++] = coordinate[j];\n    }\n  }\n  return offset;\n}\n\n\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<Array<import(\"../../coordinate.js\").Coordinate>>} coordinatess Coordinatess.\n * @param {number} stride Stride.\n * @param {Array<number>=} opt_ends Ends.\n * @return {Array<number>} Ends.\n */\nexport function deflateCoordinatesArray(flatCoordinates, offset, coordinatess, stride, opt_ends) {\n  var ends = opt_ends ? opt_ends : [];\n  var i = 0;\n  for (var j = 0, jj = coordinatess.length; j < jj; ++j) {\n    var end = deflateCoordinates(\n      flatCoordinates, offset, coordinatess[j], stride);\n    ends[i++] = end;\n    offset = end;\n  }\n  ends.length = i;\n  return ends;\n}\n\n\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<Array<Array<import(\"../../coordinate.js\").Coordinate>>>} coordinatesss Coordinatesss.\n * @param {number} stride Stride.\n * @param {Array<Array<number>>=} opt_endss Endss.\n * @return {Array<Array<number>>} Endss.\n */\nexport function deflateMultiCoordinatesArray(flatCoordinates, offset, coordinatesss, stride, opt_endss) {\n  var endss = opt_endss ? opt_endss : [];\n  var i = 0;\n  for (var j = 0, jj = coordinatesss.length; j < jj; ++j) {\n    var ends = deflateCoordinatesArray(\n      flatCoordinates, offset, coordinatesss[j], stride, endss[i]);\n    endss[i++] = ends;\n    offset = ends[ends.length - 1];\n  }\n  endss.length = i;\n  return endss;\n}\n\n//# sourceMappingURL=deflate.js.map","/**\n * @module ol/geom/LinearRing\n */\nimport {closestSquaredDistanceXY} from '../extent.js';\nimport GeometryLayout from './GeometryLayout.js';\nimport GeometryType from './GeometryType.js';\nimport SimpleGeometry from './SimpleGeometry.js';\nimport {linearRing as linearRingArea} from './flat/area.js';\nimport {assignClosestPoint, maxSquaredDelta} from './flat/closest.js';\nimport {deflateCoordinates} from './flat/deflate.js';\nimport {inflateCoordinates} from './flat/inflate.js';\nimport {douglasPeucker} from './flat/simplify.js';\n\n/**\n * @classdesc\n * Linear ring geometry. Only used as part of polygon; cannot be rendered\n * on its own.\n *\n * @api\n */\nvar LinearRing = /*@__PURE__*/(function (SimpleGeometry) {\n  function LinearRing(coordinates, opt_layout) {\n\n    SimpleGeometry.call(this);\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.maxDelta_ = -1;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.maxDeltaRevision_ = -1;\n\n    if (opt_layout !== undefined && !Array.isArray(coordinates[0])) {\n      this.setFlatCoordinates(opt_layout, /** @type {Array<number>} */ (coordinates));\n    } else {\n      this.setCoordinates(/** @type {Array<import(\"../coordinate.js\").Coordinate>} */ (coordinates), opt_layout);\n    }\n\n  }\n\n  if ( SimpleGeometry ) LinearRing.__proto__ = SimpleGeometry;\n  LinearRing.prototype = Object.create( SimpleGeometry && SimpleGeometry.prototype );\n  LinearRing.prototype.constructor = LinearRing;\n\n  /**\n   * Make a complete copy of the geometry.\n   * @return {!LinearRing} Clone.\n   * @override\n   * @api\n   */\n  LinearRing.prototype.clone = function clone () {\n    return new LinearRing(this.flatCoordinates.slice(), this.layout);\n  };\n\n  /**\n   * @inheritDoc\n   */\n  LinearRing.prototype.closestPointXY = function closestPointXY (x, y, closestPoint, minSquaredDistance) {\n    if (minSquaredDistance < closestSquaredDistanceXY(this.getExtent(), x, y)) {\n      return minSquaredDistance;\n    }\n    if (this.maxDeltaRevision_ != this.getRevision()) {\n      this.maxDelta_ = Math.sqrt(maxSquaredDelta(\n        this.flatCoordinates, 0, this.flatCoordinates.length, this.stride, 0));\n      this.maxDeltaRevision_ = this.getRevision();\n    }\n    return assignClosestPoint(\n      this.flatCoordinates, 0, this.flatCoordinates.length, this.stride,\n      this.maxDelta_, true, x, y, closestPoint, minSquaredDistance);\n  };\n\n  /**\n   * Return the area of the linear ring on projected plane.\n   * @return {number} Area (on projected plane).\n   * @api\n   */\n  LinearRing.prototype.getArea = function getArea () {\n    return linearRingArea(this.flatCoordinates, 0, this.flatCoordinates.length, this.stride);\n  };\n\n  /**\n   * Return the coordinates of the linear ring.\n   * @return {Array<import(\"../coordinate.js\").Coordinate>} Coordinates.\n   * @override\n   * @api\n   */\n  LinearRing.prototype.getCoordinates = function getCoordinates () {\n    return inflateCoordinates(\n      this.flatCoordinates, 0, this.flatCoordinates.length, this.stride);\n  };\n\n  /**\n   * @inheritDoc\n   */\n  LinearRing.prototype.getSimplifiedGeometryInternal = function getSimplifiedGeometryInternal (squaredTolerance) {\n    var simplifiedFlatCoordinates = [];\n    simplifiedFlatCoordinates.length = douglasPeucker(\n      this.flatCoordinates, 0, this.flatCoordinates.length, this.stride,\n      squaredTolerance, simplifiedFlatCoordinates, 0);\n    return new LinearRing(simplifiedFlatCoordinates, GeometryLayout.XY);\n  };\n\n  /**\n   * @inheritDoc\n   * @api\n   */\n  LinearRing.prototype.getType = function getType () {\n    return GeometryType.LINEAR_RING;\n  };\n\n  /**\n   * @inheritDoc\n   */\n  LinearRing.prototype.intersectsExtent = function intersectsExtent (extent) {\n    return false;\n  };\n\n  /**\n   * Set the coordinates of the linear ring.\n   * @param {!Array<import(\"../coordinate.js\").Coordinate>} coordinates Coordinates.\n   * @param {GeometryLayout=} opt_layout Layout.\n   * @override\n   * @api\n   */\n  LinearRing.prototype.setCoordinates = function setCoordinates (coordinates, opt_layout) {\n    this.setLayout(opt_layout, coordinates, 1);\n    if (!this.flatCoordinates) {\n      this.flatCoordinates = [];\n    }\n    this.flatCoordinates.length = deflateCoordinates(\n      this.flatCoordinates, 0, coordinates, this.stride);\n    this.changed();\n  };\n\n  return LinearRing;\n}(SimpleGeometry));\n\n\nexport default LinearRing;\n\n//# sourceMappingURL=LinearRing.js.map","/**\n * @module ol/geom/Point\n */\nimport {createOrUpdateFromCoordinate, containsXY} from '../extent.js';\nimport GeometryType from './GeometryType.js';\nimport SimpleGeometry from './SimpleGeometry.js';\nimport {deflateCoordinate} from './flat/deflate.js';\nimport {squaredDistance as squaredDx} from '../math.js';\n\n/**\n * @classdesc\n * Point geometry.\n *\n * @api\n */\nvar Point = /*@__PURE__*/(function (SimpleGeometry) {\n  function Point(coordinates, opt_layout) {\n    SimpleGeometry.call(this);\n    this.setCoordinates(coordinates, opt_layout);\n  }\n\n  if ( SimpleGeometry ) Point.__proto__ = SimpleGeometry;\n  Point.prototype = Object.create( SimpleGeometry && SimpleGeometry.prototype );\n  Point.prototype.constructor = Point;\n\n  /**\n   * Make a complete copy of the geometry.\n   * @return {!Point} Clone.\n   * @override\n   * @api\n   */\n  Point.prototype.clone = function clone () {\n    var point = new Point(this.flatCoordinates.slice(), this.layout);\n    return point;\n  };\n\n  /**\n   * @inheritDoc\n   */\n  Point.prototype.closestPointXY = function closestPointXY (x, y, closestPoint, minSquaredDistance) {\n    var flatCoordinates = this.flatCoordinates;\n    var squaredDistance = squaredDx(x, y, flatCoordinates[0], flatCoordinates[1]);\n    if (squaredDistance < minSquaredDistance) {\n      var stride = this.stride;\n      for (var i = 0; i < stride; ++i) {\n        closestPoint[i] = flatCoordinates[i];\n      }\n      closestPoint.length = stride;\n      return squaredDistance;\n    } else {\n      return minSquaredDistance;\n    }\n  };\n\n  /**\n   * Return the coordinate of the point.\n   * @return {import(\"../coordinate.js\").Coordinate} Coordinates.\n   * @override\n   * @api\n   */\n  Point.prototype.getCoordinates = function getCoordinates () {\n    return !this.flatCoordinates ? [] : this.flatCoordinates.slice();\n  };\n\n  /**\n   * @inheritDoc\n   */\n  Point.prototype.computeExtent = function computeExtent (extent) {\n    return createOrUpdateFromCoordinate(this.flatCoordinates, extent);\n  };\n\n  /**\n   * @inheritDoc\n   * @api\n   */\n  Point.prototype.getType = function getType () {\n    return GeometryType.POINT;\n  };\n\n  /**\n   * @inheritDoc\n   * @api\n   */\n  Point.prototype.intersectsExtent = function intersectsExtent (extent) {\n    return containsXY(extent, this.flatCoordinates[0], this.flatCoordinates[1]);\n  };\n\n  /**\n   * @inheritDoc\n   * @api\n   */\n  Point.prototype.setCoordinates = function setCoordinates (coordinates, opt_layout) {\n    this.setLayout(opt_layout, coordinates, 0);\n    if (!this.flatCoordinates) {\n      this.flatCoordinates = [];\n    }\n    this.flatCoordinates.length = deflateCoordinate(\n      this.flatCoordinates, 0, coordinates, this.stride);\n    this.changed();\n  };\n\n  return Point;\n}(SimpleGeometry));\n\n\nexport default Point;\n\n//# sourceMappingURL=Point.js.map","/**\n * @module ol/geom/flat/contains\n */\nimport {forEachCorner} from '../../extent.js';\n\n\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @param {import(\"../../extent.js\").Extent} extent Extent.\n * @return {boolean} Contains extent.\n */\nexport function linearRingContainsExtent(flatCoordinates, offset, end, stride, extent) {\n  var outside = forEachCorner(extent,\n    /**\n     * @param {import(\"../../coordinate.js\").Coordinate} coordinate Coordinate.\n     * @return {boolean} Contains (x, y).\n     */\n    function(coordinate) {\n      return !linearRingContainsXY(flatCoordinates, offset, end, stride, coordinate[0], coordinate[1]);\n    });\n  return !outside;\n}\n\n\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @param {number} x X.\n * @param {number} y Y.\n * @return {boolean} Contains (x, y).\n */\nexport function linearRingContainsXY(flatCoordinates, offset, end, stride, x, y) {\n  // http://geomalgorithms.com/a03-_inclusion.html\n  // Copyright 2000 softSurfer, 2012 Dan Sunday\n  // This code may be freely used and modified for any purpose\n  // providing that this copyright notice is included with it.\n  // SoftSurfer makes no warranty for this code, and cannot be held\n  // liable for any real or imagined damage resulting from its use.\n  // Users of this code must verify correctness for their application.\n  var wn = 0;\n  var x1 = flatCoordinates[end - stride];\n  var y1 = flatCoordinates[end - stride + 1];\n  for (; offset < end; offset += stride) {\n    var x2 = flatCoordinates[offset];\n    var y2 = flatCoordinates[offset + 1];\n    if (y1 <= y) {\n      if (y2 > y && ((x2 - x1) * (y - y1)) - ((x - x1) * (y2 - y1)) > 0) {\n        wn++;\n      }\n    } else if (y2 <= y && ((x2 - x1) * (y - y1)) - ((x - x1) * (y2 - y1)) < 0) {\n      wn--;\n    }\n    x1 = x2;\n    y1 = y2;\n  }\n  return wn !== 0;\n}\n\n\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<number>} ends Ends.\n * @param {number} stride Stride.\n * @param {number} x X.\n * @param {number} y Y.\n * @return {boolean} Contains (x, y).\n */\nexport function linearRingsContainsXY(flatCoordinates, offset, ends, stride, x, y) {\n  if (ends.length === 0) {\n    return false;\n  }\n  if (!linearRingContainsXY(flatCoordinates, offset, ends[0], stride, x, y)) {\n    return false;\n  }\n  for (var i = 1, ii = ends.length; i < ii; ++i) {\n    if (linearRingContainsXY(flatCoordinates, ends[i - 1], ends[i], stride, x, y)) {\n      return false;\n    }\n  }\n  return true;\n}\n\n\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<Array<number>>} endss Endss.\n * @param {number} stride Stride.\n * @param {number} x X.\n * @param {number} y Y.\n * @return {boolean} Contains (x, y).\n */\nexport function linearRingssContainsXY(flatCoordinates, offset, endss, stride, x, y) {\n  if (endss.length === 0) {\n    return false;\n  }\n  for (var i = 0, ii = endss.length; i < ii; ++i) {\n    var ends = endss[i];\n    if (linearRingsContainsXY(flatCoordinates, offset, ends, stride, x, y)) {\n      return true;\n    }\n    offset = ends[ends.length - 1];\n  }\n  return false;\n}\n\n//# sourceMappingURL=contains.js.map","/**\n * @module ol/geom/flat/interiorpoint\n */\nimport {numberSafeCompareFunction} from '../../array.js';\nimport {linearRingsContainsXY} from './contains.js';\n\n\n/**\n * Calculates a point that is likely to lie in the interior of the linear rings.\n * Inspired by JTS's com.vividsolutions.jts.geom.Geometry#getInteriorPoint.\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<number>} ends Ends.\n * @param {number} stride Stride.\n * @param {Array<number>} flatCenters Flat centers.\n * @param {number} flatCentersOffset Flat center offset.\n * @param {Array<number>=} opt_dest Destination.\n * @return {Array<number>} Destination point as XYM coordinate, where M is the\n * length of the horizontal intersection that the point belongs to.\n */\nexport function getInteriorPointOfArray(flatCoordinates, offset,\n  ends, stride, flatCenters, flatCentersOffset, opt_dest) {\n  var i, ii, x, x1, x2, y1, y2;\n  var y = flatCenters[flatCentersOffset + 1];\n  /** @type {Array<number>} */\n  var intersections = [];\n  // Calculate intersections with the horizontal line\n  for (var r = 0, rr = ends.length; r < rr; ++r) {\n    var end = ends[r];\n    x1 = flatCoordinates[end - stride];\n    y1 = flatCoordinates[end - stride + 1];\n    for (i = offset; i < end; i += stride) {\n      x2 = flatCoordinates[i];\n      y2 = flatCoordinates[i + 1];\n      if ((y <= y1 && y2 <= y) || (y1 <= y && y <= y2)) {\n        x = (y - y1) / (y2 - y1) * (x2 - x1) + x1;\n        intersections.push(x);\n      }\n      x1 = x2;\n      y1 = y2;\n    }\n  }\n  // Find the longest segment of the horizontal line that has its center point\n  // inside the linear ring.\n  var pointX = NaN;\n  var maxSegmentLength = -Infinity;\n  intersections.sort(numberSafeCompareFunction);\n  x1 = intersections[0];\n  for (i = 1, ii = intersections.length; i < ii; ++i) {\n    x2 = intersections[i];\n    var segmentLength = Math.abs(x2 - x1);\n    if (segmentLength > maxSegmentLength) {\n      x = (x1 + x2) / 2;\n      if (linearRingsContainsXY(flatCoordinates, offset, ends, stride, x, y)) {\n        pointX = x;\n        maxSegmentLength = segmentLength;\n      }\n    }\n    x1 = x2;\n  }\n  if (isNaN(pointX)) {\n    // There is no horizontal line that has its center point inside the linear\n    // ring.  Use the center of the the linear ring's extent.\n    pointX = flatCenters[flatCentersOffset];\n  }\n  if (opt_dest) {\n    opt_dest.push(pointX, y, maxSegmentLength);\n    return opt_dest;\n  } else {\n    return [pointX, y, maxSegmentLength];\n  }\n}\n\n\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<Array<number>>} endss Endss.\n * @param {number} stride Stride.\n * @param {Array<number>} flatCenters Flat centers.\n * @return {Array<number>} Interior points as XYM coordinates, where M is the\n * length of the horizontal intersection that the point belongs to.\n */\nexport function getInteriorPointsOfMultiArray(flatCoordinates, offset, endss, stride, flatCenters) {\n  var interiorPoints = [];\n  for (var i = 0, ii = endss.length; i < ii; ++i) {\n    var ends = endss[i];\n    interiorPoints = getInteriorPointOfArray(flatCoordinates,\n      offset, ends, stride, flatCenters, 2 * i, interiorPoints);\n    offset = ends[ends.length - 1];\n  }\n  return interiorPoints;\n}\n\n//# sourceMappingURL=interiorpoint.js.map","/**\n * @module ol/geom/flat/segments\n */\n\n\n/**\n * This function calls `callback` for each segment of the flat coordinates\n * array. If the callback returns a truthy value the function returns that\n * value immediately. Otherwise the function returns `false`.\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @param {function(this: S, import(\"../../coordinate.js\").Coordinate, import(\"../../coordinate.js\").Coordinate): T} callback Function\n *     called for each segment.\n * @param {S=} opt_this The object to be used as the value of 'this'\n *     within callback.\n * @return {T|boolean} Value.\n * @template T,S\n */\nexport function forEach(flatCoordinates, offset, end, stride, callback, opt_this) {\n  var point1 = [flatCoordinates[offset], flatCoordinates[offset + 1]];\n  var point2 = [];\n  var ret;\n  for (; (offset + stride) < end; offset += stride) {\n    point2[0] = flatCoordinates[offset + stride];\n    point2[1] = flatCoordinates[offset + stride + 1];\n    ret = callback.call(opt_this, point1, point2);\n    if (ret) {\n      return ret;\n    }\n    point1[0] = point2[0];\n    point1[1] = point2[1];\n  }\n  return false;\n}\n\n//# sourceMappingURL=segments.js.map","/**\n * @module ol/geom/flat/intersectsextent\n */\nimport {containsExtent, createEmpty, extendFlatCoordinates, intersects, intersectsSegment} from '../../extent.js';\nimport {linearRingContainsXY, linearRingContainsExtent} from './contains.js';\nimport {forEach as forEachSegment} from './segments.js';\n\n\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @param {import(\"../../extent.js\").Extent} extent Extent.\n * @return {boolean} True if the geometry and the extent intersect.\n */\nexport function intersectsLineString(flatCoordinates, offset, end, stride, extent) {\n  var coordinatesExtent = extendFlatCoordinates(\n    createEmpty(), flatCoordinates, offset, end, stride);\n  if (!intersects(extent, coordinatesExtent)) {\n    return false;\n  }\n  if (containsExtent(extent, coordinatesExtent)) {\n    return true;\n  }\n  if (coordinatesExtent[0] >= extent[0] &&\n      coordinatesExtent[2] <= extent[2]) {\n    return true;\n  }\n  if (coordinatesExtent[1] >= extent[1] &&\n      coordinatesExtent[3] <= extent[3]) {\n    return true;\n  }\n  return forEachSegment(flatCoordinates, offset, end, stride,\n    /**\n     * @param {import(\"../../coordinate.js\").Coordinate} point1 Start point.\n     * @param {import(\"../../coordinate.js\").Coordinate} point2 End point.\n     * @return {boolean} `true` if the segment and the extent intersect,\n     *     `false` otherwise.\n     */\n    function(point1, point2) {\n      return intersectsSegment(extent, point1, point2);\n    });\n}\n\n\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<number>} ends Ends.\n * @param {number} stride Stride.\n * @param {import(\"../../extent.js\").Extent} extent Extent.\n * @return {boolean} True if the geometry and the extent intersect.\n */\nexport function intersectsLineStringArray(flatCoordinates, offset, ends, stride, extent) {\n  for (var i = 0, ii = ends.length; i < ii; ++i) {\n    if (intersectsLineString(\n      flatCoordinates, offset, ends[i], stride, extent)) {\n      return true;\n    }\n    offset = ends[i];\n  }\n  return false;\n}\n\n\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @param {import(\"../../extent.js\").Extent} extent Extent.\n * @return {boolean} True if the geometry and the extent intersect.\n */\nexport function intersectsLinearRing(flatCoordinates, offset, end, stride, extent) {\n  if (intersectsLineString(\n    flatCoordinates, offset, end, stride, extent)) {\n    return true;\n  }\n  if (linearRingContainsXY(flatCoordinates, offset, end, stride, extent[0], extent[1])) {\n    return true;\n  }\n  if (linearRingContainsXY(flatCoordinates, offset, end, stride, extent[0], extent[3])) {\n    return true;\n  }\n  if (linearRingContainsXY(flatCoordinates, offset, end, stride, extent[2], extent[1])) {\n    return true;\n  }\n  if (linearRingContainsXY(flatCoordinates, offset, end, stride, extent[2], extent[3])) {\n    return true;\n  }\n  return false;\n}\n\n\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<number>} ends Ends.\n * @param {number} stride Stride.\n * @param {import(\"../../extent.js\").Extent} extent Extent.\n * @return {boolean} True if the geometry and the extent intersect.\n */\nexport function intersectsLinearRingArray(flatCoordinates, offset, ends, stride, extent) {\n  if (!intersectsLinearRing(\n    flatCoordinates, offset, ends[0], stride, extent)) {\n    return false;\n  }\n  if (ends.length === 1) {\n    return true;\n  }\n  for (var i = 1, ii = ends.length; i < ii; ++i) {\n    if (linearRingContainsExtent(flatCoordinates, ends[i - 1], ends[i], stride, extent)) {\n      if (!intersectsLineString(flatCoordinates, ends[i - 1], ends[i], stride, extent)) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\n\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<Array<number>>} endss Endss.\n * @param {number} stride Stride.\n * @param {import(\"../../extent.js\").Extent} extent Extent.\n * @return {boolean} True if the geometry and the extent intersect.\n */\nexport function intersectsLinearRingMultiArray(flatCoordinates, offset, endss, stride, extent) {\n  for (var i = 0, ii = endss.length; i < ii; ++i) {\n    var ends = endss[i];\n    if (intersectsLinearRingArray(\n      flatCoordinates, offset, ends, stride, extent)) {\n      return true;\n    }\n    offset = ends[ends.length - 1];\n  }\n  return false;\n}\n\n//# sourceMappingURL=intersectsextent.js.map","/**\n * @module ol/geom/flat/reverse\n */\n\n\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n */\nexport function coordinates(flatCoordinates, offset, end, stride) {\n  while (offset < end - stride) {\n    for (var i = 0; i < stride; ++i) {\n      var tmp = flatCoordinates[offset + i];\n      flatCoordinates[offset + i] = flatCoordinates[end - stride + i];\n      flatCoordinates[end - stride + i] = tmp;\n    }\n    offset += stride;\n    end -= stride;\n  }\n}\n\n//# sourceMappingURL=reverse.js.map","/**\n * @module ol/geom/flat/orient\n */\nimport {coordinates as reverseCoordinates} from './reverse.js';\n\n\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @return {boolean} Is clockwise.\n */\nexport function linearRingIsClockwise(flatCoordinates, offset, end, stride) {\n  // http://tinyurl.com/clockwise-method\n  // https://github.com/OSGeo/gdal/blob/trunk/gdal/ogr/ogrlinearring.cpp\n  var edge = 0;\n  var x1 = flatCoordinates[end - stride];\n  var y1 = flatCoordinates[end - stride + 1];\n  for (; offset < end; offset += stride) {\n    var x2 = flatCoordinates[offset];\n    var y2 = flatCoordinates[offset + 1];\n    edge += (x2 - x1) * (y2 + y1);\n    x1 = x2;\n    y1 = y2;\n  }\n  return edge > 0;\n}\n\n\n/**\n * Determines if linear rings are oriented.  By default, left-hand orientation\n * is tested (first ring must be clockwise, remaining rings counter-clockwise).\n * To test for right-hand orientation, use the `opt_right` argument.\n *\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<number>} ends Array of end indexes.\n * @param {number} stride Stride.\n * @param {boolean=} opt_right Test for right-hand orientation\n *     (counter-clockwise exterior ring and clockwise interior rings).\n * @return {boolean} Rings are correctly oriented.\n */\nexport function linearRingIsOriented(flatCoordinates, offset, ends, stride, opt_right) {\n  var right = opt_right !== undefined ? opt_right : false;\n  for (var i = 0, ii = ends.length; i < ii; ++i) {\n    var end = ends[i];\n    var isClockwise = linearRingIsClockwise(\n      flatCoordinates, offset, end, stride);\n    if (i === 0) {\n      if ((right && isClockwise) || (!right && !isClockwise)) {\n        return false;\n      }\n    } else {\n      if ((right && !isClockwise) || (!right && isClockwise)) {\n        return false;\n      }\n    }\n    offset = end;\n  }\n  return true;\n}\n\n\n/**\n * Determines if linear rings are oriented.  By default, left-hand orientation\n * is tested (first ring must be clockwise, remaining rings counter-clockwise).\n * To test for right-hand orientation, use the `opt_right` argument.\n *\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<Array<number>>} endss Array of array of end indexes.\n * @param {number} stride Stride.\n * @param {boolean=} opt_right Test for right-hand orientation\n *     (counter-clockwise exterior ring and clockwise interior rings).\n * @return {boolean} Rings are correctly oriented.\n */\nexport function linearRingsAreOriented(flatCoordinates, offset, endss, stride, opt_right) {\n  for (var i = 0, ii = endss.length; i < ii; ++i) {\n    if (!linearRingIsOriented(\n      flatCoordinates, offset, endss[i], stride, opt_right)) {\n      return false;\n    }\n  }\n  return true;\n}\n\n\n/**\n * Orient coordinates in a flat array of linear rings.  By default, rings\n * are oriented following the left-hand rule (clockwise for exterior and\n * counter-clockwise for interior rings).  To orient according to the\n * right-hand rule, use the `opt_right` argument.\n *\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<number>} ends Ends.\n * @param {number} stride Stride.\n * @param {boolean=} opt_right Follow the right-hand rule for orientation.\n * @return {number} End.\n */\nexport function orientLinearRings(flatCoordinates, offset, ends, stride, opt_right) {\n  var right = opt_right !== undefined ? opt_right : false;\n  for (var i = 0, ii = ends.length; i < ii; ++i) {\n    var end = ends[i];\n    var isClockwise = linearRingIsClockwise(\n      flatCoordinates, offset, end, stride);\n    var reverse = i === 0 ?\n      (right && isClockwise) || (!right && !isClockwise) :\n      (right && !isClockwise) || (!right && isClockwise);\n    if (reverse) {\n      reverseCoordinates(flatCoordinates, offset, end, stride);\n    }\n    offset = end;\n  }\n  return offset;\n}\n\n\n/**\n * Orient coordinates in a flat array of linear rings.  By default, rings\n * are oriented following the left-hand rule (clockwise for exterior and\n * counter-clockwise for interior rings).  To orient according to the\n * right-hand rule, use the `opt_right` argument.\n *\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<Array<number>>} endss Array of array of end indexes.\n * @param {number} stride Stride.\n * @param {boolean=} opt_right Follow the right-hand rule for orientation.\n * @return {number} End.\n */\nexport function orientLinearRingsArray(flatCoordinates, offset, endss, stride, opt_right) {\n  for (var i = 0, ii = endss.length; i < ii; ++i) {\n    offset = orientLinearRings(\n      flatCoordinates, offset, endss[i], stride, opt_right);\n  }\n  return offset;\n}\n\n//# sourceMappingURL=orient.js.map","/**\n * @module ol/geom/Polygon\n */\nimport {extend} from '../array.js';\nimport {closestSquaredDistanceXY, getCenter} from '../extent.js';\nimport GeometryLayout from './GeometryLayout.js';\nimport GeometryType from './GeometryType.js';\nimport LinearRing from './LinearRing.js';\nimport Point from './Point.js';\nimport SimpleGeometry from './SimpleGeometry.js';\nimport {offset as sphereOffset} from '../sphere.js';\nimport {linearRings as linearRingsArea} from './flat/area.js';\nimport {assignClosestArrayPoint, arrayMaxSquaredDelta} from './flat/closest.js';\nimport {linearRingsContainsXY} from './flat/contains.js';\nimport {deflateCoordinatesArray} from './flat/deflate.js';\nimport {inflateCoordinatesArray} from './flat/inflate.js';\nimport {getInteriorPointOfArray} from './flat/interiorpoint.js';\nimport {intersectsLinearRingArray} from './flat/intersectsextent.js';\nimport {linearRingIsOriented, orientLinearRings} from './flat/orient.js';\nimport {quantizeArray} from './flat/simplify.js';\nimport {modulo} from '../math.js';\n\n/**\n * @classdesc\n * Polygon geometry.\n *\n * @api\n */\nvar Polygon = /*@__PURE__*/(function (SimpleGeometry) {\n  function Polygon(coordinates, opt_layout, opt_ends) {\n\n    SimpleGeometry.call(this);\n\n    /**\n     * @type {Array<number>}\n     * @private\n     */\n    this.ends_ = [];\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.flatInteriorPointRevision_ = -1;\n\n    /**\n     * @private\n     * @type {import(\"../coordinate.js\").Coordinate}\n     */\n    this.flatInteriorPoint_ = null;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.maxDelta_ = -1;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.maxDeltaRevision_ = -1;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.orientedRevision_ = -1;\n\n    /**\n     * @private\n     * @type {Array<number>}\n     */\n    this.orientedFlatCoordinates_ = null;\n\n    if (opt_layout !== undefined && opt_ends) {\n      this.setFlatCoordinates(opt_layout, /** @type {Array<number>} */ (coordinates));\n      this.ends_ = opt_ends;\n    } else {\n      this.setCoordinates(/** @type {Array<Array<import(\"../coordinate.js\").Coordinate>>} */ (coordinates), opt_layout);\n    }\n\n  }\n\n  if ( SimpleGeometry ) Polygon.__proto__ = SimpleGeometry;\n  Polygon.prototype = Object.create( SimpleGeometry && SimpleGeometry.prototype );\n  Polygon.prototype.constructor = Polygon;\n\n  /**\n   * Append the passed linear ring to this polygon.\n   * @param {LinearRing} linearRing Linear ring.\n   * @api\n   */\n  Polygon.prototype.appendLinearRing = function appendLinearRing (linearRing) {\n    if (!this.flatCoordinates) {\n      this.flatCoordinates = linearRing.getFlatCoordinates().slice();\n    } else {\n      extend(this.flatCoordinates, linearRing.getFlatCoordinates());\n    }\n    this.ends_.push(this.flatCoordinates.length);\n    this.changed();\n  };\n\n  /**\n   * Make a complete copy of the geometry.\n   * @return {!Polygon} Clone.\n   * @override\n   * @api\n   */\n  Polygon.prototype.clone = function clone () {\n    return new Polygon(this.flatCoordinates.slice(), this.layout, this.ends_.slice());\n  };\n\n  /**\n   * @inheritDoc\n   */\n  Polygon.prototype.closestPointXY = function closestPointXY (x, y, closestPoint, minSquaredDistance) {\n    if (minSquaredDistance < closestSquaredDistanceXY(this.getExtent(), x, y)) {\n      return minSquaredDistance;\n    }\n    if (this.maxDeltaRevision_ != this.getRevision()) {\n      this.maxDelta_ = Math.sqrt(arrayMaxSquaredDelta(\n        this.flatCoordinates, 0, this.ends_, this.stride, 0));\n      this.maxDeltaRevision_ = this.getRevision();\n    }\n    return assignClosestArrayPoint(\n      this.flatCoordinates, 0, this.ends_, this.stride,\n      this.maxDelta_, true, x, y, closestPoint, minSquaredDistance);\n  };\n\n  /**\n   * @inheritDoc\n   */\n  Polygon.prototype.containsXY = function containsXY (x, y) {\n    return linearRingsContainsXY(this.getOrientedFlatCoordinates(), 0, this.ends_, this.stride, x, y);\n  };\n\n  /**\n   * Return the area of the polygon on projected plane.\n   * @return {number} Area (on projected plane).\n   * @api\n   */\n  Polygon.prototype.getArea = function getArea () {\n    return linearRingsArea(this.getOrientedFlatCoordinates(), 0, this.ends_, this.stride);\n  };\n\n  /**\n   * Get the coordinate array for this geometry.  This array has the structure\n   * of a GeoJSON coordinate array for polygons.\n   *\n   * @param {boolean=} opt_right Orient coordinates according to the right-hand\n   *     rule (counter-clockwise for exterior and clockwise for interior rings).\n   *     If `false`, coordinates will be oriented according to the left-hand rule\n   *     (clockwise for exterior and counter-clockwise for interior rings).\n   *     By default, coordinate orientation will depend on how the geometry was\n   *     constructed.\n   * @return {Array<Array<import(\"../coordinate.js\").Coordinate>>} Coordinates.\n   * @override\n   * @api\n   */\n  Polygon.prototype.getCoordinates = function getCoordinates (opt_right) {\n    var flatCoordinates;\n    if (opt_right !== undefined) {\n      flatCoordinates = this.getOrientedFlatCoordinates().slice();\n      orientLinearRings(\n        flatCoordinates, 0, this.ends_, this.stride, opt_right);\n    } else {\n      flatCoordinates = this.flatCoordinates;\n    }\n\n    return inflateCoordinatesArray(\n      flatCoordinates, 0, this.ends_, this.stride);\n  };\n\n  /**\n   * @return {Array<number>} Ends.\n   */\n  Polygon.prototype.getEnds = function getEnds () {\n    return this.ends_;\n  };\n\n  /**\n   * @return {Array<number>} Interior point.\n   */\n  Polygon.prototype.getFlatInteriorPoint = function getFlatInteriorPoint () {\n    if (this.flatInteriorPointRevision_ != this.getRevision()) {\n      var flatCenter = getCenter(this.getExtent());\n      this.flatInteriorPoint_ = getInteriorPointOfArray(\n        this.getOrientedFlatCoordinates(), 0, this.ends_, this.stride,\n        flatCenter, 0);\n      this.flatInteriorPointRevision_ = this.getRevision();\n    }\n    return this.flatInteriorPoint_;\n  };\n\n  /**\n   * Return an interior point of the polygon.\n   * @return {Point} Interior point as XYM coordinate, where M is the\n   * length of the horizontal intersection that the point belongs to.\n   * @api\n   */\n  Polygon.prototype.getInteriorPoint = function getInteriorPoint () {\n    return new Point(this.getFlatInteriorPoint(), GeometryLayout.XYM);\n  };\n\n  /**\n   * Return the number of rings of the polygon,  this includes the exterior\n   * ring and any interior rings.\n   *\n   * @return {number} Number of rings.\n   * @api\n   */\n  Polygon.prototype.getLinearRingCount = function getLinearRingCount () {\n    return this.ends_.length;\n  };\n\n  /**\n   * Return the Nth linear ring of the polygon geometry. Return `null` if the\n   * given index is out of range.\n   * The exterior linear ring is available at index `0` and the interior rings\n   * at index `1` and beyond.\n   *\n   * @param {number} index Index.\n   * @return {LinearRing} Linear ring.\n   * @api\n   */\n  Polygon.prototype.getLinearRing = function getLinearRing (index) {\n    if (index < 0 || this.ends_.length <= index) {\n      return null;\n    }\n    return new LinearRing(this.flatCoordinates.slice(\n      index === 0 ? 0 : this.ends_[index - 1], this.ends_[index]), this.layout);\n  };\n\n  /**\n   * Return the linear rings of the polygon.\n   * @return {Array<LinearRing>} Linear rings.\n   * @api\n   */\n  Polygon.prototype.getLinearRings = function getLinearRings () {\n    var layout = this.layout;\n    var flatCoordinates = this.flatCoordinates;\n    var ends = this.ends_;\n    var linearRings = [];\n    var offset = 0;\n    for (var i = 0, ii = ends.length; i < ii; ++i) {\n      var end = ends[i];\n      var linearRing = new LinearRing(flatCoordinates.slice(offset, end), layout);\n      linearRings.push(linearRing);\n      offset = end;\n    }\n    return linearRings;\n  };\n\n  /**\n   * @return {Array<number>} Oriented flat coordinates.\n   */\n  Polygon.prototype.getOrientedFlatCoordinates = function getOrientedFlatCoordinates () {\n    if (this.orientedRevision_ != this.getRevision()) {\n      var flatCoordinates = this.flatCoordinates;\n      if (linearRingIsOriented(\n        flatCoordinates, 0, this.ends_, this.stride)) {\n        this.orientedFlatCoordinates_ = flatCoordinates;\n      } else {\n        this.orientedFlatCoordinates_ = flatCoordinates.slice();\n        this.orientedFlatCoordinates_.length =\n            orientLinearRings(\n              this.orientedFlatCoordinates_, 0, this.ends_, this.stride);\n      }\n      this.orientedRevision_ = this.getRevision();\n    }\n    return this.orientedFlatCoordinates_;\n  };\n\n  /**\n   * @inheritDoc\n   */\n  Polygon.prototype.getSimplifiedGeometryInternal = function getSimplifiedGeometryInternal (squaredTolerance) {\n    var simplifiedFlatCoordinates = [];\n    var simplifiedEnds = [];\n    simplifiedFlatCoordinates.length = quantizeArray(\n      this.flatCoordinates, 0, this.ends_, this.stride,\n      Math.sqrt(squaredTolerance),\n      simplifiedFlatCoordinates, 0, simplifiedEnds);\n    return new Polygon(simplifiedFlatCoordinates, GeometryLayout.XY, simplifiedEnds);\n  };\n\n  /**\n   * @inheritDoc\n   * @api\n   */\n  Polygon.prototype.getType = function getType () {\n    return GeometryType.POLYGON;\n  };\n\n  /**\n   * @inheritDoc\n   * @api\n   */\n  Polygon.prototype.intersectsExtent = function intersectsExtent (extent) {\n    return intersectsLinearRingArray(\n      this.getOrientedFlatCoordinates(), 0, this.ends_, this.stride, extent);\n  };\n\n  /**\n   * Set the coordinates of the polygon.\n   * @param {!Array<Array<import(\"../coordinate.js\").Coordinate>>} coordinates Coordinates.\n   * @param {GeometryLayout=} opt_layout Layout.\n   * @override\n   * @api\n   */\n  Polygon.prototype.setCoordinates = function setCoordinates (coordinates, opt_layout) {\n    this.setLayout(opt_layout, coordinates, 2);\n    if (!this.flatCoordinates) {\n      this.flatCoordinates = [];\n    }\n    var ends = deflateCoordinatesArray(\n      this.flatCoordinates, 0, coordinates, this.stride, this.ends_);\n    this.flatCoordinates.length = ends.length === 0 ? 0 : ends[ends.length - 1];\n    this.changed();\n  };\n\n  return Polygon;\n}(SimpleGeometry));\n\n\nexport default Polygon;\n\n\n/**\n * Create an approximation of a circle on the surface of a sphere.\n * @param {import(\"../coordinate.js\").Coordinate} center Center (`[lon, lat]` in degrees).\n * @param {number} radius The great-circle distance from the center to\n *     the polygon vertices.\n * @param {number=} opt_n Optional number of vertices for the resulting\n *     polygon. Default is `32`.\n * @param {number=} opt_sphereRadius Optional radius for the sphere (defaults to\n *     the Earth's mean radius using the WGS84 ellipsoid).\n * @return {Polygon} The \"circular\" polygon.\n * @api\n */\nexport function circular(center, radius, opt_n, opt_sphereRadius) {\n  var n = opt_n ? opt_n : 32;\n  /** @type {Array<number>} */\n  var flatCoordinates = [];\n  for (var i = 0; i < n; ++i) {\n    extend(flatCoordinates, sphereOffset(center, radius, 2 * Math.PI * i / n, opt_sphereRadius));\n  }\n  flatCoordinates.push(flatCoordinates[0], flatCoordinates[1]);\n  return new Polygon(flatCoordinates, GeometryLayout.XY, [flatCoordinates.length]);\n}\n\n\n/**\n * Create a polygon from an extent. The layout used is `XY`.\n * @param {import(\"../extent.js\").Extent} extent The extent.\n * @return {Polygon} The polygon.\n * @api\n */\nexport function fromExtent(extent) {\n  var minX = extent[0];\n  var minY = extent[1];\n  var maxX = extent[2];\n  var maxY = extent[3];\n  var flatCoordinates =\n      [minX, minY, minX, maxY, maxX, maxY, maxX, minY, minX, minY];\n  return new Polygon(flatCoordinates, GeometryLayout.XY, [flatCoordinates.length]);\n}\n\n\n/**\n * Create a regular polygon from a circle.\n * @param {import(\"./Circle.js\").default} circle Circle geometry.\n * @param {number=} opt_sides Number of sides of the polygon. Default is 32.\n * @param {number=} opt_angle Start angle for the first vertex of the polygon in\n *     radians. Default is 0.\n * @return {Polygon} Polygon geometry.\n * @api\n */\nexport function fromCircle(circle, opt_sides, opt_angle) {\n  var sides = opt_sides ? opt_sides : 32;\n  var stride = circle.getStride();\n  var layout = circle.getLayout();\n  var center = circle.getCenter();\n  var arrayLength = stride * (sides + 1);\n  var flatCoordinates = new Array(arrayLength);\n  for (var i = 0; i < arrayLength; i += stride) {\n    flatCoordinates[i] = 0;\n    flatCoordinates[i + 1] = 0;\n    for (var j = 2; j < stride; j++) {\n      flatCoordinates[i + j] = center[j];\n    }\n  }\n  var ends = [flatCoordinates.length];\n  var polygon = new Polygon(flatCoordinates, layout, ends);\n  makeRegular(polygon, center, circle.getRadius(), opt_angle);\n  return polygon;\n}\n\n\n/**\n * Modify the coordinates of a polygon to make it a regular polygon.\n * @param {Polygon} polygon Polygon geometry.\n * @param {import(\"../coordinate.js\").Coordinate} center Center of the regular polygon.\n * @param {number} radius Radius of the regular polygon.\n * @param {number=} opt_angle Start angle for the first vertex of the polygon in\n *     radians. Default is 0.\n */\nexport function makeRegular(polygon, center, radius, opt_angle) {\n  var flatCoordinates = polygon.getFlatCoordinates();\n  var stride = polygon.getStride();\n  var sides = flatCoordinates.length / stride - 1;\n  var startAngle = opt_angle ? opt_angle : 0;\n  for (var i = 0; i <= sides; ++i) {\n    var offset = i * stride;\n    var angle = startAngle + (modulo(i, sides) * 2 * Math.PI / sides);\n    flatCoordinates[offset] = center[0] + (radius * Math.cos(angle));\n    flatCoordinates[offset + 1] = center[1] + (radius * Math.sin(angle));\n  }\n  polygon.changed();\n}\n\n//# sourceMappingURL=Polygon.js.map","/**\n * @module ol/color\n */\nimport {assert} from './asserts.js';\nimport {clamp} from './math.js';\n\n\n/**\n * A color represented as a short array [red, green, blue, alpha].\n * red, green, and blue should be integers in the range 0..255 inclusive.\n * alpha should be a float in the range 0..1 inclusive. If no alpha value is\n * given then `1` will be used.\n * @typedef {Array<number>} Color\n * @api\n */\n\n\n/**\n * This RegExp matches # followed by 3, 4, 6, or 8 hex digits.\n * @const\n * @type {RegExp}\n * @private\n */\nvar HEX_COLOR_RE_ = /^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i;\n\n\n/**\n * Regular expression for matching potential named color style strings.\n * @const\n * @type {RegExp}\n * @private\n */\nvar NAMED_COLOR_RE_ = /^([a-z]*)$/i;\n\n\n/**\n * Return the color as an rgba string.\n * @param {Color|string} color Color.\n * @return {string} Rgba string.\n * @api\n */\nexport function asString(color) {\n  if (typeof color === 'string') {\n    return color;\n  } else {\n    return toString(color);\n  }\n}\n\n/**\n * Return named color as an rgba string.\n * @param {string} color Named color.\n * @return {string} Rgb string.\n */\nfunction fromNamed(color) {\n  var el = document.createElement('div');\n  el.style.color = color;\n  if (el.style.color !== '') {\n    document.body.appendChild(el);\n    var rgb = getComputedStyle(el).color;\n    document.body.removeChild(el);\n    return rgb;\n  } else {\n    return '';\n  }\n}\n\n\n/**\n * @param {string} s String.\n * @return {Color} Color.\n */\nexport var fromString = (\n  function() {\n\n    // We maintain a small cache of parsed strings.  To provide cheap LRU-like\n    // semantics, whenever the cache grows too large we simply delete an\n    // arbitrary 25% of the entries.\n\n    /**\n     * @const\n     * @type {number}\n     */\n    var MAX_CACHE_SIZE = 1024;\n\n    /**\n     * @type {Object<string, Color>}\n     */\n    var cache = {};\n\n    /**\n     * @type {number}\n     */\n    var cacheSize = 0;\n\n    return (\n      /**\n       * @param {string} s String.\n       * @return {Color} Color.\n       */\n      function(s) {\n        var color;\n        if (cache.hasOwnProperty(s)) {\n          color = cache[s];\n        } else {\n          if (cacheSize >= MAX_CACHE_SIZE) {\n            var i = 0;\n            for (var key in cache) {\n              if ((i++ & 3) === 0) {\n                delete cache[key];\n                --cacheSize;\n              }\n            }\n          }\n          color = fromStringInternal_(s);\n          cache[s] = color;\n          ++cacheSize;\n        }\n        return color;\n      }\n    );\n\n  })();\n\n/**\n * Return the color as an array. This function maintains a cache of calculated\n * arrays which means the result should not be modified.\n * @param {Color|string} color Color.\n * @return {Color} Color.\n * @api\n */\nexport function asArray(color) {\n  if (Array.isArray(color)) {\n    return color;\n  } else {\n    return fromString(color);\n  }\n}\n\n/**\n * @param {string} s String.\n * @private\n * @return {Color} Color.\n */\nfunction fromStringInternal_(s) {\n  var r, g, b, a, color;\n\n  if (NAMED_COLOR_RE_.exec(s)) {\n    s = fromNamed(s);\n  }\n\n  if (HEX_COLOR_RE_.exec(s)) { // hex\n    var n = s.length - 1; // number of hex digits\n    var d; // number of digits per channel\n    if (n <= 4) {\n      d = 1;\n    } else {\n      d = 2;\n    }\n    var hasAlpha = n === 4 || n === 8;\n    r = parseInt(s.substr(1 + 0 * d, d), 16);\n    g = parseInt(s.substr(1 + 1 * d, d), 16);\n    b = parseInt(s.substr(1 + 2 * d, d), 16);\n    if (hasAlpha) {\n      a = parseInt(s.substr(1 + 3 * d, d), 16);\n    } else {\n      a = 255;\n    }\n    if (d == 1) {\n      r = (r << 4) + r;\n      g = (g << 4) + g;\n      b = (b << 4) + b;\n      if (hasAlpha) {\n        a = (a << 4) + a;\n      }\n    }\n    color = [r, g, b, a / 255];\n  } else if (s.indexOf('rgba(') == 0) { // rgba()\n    color = s.slice(5, -1).split(',').map(Number);\n    normalize(color);\n  } else if (s.indexOf('rgb(') == 0) { // rgb()\n    color = s.slice(4, -1).split(',').map(Number);\n    color.push(1);\n    normalize(color);\n  } else {\n    assert(false, 14); // Invalid color\n  }\n  return color;\n}\n\n\n/**\n * TODO this function is only used in the test, we probably shouldn't export it\n * @param {Color} color Color.\n * @return {Color} Clamped color.\n */\nexport function normalize(color) {\n  color[0] = clamp((color[0] + 0.5) | 0, 0, 255);\n  color[1] = clamp((color[1] + 0.5) | 0, 0, 255);\n  color[2] = clamp((color[2] + 0.5) | 0, 0, 255);\n  color[3] = clamp(color[3], 0, 1);\n  return color;\n}\n\n\n/**\n * @param {Color} color Color.\n * @return {string} String.\n */\nexport function toString(color) {\n  var r = color[0];\n  if (r != (r | 0)) {\n    r = (r + 0.5) | 0;\n  }\n  var g = color[1];\n  if (g != (g | 0)) {\n    g = (g + 0.5) | 0;\n  }\n  var b = color[2];\n  if (b != (b | 0)) {\n    b = (b + 0.5) | 0;\n  }\n  var a = color[3] === undefined ? 1 : color[3];\n  return 'rgba(' + r + ',' + g + ',' + b + ',' + a + ')';\n}\n\n//# sourceMappingURL=color.js.map","/**\n * @module ol/LayerType\n */\n\n/**\n * A layer type used when creating layer renderers.\n * @enum {string}\n */\nexport default {\n  IMAGE: 'IMAGE',\n  TILE: 'TILE',\n  VECTOR_TILE: 'VECTOR_TILE',\n  VECTOR: 'VECTOR'\n};\n\n//# sourceMappingURL=LayerType.js.map","/**\n * @module ol/Tile\n */\nimport TileState from './TileState.js';\nimport {easeIn} from './easing.js';\nimport EventTarget from './events/Target.js';\nimport EventType from './events/EventType.js';\n\n\n/**\n * A function that takes an {@link module:ol/Tile} for the tile and a\n * `{string}` for the url as arguments. The default is\n * ```js\n * source.setTileLoadFunction(function(tile, src) {\n *   tile.getImage().src = src;\n * });\n * ```\n * For more fine grained control, the load function can use fetch or XMLHttpRequest and involve\n * error handling:\n *\n * ```js\n * import TileState from 'ol/TileState';\n *\n * source.setTileLoadFunction(function(tile, src) {\n *   var xhr = new XMLHttpRequest();\n *   xhr.responseType = 'blob';\n *   xhr.addEventListener('loadend', function (evt) {\n *     var data = this.response;\n *     if (data !== undefined) {\n *       tile.getImage().src = URL.createObjectURL(data);\n *     } else {\n *       tile.setState(TileState.ERROR);\n *     }\n *   });\n *   xhr.addEventListener('error', function () {\n *     tile.setState(TileState.ERROR);\n *   });\n *   xhr.open('GET', src);\n *   xhr.send();\n * });\n * ```\n *\n * @typedef {function(Tile, string)} LoadFunction\n * @api\n */\n\n/**\n * {@link module:ol/source/Tile~Tile} sources use a function of this type to get\n * the url that provides a tile for a given tile coordinate.\n *\n * This function takes an {@link module:ol/tilecoord~TileCoord} for the tile\n * coordinate, a `{number}` representing the pixel ratio and a\n * {@link module:ol/proj/Projection} for the projection  as arguments\n * and returns a `{string}` representing the tile URL, or undefined if no tile\n * should be requested for the passed tile coordinate.\n *\n * @typedef {function(import(\"./tilecoord.js\").TileCoord, number,\n *           import(\"./proj/Projection.js\").default): (string|undefined)} UrlFunction\n * @api\n */\n\n\n/**\n * @typedef {Object} Options\n * @property {number} [transition=250] A duration for tile opacity\n * transitions in milliseconds. A duration of 0 disables the opacity transition.\n * @api\n */\n\n\n/**\n * @classdesc\n * Base class for tiles.\n *\n * @abstract\n */\nvar Tile = /*@__PURE__*/(function (EventTarget) {\n  function Tile(tileCoord, state, opt_options) {\n    EventTarget.call(this);\n\n    var options = opt_options ? opt_options : {};\n\n    /**\n     * @type {import(\"./tilecoord.js\").TileCoord}\n     */\n    this.tileCoord = tileCoord;\n\n    /**\n     * @protected\n     * @type {TileState}\n     */\n    this.state = state;\n\n    /**\n     * An \"interim\" tile for this tile. The interim tile may be used while this\n     * one is loading, for \"smooth\" transitions when changing params/dimensions\n     * on the source.\n     * @type {Tile}\n     */\n    this.interimTile = null;\n\n    /**\n     * A key assigned to the tile. This is used by the tile source to determine\n     * if this tile can effectively be used, or if a new tile should be created\n     * and this one be used as an interim tile for this new tile.\n     * @type {string}\n     */\n    this.key = '';\n\n    /**\n     * The duration for the opacity transition.\n     * @type {number}\n     */\n    this.transition_ = options.transition === undefined ? 250 : options.transition;\n\n    /**\n     * Lookup of start times for rendering transitions.  If the start time is\n     * equal to -1, the transition is complete.\n     * @type {Object<string, number>}\n     */\n    this.transitionStarts_ = {};\n\n  }\n\n  if ( EventTarget ) Tile.__proto__ = EventTarget;\n  Tile.prototype = Object.create( EventTarget && EventTarget.prototype );\n  Tile.prototype.constructor = Tile;\n\n  /**\n   * @protected\n   */\n  Tile.prototype.changed = function changed () {\n    this.dispatchEvent(EventType.CHANGE);\n  };\n\n  /**\n   * @return {string} Key.\n   */\n  Tile.prototype.getKey = function getKey () {\n    return this.key + '/' + this.tileCoord;\n  };\n\n  /**\n   * Get the interim tile most suitable for rendering using the chain of interim\n   * tiles. This corresponds to the  most recent tile that has been loaded, if no\n   * such tile exists, the original tile is returned.\n   * @return {!Tile} Best tile for rendering.\n   */\n  Tile.prototype.getInterimTile = function getInterimTile () {\n    if (!this.interimTile) {\n      //empty chain\n      return this;\n    }\n    var tile = this.interimTile;\n\n    // find the first loaded tile and return it. Since the chain is sorted in\n    // decreasing order of creation time, there is no need to search the remainder\n    // of the list (all those tiles correspond to older requests and will be\n    // cleaned up by refreshInterimChain)\n    do {\n      if (tile.getState() == TileState.LOADED) {\n        return tile;\n      }\n      tile = tile.interimTile;\n    } while (tile);\n\n    // we can not find a better tile\n    return this;\n  };\n\n  /**\n   * Goes through the chain of interim tiles and discards sections of the chain\n   * that are no longer relevant.\n   */\n  Tile.prototype.refreshInterimChain = function refreshInterimChain () {\n    if (!this.interimTile) {\n      return;\n    }\n\n    var tile = this.interimTile;\n    var prev = /** @type {Tile} */ (this);\n\n    do {\n      if (tile.getState() == TileState.LOADED) {\n        //we have a loaded tile, we can discard the rest of the list\n        //we would could abort any LOADING tile request\n        //older than this tile (i.e. any LOADING tile following this entry in the chain)\n        tile.interimTile = null;\n        break;\n      } else if (tile.getState() == TileState.LOADING) {\n        //keep this LOADING tile any loaded tiles later in the chain are\n        //older than this tile, so we're still interested in the request\n        prev = tile;\n      } else if (tile.getState() == TileState.IDLE) {\n        //the head of the list is the most current tile, we don't need\n        //to start any other requests for this chain\n        prev.interimTile = tile.interimTile;\n      } else {\n        prev = tile;\n      }\n      tile = prev.interimTile;\n    } while (tile);\n  };\n\n  /**\n   * Get the tile coordinate for this tile.\n   * @return {import(\"./tilecoord.js\").TileCoord} The tile coordinate.\n   * @api\n   */\n  Tile.prototype.getTileCoord = function getTileCoord () {\n    return this.tileCoord;\n  };\n\n  /**\n   * @return {TileState} State.\n   */\n  Tile.prototype.getState = function getState () {\n    return this.state;\n  };\n\n  /**\n   * Sets the state of this tile. If you write your own {@link module:ol/Tile~LoadFunction tileLoadFunction} ,\n   * it is important to set the state correctly to {@link module:ol/TileState~ERROR}\n   * when the tile cannot be loaded. Otherwise the tile cannot be removed from\n   * the tile queue and will block other requests.\n   * @param {TileState} state State.\n   * @api\n   */\n  Tile.prototype.setState = function setState (state) {\n    this.state = state;\n    this.changed();\n  };\n\n  /**\n   * Load the image or retry if loading previously failed.\n   * Loading is taken care of by the tile queue, and calling this method is\n   * only needed for preloading or for reloading in case of an error.\n   * @abstract\n   * @api\n   */\n  Tile.prototype.load = function load () {};\n\n  /**\n   * Get the alpha value for rendering.\n   * @param {string} id An id for the renderer.\n   * @param {number} time The render frame time.\n   * @return {number} A number between 0 and 1.\n   */\n  Tile.prototype.getAlpha = function getAlpha (id, time) {\n    if (!this.transition_) {\n      return 1;\n    }\n\n    var start = this.transitionStarts_[id];\n    if (!start) {\n      start = time;\n      this.transitionStarts_[id] = start;\n    } else if (start === -1) {\n      return 1;\n    }\n\n    var delta = time - start + (1000 / 60); // avoid rendering at 0\n    if (delta >= this.transition_) {\n      return 1;\n    }\n    return easeIn(delta / this.transition_);\n  };\n\n  /**\n   * Determine if a tile is in an alpha transition.  A tile is considered in\n   * transition if tile.getAlpha() has not yet been called or has been called\n   * and returned 1.\n   * @param {string} id An id for the renderer.\n   * @return {boolean} The tile is in transition.\n   */\n  Tile.prototype.inTransition = function inTransition (id) {\n    if (!this.transition_) {\n      return false;\n    }\n    return this.transitionStarts_[id] !== -1;\n  };\n\n  /**\n   * Mark a transition as complete.\n   * @param {string} id An id for the renderer.\n   */\n  Tile.prototype.endTransition = function endTransition (id) {\n    if (this.transition_) {\n      this.transitionStarts_[id] = -1;\n    }\n  };\n\n  return Tile;\n}(EventTarget));\n\n\nexport default Tile;\n\n//# sourceMappingURL=Tile.js.map","/**\n * @module ol/MapEvent\n */\nimport Event from './events/Event.js';\n\n/**\n * @classdesc\n * Events emitted as map events are instances of this type.\n * See {@link module:ol/PluggableMap~PluggableMap} for which events trigger a map event.\n */\nvar MapEvent = /*@__PURE__*/(function (Event) {\n  function MapEvent(type, map, opt_frameState) {\n\n    Event.call(this, type);\n\n    /**\n     * The map where the event occurred.\n     * @type {import(\"./PluggableMap.js\").default}\n     * @api\n     */\n    this.map = map;\n\n    /**\n     * The frame state at the time of the event.\n     * @type {?import(\"./PluggableMap.js\").FrameState}\n     * @api\n     */\n    this.frameState = opt_frameState !== undefined ? opt_frameState : null;\n\n  }\n\n  if ( Event ) MapEvent.__proto__ = Event;\n  MapEvent.prototype = Object.create( Event && Event.prototype );\n  MapEvent.prototype.constructor = MapEvent;\n\n  return MapEvent;\n}(Event));\n\nexport default MapEvent;\n\n//# sourceMappingURL=MapEvent.js.map","/**\n * @module ol/MapBrowserEvent\n */\nimport MapEvent from './MapEvent.js';\n\n/**\n * @classdesc\n * Events emitted as map browser events are instances of this type.\n * See {@link module:ol/PluggableMap~PluggableMap} for which events trigger a map browser event.\n */\nvar MapBrowserEvent = /*@__PURE__*/(function (MapEvent) {\n  function MapBrowserEvent(type, map, browserEvent, opt_dragging, opt_frameState) {\n\n    MapEvent.call(this, type, map, opt_frameState);\n\n    /**\n     * The original browser event.\n     * @const\n     * @type {Event}\n     * @api\n     */\n    this.originalEvent = browserEvent;\n\n    /**\n     * The map pixel relative to the viewport corresponding to the original browser event.\n     * @type {import(\"./pixel.js\").Pixel}\n     * @api\n     */\n    this.pixel = map.getEventPixel(browserEvent);\n\n    /**\n     * The coordinate in view projection corresponding to the original browser event.\n     * @type {import(\"./coordinate.js\").Coordinate}\n     * @api\n     */\n    this.coordinate = map.getCoordinateFromPixel(this.pixel);\n\n    /**\n     * Indicates if the map is currently being dragged. Only set for\n     * `POINTERDRAG` and `POINTERMOVE` events. Default is `false`.\n     *\n     * @type {boolean}\n     * @api\n     */\n    this.dragging = opt_dragging !== undefined ? opt_dragging : false;\n\n  }\n\n  if ( MapEvent ) MapBrowserEvent.__proto__ = MapEvent;\n  MapBrowserEvent.prototype = Object.create( MapEvent && MapEvent.prototype );\n  MapBrowserEvent.prototype.constructor = MapBrowserEvent;\n\n  /**\n   * Prevents the default browser action.\n   * See https://developer.mozilla.org/en-US/docs/Web/API/event.preventDefault.\n   * @override\n   * @api\n   */\n  MapBrowserEvent.prototype.preventDefault = function preventDefault () {\n    MapEvent.prototype.preventDefault.call(this);\n    this.originalEvent.preventDefault();\n  };\n\n  /**\n   * Prevents further propagation of the current event.\n   * See https://developer.mozilla.org/en-US/docs/Web/API/event.stopPropagation.\n   * @override\n   * @api\n   */\n  MapBrowserEvent.prototype.stopPropagation = function stopPropagation () {\n    MapEvent.prototype.stopPropagation.call(this);\n    this.originalEvent.stopPropagation();\n  };\n\n  return MapBrowserEvent;\n}(MapEvent));\n\n\nexport default MapBrowserEvent;\n\n//# sourceMappingURL=MapBrowserEvent.js.map","/**\n * @module ol/MapBrowserPointerEvent\n */\nimport MapBrowserEvent from './MapBrowserEvent.js';\n\nvar MapBrowserPointerEvent = /*@__PURE__*/(function (MapBrowserEvent) {\n  function MapBrowserPointerEvent(type, map, pointerEvent, opt_dragging, opt_frameState) {\n\n    MapBrowserEvent.call(this, type, map, pointerEvent.originalEvent, opt_dragging, opt_frameState);\n\n    /**\n     * @const\n     * @type {import(\"./pointer/PointerEvent.js\").default}\n     */\n    this.pointerEvent = pointerEvent;\n\n  }\n\n  if ( MapBrowserEvent ) MapBrowserPointerEvent.__proto__ = MapBrowserEvent;\n  MapBrowserPointerEvent.prototype = Object.create( MapBrowserEvent && MapBrowserEvent.prototype );\n  MapBrowserPointerEvent.prototype.constructor = MapBrowserPointerEvent;\n\n  return MapBrowserPointerEvent;\n}(MapBrowserEvent));\n\nexport default MapBrowserPointerEvent;\n\n//# sourceMappingURL=MapBrowserPointerEvent.js.map","/**\n * @module ol/MapBrowserEventHandler\n */\nimport {DEVICE_PIXEL_RATIO} from './has.js';\nimport MapBrowserEventType from './MapBrowserEventType.js';\nimport MapBrowserPointerEvent from './MapBrowserPointerEvent.js';\nimport {listen, unlistenByKey} from './events.js';\nimport EventTarget from './events/Target.js';\nimport PointerEventType from './pointer/EventType.js';\nimport PointerEventHandler from './pointer/PointerEventHandler.js';\n\nvar MapBrowserEventHandler = /*@__PURE__*/(function (EventTarget) {\n  function MapBrowserEventHandler(map, moveTolerance) {\n\n    EventTarget.call(this);\n\n    /**\n     * This is the element that we will listen to the real events on.\n     * @type {import(\"./PluggableMap.js\").default}\n     * @private\n     */\n    this.map_ = map;\n\n    /**\n     * @type {any}\n     * @private\n     */\n    this.clickTimeoutId_;\n\n    /**\n     * @type {boolean}\n     * @private\n     */\n    this.dragging_ = false;\n\n    /**\n     * @type {!Array<import(\"./events.js\").EventsKey>}\n     * @private\n     */\n    this.dragListenerKeys_ = [];\n\n    /**\n     * @type {number}\n     * @private\n     */\n    this.moveTolerance_ = moveTolerance ?\n      moveTolerance * DEVICE_PIXEL_RATIO : DEVICE_PIXEL_RATIO;\n\n    /**\n     * The most recent \"down\" type event (or null if none have occurred).\n     * Set on pointerdown.\n     * @type {import(\"./pointer/PointerEvent.js\").default}\n     * @private\n     */\n    this.down_ = null;\n\n    var element = this.map_.getViewport();\n\n    /**\n     * @type {number}\n     * @private\n     */\n    this.activePointers_ = 0;\n\n    /**\n     * @type {!Object<number, boolean>}\n     * @private\n     */\n    this.trackedTouches_ = {};\n\n    /**\n     * Event handler which generates pointer events for\n     * the viewport element.\n     *\n     * @type {PointerEventHandler}\n     * @private\n     */\n    this.pointerEventHandler_ = new PointerEventHandler(element);\n\n    /**\n     * Event handler which generates pointer events for\n     * the document (used when dragging).\n     *\n     * @type {PointerEventHandler}\n     * @private\n     */\n    this.documentPointerEventHandler_ = null;\n\n    /**\n     * @type {?import(\"./events.js\").EventsKey}\n     * @private\n     */\n    this.pointerdownListenerKey_ = listen(this.pointerEventHandler_,\n      PointerEventType.POINTERDOWN,\n      this.handlePointerDown_, this);\n\n    /**\n     * @type {?import(\"./events.js\").EventsKey}\n     * @private\n     */\n    this.relayedListenerKey_ = listen(this.pointerEventHandler_,\n      PointerEventType.POINTERMOVE,\n      this.relayEvent_, this);\n\n  }\n\n  if ( EventTarget ) MapBrowserEventHandler.__proto__ = EventTarget;\n  MapBrowserEventHandler.prototype = Object.create( EventTarget && EventTarget.prototype );\n  MapBrowserEventHandler.prototype.constructor = MapBrowserEventHandler;\n\n  /**\n   * @param {import(\"./pointer/PointerEvent.js\").default} pointerEvent Pointer\n   * event.\n   * @private\n   */\n  MapBrowserEventHandler.prototype.emulateClick_ = function emulateClick_ (pointerEvent) {\n    var newEvent = new MapBrowserPointerEvent(\n      MapBrowserEventType.CLICK, this.map_, pointerEvent);\n    this.dispatchEvent(newEvent);\n    if (this.clickTimeoutId_ !== undefined) {\n      // double-click\n      clearTimeout(this.clickTimeoutId_);\n      this.clickTimeoutId_ = undefined;\n      newEvent = new MapBrowserPointerEvent(\n        MapBrowserEventType.DBLCLICK, this.map_, pointerEvent);\n      this.dispatchEvent(newEvent);\n    } else {\n      // click\n      this.clickTimeoutId_ = setTimeout(function() {\n        this.clickTimeoutId_ = undefined;\n        var newEvent = new MapBrowserPointerEvent(\n          MapBrowserEventType.SINGLECLICK, this.map_, pointerEvent);\n        this.dispatchEvent(newEvent);\n      }.bind(this), 250);\n    }\n  };\n\n  /**\n   * Keeps track on how many pointers are currently active.\n   *\n   * @param {import(\"./pointer/PointerEvent.js\").default} pointerEvent Pointer\n   * event.\n   * @private\n   */\n  MapBrowserEventHandler.prototype.updateActivePointers_ = function updateActivePointers_ (pointerEvent) {\n    var event = pointerEvent;\n\n    if (event.type == MapBrowserEventType.POINTERUP ||\n        event.type == MapBrowserEventType.POINTERCANCEL) {\n      delete this.trackedTouches_[event.pointerId];\n    } else if (event.type == MapBrowserEventType.POINTERDOWN) {\n      this.trackedTouches_[event.pointerId] = true;\n    }\n    this.activePointers_ = Object.keys(this.trackedTouches_).length;\n  };\n\n  /**\n   * @param {import(\"./pointer/PointerEvent.js\").default} pointerEvent Pointer\n   * event.\n   * @private\n   */\n  MapBrowserEventHandler.prototype.handlePointerUp_ = function handlePointerUp_ (pointerEvent) {\n    this.updateActivePointers_(pointerEvent);\n    var newEvent = new MapBrowserPointerEvent(\n      MapBrowserEventType.POINTERUP, this.map_, pointerEvent);\n    this.dispatchEvent(newEvent);\n\n    // We emulate click events on left mouse button click, touch contact, and pen\n    // contact. isMouseActionButton returns true in these cases (evt.button is set\n    // to 0).\n    // See http://www.w3.org/TR/pointerevents/#button-states\n    // We only fire click, singleclick, and doubleclick if nobody has called\n    // event.stopPropagation() or event.preventDefault().\n    if (!newEvent.propagationStopped && !this.dragging_ && this.isMouseActionButton_(pointerEvent)) {\n      this.emulateClick_(this.down_);\n    }\n\n    if (this.activePointers_ === 0) {\n      this.dragListenerKeys_.forEach(unlistenByKey);\n      this.dragListenerKeys_.length = 0;\n      this.dragging_ = false;\n      this.down_ = null;\n      this.documentPointerEventHandler_.dispose();\n      this.documentPointerEventHandler_ = null;\n    }\n  };\n\n  /**\n   * @param {import(\"./pointer/PointerEvent.js\").default} pointerEvent Pointer\n   * event.\n   * @return {boolean} If the left mouse button was pressed.\n   * @private\n   */\n  MapBrowserEventHandler.prototype.isMouseActionButton_ = function isMouseActionButton_ (pointerEvent) {\n    return pointerEvent.button === 0;\n  };\n\n  /**\n   * @param {import(\"./pointer/PointerEvent.js\").default} pointerEvent Pointer\n   * event.\n   * @private\n   */\n  MapBrowserEventHandler.prototype.handlePointerDown_ = function handlePointerDown_ (pointerEvent) {\n    this.updateActivePointers_(pointerEvent);\n    var newEvent = new MapBrowserPointerEvent(\n      MapBrowserEventType.POINTERDOWN, this.map_, pointerEvent);\n    this.dispatchEvent(newEvent);\n\n    this.down_ = pointerEvent;\n\n    if (this.dragListenerKeys_.length === 0) {\n      /* Set up a pointer event handler on the `document`,\n       * which is required when the pointer is moved outside\n       * the viewport when dragging.\n       */\n      this.documentPointerEventHandler_ =\n          new PointerEventHandler(document);\n\n      this.dragListenerKeys_.push(\n        listen(this.documentPointerEventHandler_,\n          MapBrowserEventType.POINTERMOVE,\n          this.handlePointerMove_, this),\n        listen(this.documentPointerEventHandler_,\n          MapBrowserEventType.POINTERUP,\n          this.handlePointerUp_, this),\n        /* Note that the listener for `pointercancel is set up on\n         * `pointerEventHandler_` and not `documentPointerEventHandler_` like\n         * the `pointerup` and `pointermove` listeners.\n         *\n         * The reason for this is the following: `TouchSource.vacuumTouches_()`\n         * issues `pointercancel` events, when there was no `touchend` for a\n         * `touchstart`. Now, let's say a first `touchstart` is registered on\n         * `pointerEventHandler_`. The `documentPointerEventHandler_` is set up.\n         * But `documentPointerEventHandler_` doesn't know about the first\n         * `touchstart`. If there is no `touchend` for the `touchstart`, we can\n         * only receive a `touchcancel` from `pointerEventHandler_`, because it is\n         * only registered there.\n         */\n        listen(this.pointerEventHandler_,\n          MapBrowserEventType.POINTERCANCEL,\n          this.handlePointerUp_, this)\n      );\n    }\n  };\n\n  /**\n   * @param {import(\"./pointer/PointerEvent.js\").default} pointerEvent Pointer\n   * event.\n   * @private\n   */\n  MapBrowserEventHandler.prototype.handlePointerMove_ = function handlePointerMove_ (pointerEvent) {\n    // Between pointerdown and pointerup, pointermove events are triggered.\n    // To avoid a 'false' touchmove event to be dispatched, we test if the pointer\n    // moved a significant distance.\n    if (this.isMoving_(pointerEvent)) {\n      this.dragging_ = true;\n      var newEvent = new MapBrowserPointerEvent(\n        MapBrowserEventType.POINTERDRAG, this.map_, pointerEvent,\n        this.dragging_);\n      this.dispatchEvent(newEvent);\n    }\n\n    // Some native android browser triggers mousemove events during small period\n    // of time. See: https://code.google.com/p/android/issues/detail?id=5491 or\n    // https://code.google.com/p/android/issues/detail?id=19827\n    // ex: Galaxy Tab P3110 + Android 4.1.1\n    pointerEvent.preventDefault();\n  };\n\n  /**\n   * Wrap and relay a pointer event.  Note that this requires that the type\n   * string for the MapBrowserPointerEvent matches the PointerEvent type.\n   * @param {import(\"./pointer/PointerEvent.js\").default} pointerEvent Pointer\n   * event.\n   * @private\n   */\n  MapBrowserEventHandler.prototype.relayEvent_ = function relayEvent_ (pointerEvent) {\n    var dragging = !!(this.down_ && this.isMoving_(pointerEvent));\n    this.dispatchEvent(new MapBrowserPointerEvent(\n      pointerEvent.type, this.map_, pointerEvent, dragging));\n  };\n\n  /**\n   * @param {import(\"./pointer/PointerEvent.js\").default} pointerEvent Pointer\n   * event.\n   * @return {boolean} Is moving.\n   * @private\n   */\n  MapBrowserEventHandler.prototype.isMoving_ = function isMoving_ (pointerEvent) {\n    return this.dragging_ ||\n        Math.abs(pointerEvent.clientX - this.down_.clientX) > this.moveTolerance_ ||\n        Math.abs(pointerEvent.clientY - this.down_.clientY) > this.moveTolerance_;\n  };\n\n  /**\n   * @inheritDoc\n   */\n  MapBrowserEventHandler.prototype.disposeInternal = function disposeInternal () {\n    if (this.relayedListenerKey_) {\n      unlistenByKey(this.relayedListenerKey_);\n      this.relayedListenerKey_ = null;\n    }\n    if (this.pointerdownListenerKey_) {\n      unlistenByKey(this.pointerdownListenerKey_);\n      this.pointerdownListenerKey_ = null;\n    }\n\n    this.dragListenerKeys_.forEach(unlistenByKey);\n    this.dragListenerKeys_.length = 0;\n\n    if (this.documentPointerEventHandler_) {\n      this.documentPointerEventHandler_.dispose();\n      this.documentPointerEventHandler_ = null;\n    }\n    if (this.pointerEventHandler_) {\n      this.pointerEventHandler_.dispose();\n      this.pointerEventHandler_ = null;\n    }\n    EventTarget.prototype.disposeInternal.call(this);\n  };\n\n  return MapBrowserEventHandler;\n}(EventTarget));\n\n\nexport default MapBrowserEventHandler;\n\n//# sourceMappingURL=MapBrowserEventHandler.js.map","/**\n * @module ol/MapProperty\n */\n\n/**\n * @enum {string}\n */\nexport default {\n  LAYERGROUP: 'layergroup',\n  SIZE: 'size',\n  TARGET: 'target',\n  VIEW: 'view'\n};\n\n//# sourceMappingURL=MapProperty.js.map","/**\n * @module ol/TileQueue\n */\nimport TileState from './TileState.js';\nimport {listen, unlisten} from './events.js';\nimport EventType from './events/EventType.js';\nimport PriorityQueue from './structs/PriorityQueue.js';\n\n\n/**\n * @typedef {function(import(\"./Tile.js\").default, string, import(\"./coordinate.js\").Coordinate, number): number} PriorityFunction\n */\n\n\nvar TileQueue = /*@__PURE__*/(function (PriorityQueue) {\n  function TileQueue(tilePriorityFunction, tileChangeCallback) {\n\n    PriorityQueue.call(\n      /**\n       * @param {Array} element Element.\n       * @return {number} Priority.\n       */\n      this, function(element) {\n        return tilePriorityFunction.apply(null, element);\n      },\n      /**\n       * @param {Array} element Element.\n       * @return {string} Key.\n       */\n      function(element) {\n        return (/** @type {import(\"./Tile.js\").default} */ (element[0]).getKey());\n      });\n\n    /**\n     * @private\n     * @type {function(): ?}\n     */\n    this.tileChangeCallback_ = tileChangeCallback;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.tilesLoading_ = 0;\n\n    /**\n     * @private\n     * @type {!Object<string,boolean>}\n     */\n    this.tilesLoadingKeys_ = {};\n\n  }\n\n  if ( PriorityQueue ) TileQueue.__proto__ = PriorityQueue;\n  TileQueue.prototype = Object.create( PriorityQueue && PriorityQueue.prototype );\n  TileQueue.prototype.constructor = TileQueue;\n\n  /**\n   * @inheritDoc\n   */\n  TileQueue.prototype.enqueue = function enqueue (element) {\n    var added = PriorityQueue.prototype.enqueue.call(this, element);\n    if (added) {\n      var tile = element[0];\n      listen(tile, EventType.CHANGE, this.handleTileChange, this);\n    }\n    return added;\n  };\n\n  /**\n   * @return {number} Number of tiles loading.\n   */\n  TileQueue.prototype.getTilesLoading = function getTilesLoading () {\n    return this.tilesLoading_;\n  };\n\n  /**\n   * @param {import(\"./events/Event.js\").default} event Event.\n   * @protected\n   */\n  TileQueue.prototype.handleTileChange = function handleTileChange (event) {\n    var tile = /** @type {import(\"./Tile.js\").default} */ (event.target);\n    var state = tile.getState();\n    if (state === TileState.LOADED || state === TileState.ERROR ||\n        state === TileState.EMPTY || state === TileState.ABORT) {\n      unlisten(tile, EventType.CHANGE, this.handleTileChange, this);\n      var tileKey = tile.getKey();\n      if (tileKey in this.tilesLoadingKeys_) {\n        delete this.tilesLoadingKeys_[tileKey];\n        --this.tilesLoading_;\n      }\n      this.tileChangeCallback_();\n    }\n  };\n\n  /**\n   * @param {number} maxTotalLoading Maximum number tiles to load simultaneously.\n   * @param {number} maxNewLoads Maximum number of new tiles to load.\n   */\n  TileQueue.prototype.loadMoreTiles = function loadMoreTiles (maxTotalLoading, maxNewLoads) {\n    var newLoads = 0;\n    var abortedTiles = false;\n    var state, tile, tileKey;\n    while (this.tilesLoading_ < maxTotalLoading && newLoads < maxNewLoads &&\n           this.getCount() > 0) {\n      tile = /** @type {import(\"./Tile.js\").default} */ (this.dequeue()[0]);\n      tileKey = tile.getKey();\n      state = tile.getState();\n      if (state === TileState.ABORT) {\n        abortedTiles = true;\n      } else if (state === TileState.IDLE && !(tileKey in this.tilesLoadingKeys_)) {\n        this.tilesLoadingKeys_[tileKey] = true;\n        ++this.tilesLoading_;\n        ++newLoads;\n        tile.load();\n      }\n    }\n    if (newLoads === 0 && abortedTiles) {\n      // Do not stop the render loop when all wanted tiles were aborted due to\n      // a small, saturated tile cache.\n      this.tileChangeCallback_();\n    }\n  };\n\n  return TileQueue;\n}(PriorityQueue));\n\n\nexport default TileQueue;\n\n//# sourceMappingURL=TileQueue.js.map","/**\n * @module ol/PluggableMap\n */\nimport {getUid} from './util.js';\nimport Collection from './Collection.js';\nimport CollectionEventType from './CollectionEventType.js';\nimport MapBrowserEvent from './MapBrowserEvent.js';\nimport MapBrowserEventHandler from './MapBrowserEventHandler.js';\nimport MapBrowserEventType from './MapBrowserEventType.js';\nimport MapEvent from './MapEvent.js';\nimport MapEventType from './MapEventType.js';\nimport MapProperty from './MapProperty.js';\nimport RenderEventType from './render/EventType.js';\nimport BaseObject, {getChangeEventType} from './Object.js';\nimport ObjectEventType from './ObjectEventType.js';\nimport TileQueue from './TileQueue.js';\nimport View from './View.js';\nimport ViewHint from './ViewHint.js';\nimport {assert} from './asserts.js';\nimport {removeNode} from './dom.js';\nimport {listen, unlistenByKey, unlisten} from './events.js';\nimport {stopPropagation} from './events/Event.js';\nimport EventType from './events/EventType.js';\nimport {createEmpty, clone, createOrUpdateEmpty, equals, getForViewAndSize, isEmpty} from './extent.js';\nimport {TRUE} from './functions.js';\nimport {DEVICE_PIXEL_RATIO, TOUCH} from './has.js';\nimport LayerGroup from './layer/Group.js';\nimport {hasArea} from './size.js';\nimport {DROP} from './structs/PriorityQueue.js';\nimport {create as createTransform, apply as applyTransform} from './transform.js';\n\n\n/**\n * State of the current frame. Only `pixelRatio`, `time` and `viewState` should\n * be used in applications.\n * @typedef {Object} FrameState\n * @property {number} pixelRatio The pixel ratio of the frame.\n * @property {number} time The time when rendering of the frame was requested.\n * @property {import(\"./View.js\").State} viewState The state of the current view.\n * @property {boolean} animate\n * @property {import(\"./transform.js\").Transform} coordinateToPixelTransform\n * @property {null|import(\"./extent.js\").Extent} extent\n * @property {import(\"./coordinate.js\").Coordinate} focus\n * @property {number} index\n * @property {Object<string, import(\"./layer/Layer.js\").State>} layerStates\n * @property {Array<import(\"./layer/Layer.js\").State>} layerStatesArray\n * @property {import(\"./transform.js\").Transform} pixelToCoordinateTransform\n * @property {Array<PostRenderFunction>} postRenderFunctions\n * @property {import(\"./size.js\").Size} size\n * @property {!Object<string, boolean>} skippedFeatureUids\n * @property {TileQueue} tileQueue\n * @property {Object<string, Object<string, import(\"./TileRange.js\").default>>} usedTiles\n * @property {Array<number>} viewHints\n * @property {!Object<string, Object<string, boolean>>} wantedTiles\n */\n\n\n/**\n * @typedef {function(PluggableMap, ?FrameState): boolean} PostRenderFunction\n */\n\n\n/**\n * @typedef {Object} AtPixelOptions\n * @property {undefined|function(import(\"./layer/Layer.js\").default): boolean} layerFilter Layer filter\n * function. The filter function will receive one argument, the\n * {@link module:ol/layer/Layer layer-candidate} and it should return a boolean value.\n * Only layers which are visible and for which this function returns `true`\n * will be tested for features. By default, all visible layers will be tested.\n * @property {number} [hitTolerance=0] Hit-detection tolerance in pixels. Pixels\n * inside the radius around the given position will be checked for features. This only\n * works for the canvas renderer and not for WebGL.\n */\n\n\n/**\n * @typedef {Object} MapOptionsInternal\n * @property {Collection<import(\"./control/Control.js\").default>} [controls]\n * @property {Collection<import(\"./interaction/Interaction.js\").default>} [interactions]\n * @property {HTMLElement|Document} keyboardEventTarget\n * @property {Collection<import(\"./Overlay.js\").default>} overlays\n * @property {Object<string, *>} values\n */\n\n\n/**\n * Object literal with config options for the map.\n * @typedef {Object} MapOptions\n * @property {Collection<import(\"./control/Control.js\").default>|Array<import(\"./control/Control.js\").default>} [controls]\n * Controls initially added to the map. If not specified,\n * {@link module:ol/control~defaults} is used.\n * @property {number} [pixelRatio=window.devicePixelRatio] The ratio between\n * physical pixels and device-independent pixels (dips) on the device.\n * @property {Collection<import(\"./interaction/Interaction.js\").default>|Array<import(\"./interaction/Interaction.js\").default>} [interactions]\n * Interactions that are initially added to the map. If not specified,\n * {@link module:ol/interaction~defaults} is used.\n * @property {HTMLElement|Document|string} [keyboardEventTarget] The element to\n * listen to keyboard events on. This determines when the `KeyboardPan` and\n * `KeyboardZoom` interactions trigger. For example, if this option is set to\n * `document` the keyboard interactions will always trigger. If this option is\n * not specified, the element the library listens to keyboard events on is the\n * map target (i.e. the user-provided div for the map). If this is not\n * `document`, the target element needs to be focused for key events to be\n * emitted, requiring that the target element has a `tabindex` attribute.\n * @property {Array<import(\"./layer/Base.js\").default>|Collection<import(\"./layer/Base.js\").default>|LayerGroup} [layers]\n * Layers. If this is not defined, a map with no layers will be rendered. Note\n * that layers are rendered in the order supplied, so if you want, for example,\n * a vector layer to appear on top of a tile layer, it must come after the tile\n * layer.\n * @property {number} [maxTilesLoading=16] Maximum number tiles to load\n * simultaneously.\n * @property {boolean} [loadTilesWhileAnimating=false] When set to `true`, tiles\n * will be loaded during animations. This may improve the user experience, but\n * can also make animations stutter on devices with slow memory.\n * @property {boolean} [loadTilesWhileInteracting=false] When set to `true`,\n * tiles will be loaded while interacting with the map. This may improve the\n * user experience, but can also make map panning and zooming choppy on devices\n * with slow memory.\n * @property {number} [moveTolerance=1] The minimum distance in pixels the\n * cursor must move to be detected as a map move event instead of a click.\n * Increasing this value can make it easier to click on the map.\n * @property {Collection<import(\"./Overlay.js\").default>|Array<import(\"./Overlay.js\").default>} [overlays]\n * Overlays initially added to the map. By default, no overlays are added.\n * @property {HTMLElement|string} [target] The container for the map, either the\n * element itself or the `id` of the element. If not specified at construction\n * time, {@link module:ol/Map~Map#setTarget} must be called for the map to be\n * rendered.\n * @property {View} [view] The map's view.  No layer sources will be\n * fetched unless this is specified at construction time or through\n * {@link module:ol/Map~Map#setView}.\n */\n\n\n/**\n * @fires import(\"./MapBrowserEvent.js\").MapBrowserEvent\n * @fires import(\"./MapEvent.js\").MapEvent\n * @fires module:ol/render/Event~RenderEvent#postcompose\n * @fires module:ol/render/Event~RenderEvent#precompose\n * @fires module:ol/render/Event~RenderEvent#rendercomplete\n * @api\n */\nvar PluggableMap = /*@__PURE__*/(function (BaseObject) {\n  function PluggableMap(options) {\n\n    BaseObject.call(this);\n\n    var optionsInternal = createOptionsInternal(options);\n\n    /**\n     * @type {number}\n     * @private\n     */\n    this.maxTilesLoading_ = options.maxTilesLoading !== undefined ? options.maxTilesLoading : 16;\n\n    /**\n     * @type {boolean}\n     * @private\n     */\n    this.loadTilesWhileAnimating_ =\n        options.loadTilesWhileAnimating !== undefined ?\n          options.loadTilesWhileAnimating : false;\n\n    /**\n     * @type {boolean}\n     * @private\n     */\n    this.loadTilesWhileInteracting_ =\n        options.loadTilesWhileInteracting !== undefined ?\n          options.loadTilesWhileInteracting : false;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.pixelRatio_ = options.pixelRatio !== undefined ?\n      options.pixelRatio : DEVICE_PIXEL_RATIO;\n\n    /**\n     * @private\n     * @type {number|undefined}\n     */\n    this.animationDelayKey_;\n\n    /**\n     * @private\n     */\n    this.animationDelay_ = function() {\n      this.animationDelayKey_ = undefined;\n      this.renderFrame_.call(this, Date.now());\n    }.bind(this);\n\n    /**\n     * @private\n     * @type {import(\"./transform.js\").Transform}\n     */\n    this.coordinateToPixelTransform_ = createTransform();\n\n    /**\n     * @private\n     * @type {import(\"./transform.js\").Transform}\n     */\n    this.pixelToCoordinateTransform_ = createTransform();\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.frameIndex_ = 0;\n\n    /**\n     * @private\n     * @type {?FrameState}\n     */\n    this.frameState_ = null;\n\n    /**\n     * The extent at the previous 'moveend' event.\n     * @private\n     * @type {import(\"./extent.js\").Extent}\n     */\n    this.previousExtent_ = null;\n\n    /**\n     * @private\n     * @type {?import(\"./events.js\").EventsKey}\n     */\n    this.viewPropertyListenerKey_ = null;\n\n    /**\n     * @private\n     * @type {?import(\"./events.js\").EventsKey}\n     */\n    this.viewChangeListenerKey_ = null;\n\n    /**\n     * @private\n     * @type {Array<import(\"./events.js\").EventsKey>}\n     */\n    this.layerGroupPropertyListenerKeys_ = null;\n\n    /**\n     * @private\n     * @type {!HTMLElement}\n     */\n    this.viewport_ = document.createElement('div');\n    this.viewport_.className = 'ol-viewport' + (TOUCH ? ' ol-touch' : '');\n    this.viewport_.style.position = 'relative';\n    this.viewport_.style.overflow = 'hidden';\n    this.viewport_.style.width = '100%';\n    this.viewport_.style.height = '100%';\n    // prevent page zoom on IE >= 10 browsers\n    this.viewport_.style.msTouchAction = 'none';\n    this.viewport_.style.touchAction = 'none';\n\n    /**\n     * @private\n     * @type {!HTMLElement}\n     */\n    this.overlayContainer_ = document.createElement('div');\n    this.overlayContainer_.className = 'ol-overlaycontainer';\n    this.viewport_.appendChild(this.overlayContainer_);\n\n    /**\n     * @private\n     * @type {!HTMLElement}\n     */\n    this.overlayContainerStopEvent_ = document.createElement('div');\n    this.overlayContainerStopEvent_.className = 'ol-overlaycontainer-stopevent';\n    var overlayEvents = [\n      EventType.CLICK,\n      EventType.DBLCLICK,\n      EventType.MOUSEDOWN,\n      EventType.TOUCHSTART,\n      EventType.MSPOINTERDOWN,\n      MapBrowserEventType.POINTERDOWN,\n      EventType.MOUSEWHEEL,\n      EventType.WHEEL\n    ];\n    for (var i = 0, ii = overlayEvents.length; i < ii; ++i) {\n      listen(this.overlayContainerStopEvent_, overlayEvents[i], stopPropagation);\n    }\n    this.viewport_.appendChild(this.overlayContainerStopEvent_);\n\n    /**\n     * @private\n     * @type {MapBrowserEventHandler}\n     */\n    this.mapBrowserEventHandler_ = new MapBrowserEventHandler(this, options.moveTolerance);\n    for (var key in MapBrowserEventType) {\n      listen(this.mapBrowserEventHandler_, MapBrowserEventType[key],\n        this.handleMapBrowserEvent, this);\n    }\n\n    /**\n     * @private\n     * @type {HTMLElement|Document}\n     */\n    this.keyboardEventTarget_ = optionsInternal.keyboardEventTarget;\n\n    /**\n     * @private\n     * @type {Array<import(\"./events.js\").EventsKey>}\n     */\n    this.keyHandlerKeys_ = null;\n\n    listen(this.viewport_, EventType.CONTEXTMENU, this.handleBrowserEvent, this);\n    listen(this.viewport_, EventType.WHEEL, this.handleBrowserEvent, this);\n    listen(this.viewport_, EventType.MOUSEWHEEL, this.handleBrowserEvent, this);\n\n    /**\n     * @type {Collection<import(\"./control/Control.js\").default>}\n     * @protected\n     */\n    this.controls = optionsInternal.controls || new Collection();\n\n    /**\n     * @type {Collection<import(\"./interaction/Interaction.js\").default>}\n     * @protected\n     */\n    this.interactions = optionsInternal.interactions || new Collection();\n\n    /**\n     * @type {Collection<import(\"./Overlay.js\").default>}\n     * @private\n     */\n    this.overlays_ = optionsInternal.overlays;\n\n    /**\n     * A lookup of overlays by id.\n     * @private\n     * @type {Object<string, import(\"./Overlay.js\").default>}\n     */\n    this.overlayIdIndex_ = {};\n\n    /**\n     * @type {import(\"./renderer/Map.js\").default}\n     * @private\n     */\n    this.renderer_ = this.createRenderer();\n\n    /**\n     * @type {function(Event)|undefined}\n     * @private\n     */\n    this.handleResize_;\n\n    /**\n     * @private\n     * @type {import(\"./coordinate.js\").Coordinate}\n     */\n    this.focus_ = null;\n\n    /**\n     * @private\n     * @type {!Array<PostRenderFunction>}\n     */\n    this.postRenderFunctions_ = [];\n\n    /**\n     * @private\n     * @type {TileQueue}\n     */\n    this.tileQueue_ = new TileQueue(\n      this.getTilePriority.bind(this),\n      this.handleTileChange_.bind(this));\n\n    /**\n     * Uids of features to skip at rendering time.\n     * @type {Object<string, boolean>}\n     * @private\n     */\n    this.skippedFeatureUids_ = {};\n\n    listen(\n      this, getChangeEventType(MapProperty.LAYERGROUP),\n      this.handleLayerGroupChanged_, this);\n    listen(this, getChangeEventType(MapProperty.VIEW),\n      this.handleViewChanged_, this);\n    listen(this, getChangeEventType(MapProperty.SIZE),\n      this.handleSizeChanged_, this);\n    listen(this, getChangeEventType(MapProperty.TARGET),\n      this.handleTargetChanged_, this);\n\n    // setProperties will trigger the rendering of the map if the map\n    // is \"defined\" already.\n    this.setProperties(optionsInternal.values);\n\n    this.controls.forEach(\n      /**\n       * @param {import(\"./control/Control.js\").default} control Control.\n       * @this {PluggableMap}\n       */\n      (function(control) {\n        control.setMap(this);\n      }).bind(this));\n\n    listen(this.controls, CollectionEventType.ADD,\n      /**\n       * @param {import(\"./Collection.js\").CollectionEvent} event CollectionEvent.\n       */\n      function(event) {\n        event.element.setMap(this);\n      }, this);\n\n    listen(this.controls, CollectionEventType.REMOVE,\n      /**\n       * @param {import(\"./Collection.js\").CollectionEvent} event CollectionEvent.\n       */\n      function(event) {\n        event.element.setMap(null);\n      }, this);\n\n    this.interactions.forEach(\n      /**\n       * @param {import(\"./interaction/Interaction.js\").default} interaction Interaction.\n       * @this {PluggableMap}\n       */\n      (function(interaction) {\n        interaction.setMap(this);\n      }).bind(this));\n\n    listen(this.interactions, CollectionEventType.ADD,\n      /**\n       * @param {import(\"./Collection.js\").CollectionEvent} event CollectionEvent.\n       */\n      function(event) {\n        event.element.setMap(this);\n      }, this);\n\n    listen(this.interactions, CollectionEventType.REMOVE,\n      /**\n       * @param {import(\"./Collection.js\").CollectionEvent} event CollectionEvent.\n       */\n      function(event) {\n        event.element.setMap(null);\n      }, this);\n\n    this.overlays_.forEach(this.addOverlayInternal_.bind(this));\n\n    listen(this.overlays_, CollectionEventType.ADD,\n      /**\n       * @param {import(\"./Collection.js\").CollectionEvent} event CollectionEvent.\n       */\n      function(event) {\n        this.addOverlayInternal_(/** @type {import(\"./Overlay.js\").default} */ (event.element));\n      }, this);\n\n    listen(this.overlays_, CollectionEventType.REMOVE,\n      /**\n       * @param {import(\"./Collection.js\").CollectionEvent} event CollectionEvent.\n       */\n      function(event) {\n        var overlay = /** @type {import(\"./Overlay.js\").default} */ (event.element);\n        var id = overlay.getId();\n        if (id !== undefined) {\n          delete this.overlayIdIndex_[id.toString()];\n        }\n        event.element.setMap(null);\n      }, this);\n\n  }\n\n  if ( BaseObject ) PluggableMap.__proto__ = BaseObject;\n  PluggableMap.prototype = Object.create( BaseObject && BaseObject.prototype );\n  PluggableMap.prototype.constructor = PluggableMap;\n\n  /**\n   * @abstract\n   * @return {import(\"./renderer/Map.js\").default} The map renderer\n   */\n  PluggableMap.prototype.createRenderer = function createRenderer () {\n    throw new Error('Use a map type that has a createRenderer method');\n  };\n\n  /**\n   * Add the given control to the map.\n   * @param {import(\"./control/Control.js\").default} control Control.\n   * @api\n   */\n  PluggableMap.prototype.addControl = function addControl (control) {\n    this.getControls().push(control);\n  };\n\n  /**\n   * Add the given interaction to the map.\n   * @param {import(\"./interaction/Interaction.js\").default} interaction Interaction to add.\n   * @api\n   */\n  PluggableMap.prototype.addInteraction = function addInteraction (interaction) {\n    this.getInteractions().push(interaction);\n  };\n\n  /**\n   * Adds the given layer to the top of this map. If you want to add a layer\n   * elsewhere in the stack, use `getLayers()` and the methods available on\n   * {@link module:ol/Collection~Collection}.\n   * @param {import(\"./layer/Base.js\").default} layer Layer.\n   * @api\n   */\n  PluggableMap.prototype.addLayer = function addLayer (layer) {\n    var layers = this.getLayerGroup().getLayers();\n    layers.push(layer);\n  };\n\n  /**\n   * Add the given overlay to the map.\n   * @param {import(\"./Overlay.js\").default} overlay Overlay.\n   * @api\n   */\n  PluggableMap.prototype.addOverlay = function addOverlay (overlay) {\n    this.getOverlays().push(overlay);\n  };\n\n  /**\n   * This deals with map's overlay collection changes.\n   * @param {import(\"./Overlay.js\").default} overlay Overlay.\n   * @private\n   */\n  PluggableMap.prototype.addOverlayInternal_ = function addOverlayInternal_ (overlay) {\n    var id = overlay.getId();\n    if (id !== undefined) {\n      this.overlayIdIndex_[id.toString()] = overlay;\n    }\n    overlay.setMap(this);\n  };\n\n  /**\n   *\n   * @inheritDoc\n   */\n  PluggableMap.prototype.disposeInternal = function disposeInternal () {\n    this.mapBrowserEventHandler_.dispose();\n    unlisten(this.viewport_, EventType.CONTEXTMENU, this.handleBrowserEvent, this);\n    unlisten(this.viewport_, EventType.WHEEL, this.handleBrowserEvent, this);\n    unlisten(this.viewport_, EventType.MOUSEWHEEL, this.handleBrowserEvent, this);\n    if (this.handleResize_ !== undefined) {\n      removeEventListener(EventType.RESIZE, this.handleResize_, false);\n      this.handleResize_ = undefined;\n    }\n    if (this.animationDelayKey_) {\n      cancelAnimationFrame(this.animationDelayKey_);\n      this.animationDelayKey_ = undefined;\n    }\n    this.setTarget(null);\n    BaseObject.prototype.disposeInternal.call(this);\n  };\n\n  /**\n   * Detect features that intersect a pixel on the viewport, and execute a\n   * callback with each intersecting feature. Layers included in the detection can\n   * be configured through the `layerFilter` option in `opt_options`.\n   * @param {import(\"./pixel.js\").Pixel} pixel Pixel.\n   * @param {function(this: S, import(\"./Feature.js\").FeatureLike,\n   *     import(\"./layer/Layer.js\").default): T} callback Feature callback. The callback will be\n   *     called with two arguments. The first argument is one\n   *     {@link module:ol/Feature feature} or\n   *     {@link module:ol/render/Feature render feature} at the pixel, the second is\n   *     the {@link module:ol/layer/Layer layer} of the feature and will be null for\n   *     unmanaged layers. To stop detection, callback functions can return a\n   *     truthy value.\n   * @param {AtPixelOptions=} opt_options Optional options.\n   * @return {T|undefined} Callback result, i.e. the return value of last\n   * callback execution, or the first truthy callback return value.\n   * @template S,T\n   * @api\n   */\n  PluggableMap.prototype.forEachFeatureAtPixel = function forEachFeatureAtPixel (pixel, callback, opt_options) {\n    if (!this.frameState_) {\n      return;\n    }\n    var coordinate = this.getCoordinateFromPixel(pixel);\n    opt_options = opt_options !== undefined ? opt_options :\n      /** @type {AtPixelOptions} */ ({});\n    var hitTolerance = opt_options.hitTolerance !== undefined ?\n      opt_options.hitTolerance * this.frameState_.pixelRatio : 0;\n    var layerFilter = opt_options.layerFilter !== undefined ?\n      opt_options.layerFilter : TRUE;\n    return this.renderer_.forEachFeatureAtCoordinate(\n      coordinate, this.frameState_, hitTolerance, callback, null,\n      layerFilter, null);\n  };\n\n  /**\n   * Get all features that intersect a pixel on the viewport.\n   * @param {import(\"./pixel.js\").Pixel} pixel Pixel.\n   * @param {AtPixelOptions=} opt_options Optional options.\n   * @return {Array<import(\"./Feature.js\").FeatureLike>} The detected features or\n   * `null` if none were found.\n   * @api\n   */\n  PluggableMap.prototype.getFeaturesAtPixel = function getFeaturesAtPixel (pixel, opt_options) {\n    var features = null;\n    this.forEachFeatureAtPixel(pixel, function(feature) {\n      if (!features) {\n        features = [];\n      }\n      features.push(feature);\n    }, opt_options);\n    return features;\n  };\n\n  /**\n   * Detect layers that have a color value at a pixel on the viewport, and\n   * execute a callback with each matching layer. Layers included in the\n   * detection can be configured through `opt_layerFilter`.\n   * @param {import(\"./pixel.js\").Pixel} pixel Pixel.\n   * @param {function(this: S, import(\"./layer/Layer.js\").default, (Uint8ClampedArray|Uint8Array)): T} callback\n   *     Layer callback. This callback will receive two arguments: first is the\n   *     {@link module:ol/layer/Layer layer}, second argument is an array representing\n   *     [R, G, B, A] pixel values (0 - 255) and will be `null` for layer types\n   *     that do not currently support this argument. To stop detection, callback\n   *     functions can return a truthy value.\n   * @param {AtPixelOptions=} opt_options Configuration options.\n   * @return {T|undefined} Callback result, i.e. the return value of last\n   * callback execution, or the first truthy callback return value.\n   * @template S,T\n   * @api\n   */\n  PluggableMap.prototype.forEachLayerAtPixel = function forEachLayerAtPixel (pixel, callback, opt_options) {\n    if (!this.frameState_) {\n      return;\n    }\n    var options = opt_options || /** @type {AtPixelOptions} */ ({});\n    var hitTolerance = options.hitTolerance !== undefined ?\n      opt_options.hitTolerance * this.frameState_.pixelRatio : 0;\n    var layerFilter = options.layerFilter || TRUE;\n    return this.renderer_.forEachLayerAtPixel(\n      pixel, this.frameState_, hitTolerance, callback, null, layerFilter, null);\n  };\n\n  /**\n   * Detect if features intersect a pixel on the viewport. Layers included in the\n   * detection can be configured through `opt_layerFilter`.\n   * @param {import(\"./pixel.js\").Pixel} pixel Pixel.\n   * @param {AtPixelOptions=} opt_options Optional options.\n   * @return {boolean} Is there a feature at the given pixel?\n   * @template U\n   * @api\n   */\n  PluggableMap.prototype.hasFeatureAtPixel = function hasFeatureAtPixel (pixel, opt_options) {\n    if (!this.frameState_) {\n      return false;\n    }\n    var coordinate = this.getCoordinateFromPixel(pixel);\n    opt_options = opt_options !== undefined ? opt_options :\n      /** @type {AtPixelOptions} */ ({});\n    var layerFilter = opt_options.layerFilter !== undefined ? opt_options.layerFilter : TRUE;\n    var hitTolerance = opt_options.hitTolerance !== undefined ?\n      opt_options.hitTolerance * this.frameState_.pixelRatio : 0;\n    return this.renderer_.hasFeatureAtCoordinate(\n      coordinate, this.frameState_, hitTolerance, layerFilter, null);\n  };\n\n  /**\n   * Returns the coordinate in view projection for a browser event.\n   * @param {Event} event Event.\n   * @return {import(\"./coordinate.js\").Coordinate} Coordinate.\n   * @api\n   */\n  PluggableMap.prototype.getEventCoordinate = function getEventCoordinate (event) {\n    return this.getCoordinateFromPixel(this.getEventPixel(event));\n  };\n\n  /**\n   * Returns the map pixel position for a browser event relative to the viewport.\n   * @param {Event|TouchEvent} event Event.\n   * @return {import(\"./pixel.js\").Pixel} Pixel.\n   * @api\n   */\n  PluggableMap.prototype.getEventPixel = function getEventPixel (event) {\n    var viewportPosition = this.viewport_.getBoundingClientRect();\n    var eventPosition = 'changedTouches' in event ?\n      /** @type {TouchEvent} */ (event).changedTouches[0] :\n      /** @type {MouseEvent} */ (event);\n\n    return [\n      eventPosition.clientX - viewportPosition.left,\n      eventPosition.clientY - viewportPosition.top\n    ];\n  };\n\n  /**\n   * Get the target in which this map is rendered.\n   * Note that this returns what is entered as an option or in setTarget:\n   * if that was an element, it returns an element; if a string, it returns that.\n   * @return {HTMLElement|string|undefined} The Element or id of the Element that the\n   *     map is rendered in.\n   * @observable\n   * @api\n   */\n  PluggableMap.prototype.getTarget = function getTarget () {\n    return /** @type {HTMLElement|string|undefined} */ (this.get(MapProperty.TARGET));\n  };\n\n  /**\n   * Get the DOM element into which this map is rendered. In contrast to\n   * `getTarget` this method always return an `Element`, or `null` if the\n   * map has no target.\n   * @return {HTMLElement} The element that the map is rendered in.\n   * @api\n   */\n  PluggableMap.prototype.getTargetElement = function getTargetElement () {\n    var target = this.getTarget();\n    if (target !== undefined) {\n      return typeof target === 'string' ? document.getElementById(target) : target;\n    } else {\n      return null;\n    }\n  };\n\n  /**\n   * Get the coordinate for a given pixel.  This returns a coordinate in the\n   * map view projection.\n   * @param {import(\"./pixel.js\").Pixel} pixel Pixel position in the map viewport.\n   * @return {import(\"./coordinate.js\").Coordinate} The coordinate for the pixel position.\n   * @api\n   */\n  PluggableMap.prototype.getCoordinateFromPixel = function getCoordinateFromPixel (pixel) {\n    var frameState = this.frameState_;\n    if (!frameState) {\n      return null;\n    } else {\n      return applyTransform(frameState.pixelToCoordinateTransform, pixel.slice());\n    }\n  };\n\n  /**\n   * Get the map controls. Modifying this collection changes the controls\n   * associated with the map.\n   * @return {Collection<import(\"./control/Control.js\").default>} Controls.\n   * @api\n   */\n  PluggableMap.prototype.getControls = function getControls () {\n    return this.controls;\n  };\n\n  /**\n   * Get the map overlays. Modifying this collection changes the overlays\n   * associated with the map.\n   * @return {Collection<import(\"./Overlay.js\").default>} Overlays.\n   * @api\n   */\n  PluggableMap.prototype.getOverlays = function getOverlays () {\n    return this.overlays_;\n  };\n\n  /**\n   * Get an overlay by its identifier (the value returned by overlay.getId()).\n   * Note that the index treats string and numeric identifiers as the same. So\n   * `map.getOverlayById(2)` will return an overlay with id `'2'` or `2`.\n   * @param {string|number} id Overlay identifier.\n   * @return {import(\"./Overlay.js\").default} Overlay.\n   * @api\n   */\n  PluggableMap.prototype.getOverlayById = function getOverlayById (id) {\n    var overlay = this.overlayIdIndex_[id.toString()];\n    return overlay !== undefined ? overlay : null;\n  };\n\n  /**\n   * Get the map interactions. Modifying this collection changes the interactions\n   * associated with the map.\n   *\n   * Interactions are used for e.g. pan, zoom and rotate.\n   * @return {Collection<import(\"./interaction/Interaction.js\").default>} Interactions.\n   * @api\n   */\n  PluggableMap.prototype.getInteractions = function getInteractions () {\n    return this.interactions;\n  };\n\n  /**\n   * Get the layergroup associated with this map.\n   * @return {LayerGroup} A layer group containing the layers in this map.\n   * @observable\n   * @api\n   */\n  PluggableMap.prototype.getLayerGroup = function getLayerGroup () {\n    return (\n      /** @type {LayerGroup} */ (this.get(MapProperty.LAYERGROUP))\n    );\n  };\n\n  /**\n   * Get the collection of layers associated with this map.\n   * @return {!Collection<import(\"./layer/Base.js\").default>} Layers.\n   * @api\n   */\n  PluggableMap.prototype.getLayers = function getLayers () {\n    var layers = this.getLayerGroup().getLayers();\n    return layers;\n  };\n\n  /**\n   * Get the pixel for a coordinate.  This takes a coordinate in the map view\n   * projection and returns the corresponding pixel.\n   * @param {import(\"./coordinate.js\").Coordinate} coordinate A map coordinate.\n   * @return {import(\"./pixel.js\").Pixel} A pixel position in the map viewport.\n   * @api\n   */\n  PluggableMap.prototype.getPixelFromCoordinate = function getPixelFromCoordinate (coordinate) {\n    var frameState = this.frameState_;\n    if (!frameState) {\n      return null;\n    } else {\n      return applyTransform(frameState.coordinateToPixelTransform, coordinate.slice(0, 2));\n    }\n  };\n\n  /**\n   * Get the map renderer.\n   * @return {import(\"./renderer/Map.js\").default} Renderer\n   */\n  PluggableMap.prototype.getRenderer = function getRenderer () {\n    return this.renderer_;\n  };\n\n  /**\n   * Get the size of this map.\n   * @return {import(\"./size.js\").Size|undefined} The size in pixels of the map in the DOM.\n   * @observable\n   * @api\n   */\n  PluggableMap.prototype.getSize = function getSize () {\n    return (\n      /** @type {import(\"./size.js\").Size|undefined} */ (this.get(MapProperty.SIZE))\n    );\n  };\n\n  /**\n   * Get the view associated with this map. A view manages properties such as\n   * center and resolution.\n   * @return {View} The view that controls this map.\n   * @observable\n   * @api\n   */\n  PluggableMap.prototype.getView = function getView () {\n    return (\n      /** @type {View} */ (this.get(MapProperty.VIEW))\n    );\n  };\n\n  /**\n   * Get the element that serves as the map viewport.\n   * @return {HTMLElement} Viewport.\n   * @api\n   */\n  PluggableMap.prototype.getViewport = function getViewport () {\n    return this.viewport_;\n  };\n\n  /**\n   * Get the element that serves as the container for overlays.  Elements added to\n   * this container will let mousedown and touchstart events through to the map,\n   * so clicks and gestures on an overlay will trigger {@link module:ol/MapBrowserEvent~MapBrowserEvent}\n   * events.\n   * @return {!HTMLElement} The map's overlay container.\n   */\n  PluggableMap.prototype.getOverlayContainer = function getOverlayContainer () {\n    return this.overlayContainer_;\n  };\n\n  /**\n   * Get the element that serves as a container for overlays that don't allow\n   * event propagation. Elements added to this container won't let mousedown and\n   * touchstart events through to the map, so clicks and gestures on an overlay\n   * don't trigger any {@link module:ol/MapBrowserEvent~MapBrowserEvent}.\n   * @return {!HTMLElement} The map's overlay container that stops events.\n   */\n  PluggableMap.prototype.getOverlayContainerStopEvent = function getOverlayContainerStopEvent () {\n    return this.overlayContainerStopEvent_;\n  };\n\n  /**\n   * @param {import(\"./Tile.js\").default} tile Tile.\n   * @param {string} tileSourceKey Tile source key.\n   * @param {import(\"./coordinate.js\").Coordinate} tileCenter Tile center.\n   * @param {number} tileResolution Tile resolution.\n   * @return {number} Tile priority.\n   */\n  PluggableMap.prototype.getTilePriority = function getTilePriority (tile, tileSourceKey, tileCenter, tileResolution) {\n    // Filter out tiles at higher zoom levels than the current zoom level, or that\n    // are outside the visible extent.\n    var frameState = this.frameState_;\n    if (!frameState || !(tileSourceKey in frameState.wantedTiles)) {\n      return DROP;\n    }\n    if (!frameState.wantedTiles[tileSourceKey][tile.getKey()]) {\n      return DROP;\n    }\n    // Prioritize the highest zoom level tiles closest to the focus.\n    // Tiles at higher zoom levels are prioritized using Math.log(tileResolution).\n    // Within a zoom level, tiles are prioritized by the distance in pixels\n    // between the center of the tile and the focus.  The factor of 65536 means\n    // that the prioritization should behave as desired for tiles up to\n    // 65536 * Math.log(2) = 45426 pixels from the focus.\n    var deltaX = tileCenter[0] - frameState.focus[0];\n    var deltaY = tileCenter[1] - frameState.focus[1];\n    return 65536 * Math.log(tileResolution) +\n        Math.sqrt(deltaX * deltaX + deltaY * deltaY) / tileResolution;\n  };\n\n  /**\n   * @param {Event} browserEvent Browser event.\n   * @param {string=} opt_type Type.\n   */\n  PluggableMap.prototype.handleBrowserEvent = function handleBrowserEvent (browserEvent, opt_type) {\n    var type = opt_type || browserEvent.type;\n    var mapBrowserEvent = new MapBrowserEvent(type, this, browserEvent);\n    this.handleMapBrowserEvent(mapBrowserEvent);\n  };\n\n  /**\n   * @param {MapBrowserEvent} mapBrowserEvent The event to handle.\n   */\n  PluggableMap.prototype.handleMapBrowserEvent = function handleMapBrowserEvent (mapBrowserEvent) {\n    if (!this.frameState_) {\n      // With no view defined, we cannot translate pixels into geographical\n      // coordinates so interactions cannot be used.\n      return;\n    }\n    this.focus_ = mapBrowserEvent.coordinate;\n    mapBrowserEvent.frameState = this.frameState_;\n    var interactionsArray = this.getInteractions().getArray();\n    if (this.dispatchEvent(mapBrowserEvent) !== false) {\n      for (var i = interactionsArray.length - 1; i >= 0; i--) {\n        var interaction = interactionsArray[i];\n        if (!interaction.getActive()) {\n          continue;\n        }\n        var cont = interaction.handleEvent(mapBrowserEvent);\n        if (!cont) {\n          break;\n        }\n      }\n    }\n  };\n\n  /**\n   * @protected\n   */\n  PluggableMap.prototype.handlePostRender = function handlePostRender () {\n\n    var frameState = this.frameState_;\n\n    // Manage the tile queue\n    // Image loads are expensive and a limited resource, so try to use them\n    // efficiently:\n    // * When the view is static we allow a large number of parallel tile loads\n    //   to complete the frame as quickly as possible.\n    // * When animating or interacting, image loads can cause janks, so we reduce\n    //   the maximum number of loads per frame and limit the number of parallel\n    //   tile loads to remain reactive to view changes and to reduce the chance of\n    //   loading tiles that will quickly disappear from view.\n    var tileQueue = this.tileQueue_;\n    if (!tileQueue.isEmpty()) {\n      var maxTotalLoading = this.maxTilesLoading_;\n      var maxNewLoads = maxTotalLoading;\n      if (frameState) {\n        var hints = frameState.viewHints;\n        if (hints[ViewHint.ANIMATING]) {\n          maxTotalLoading = this.loadTilesWhileAnimating_ ? 8 : 0;\n          maxNewLoads = 2;\n        }\n        if (hints[ViewHint.INTERACTING]) {\n          maxTotalLoading = this.loadTilesWhileInteracting_ ? 8 : 0;\n          maxNewLoads = 2;\n        }\n      }\n      if (tileQueue.getTilesLoading() < maxTotalLoading) {\n        tileQueue.reprioritize(); // FIXME only call if view has changed\n        tileQueue.loadMoreTiles(maxTotalLoading, maxNewLoads);\n      }\n    }\n    if (frameState && this.hasListener(RenderEventType.RENDERCOMPLETE) && !frameState.animate &&\n        !this.tileQueue_.getTilesLoading() && !getLoading(this.getLayers().getArray())) {\n      this.renderer_.dispatchRenderEvent(RenderEventType.RENDERCOMPLETE, frameState);\n    }\n\n    var postRenderFunctions = this.postRenderFunctions_;\n    for (var i = 0, ii = postRenderFunctions.length; i < ii; ++i) {\n      postRenderFunctions[i](this, frameState);\n    }\n    postRenderFunctions.length = 0;\n  };\n\n  /**\n   * @private\n   */\n  PluggableMap.prototype.handleSizeChanged_ = function handleSizeChanged_ () {\n    this.render();\n  };\n\n  /**\n   * @private\n   */\n  PluggableMap.prototype.handleTargetChanged_ = function handleTargetChanged_ () {\n    // target may be undefined, null, a string or an Element.\n    // If it's a string we convert it to an Element before proceeding.\n    // If it's not now an Element we remove the viewport from the DOM.\n    // If it's an Element we append the viewport element to it.\n\n    var targetElement;\n    if (this.getTarget()) {\n      targetElement = this.getTargetElement();\n    }\n\n    if (this.keyHandlerKeys_) {\n      for (var i = 0, ii = this.keyHandlerKeys_.length; i < ii; ++i) {\n        unlistenByKey(this.keyHandlerKeys_[i]);\n      }\n      this.keyHandlerKeys_ = null;\n    }\n\n    if (!targetElement) {\n      this.renderer_.removeLayerRenderers();\n      removeNode(this.viewport_);\n      if (this.handleResize_ !== undefined) {\n        removeEventListener(EventType.RESIZE, this.handleResize_, false);\n        this.handleResize_ = undefined;\n      }\n    } else {\n      targetElement.appendChild(this.viewport_);\n\n      var keyboardEventTarget = !this.keyboardEventTarget_ ?\n        targetElement : this.keyboardEventTarget_;\n      this.keyHandlerKeys_ = [\n        listen(keyboardEventTarget, EventType.KEYDOWN, this.handleBrowserEvent, this),\n        listen(keyboardEventTarget, EventType.KEYPRESS, this.handleBrowserEvent, this)\n      ];\n\n      if (!this.handleResize_) {\n        this.handleResize_ = this.updateSize.bind(this);\n        window.addEventListener(EventType.RESIZE, this.handleResize_, false);\n      }\n    }\n\n    this.updateSize();\n    // updateSize calls setSize, so no need to call this.render\n    // ourselves here.\n  };\n\n  /**\n   * @private\n   */\n  PluggableMap.prototype.handleTileChange_ = function handleTileChange_ () {\n    this.render();\n  };\n\n  /**\n   * @private\n   */\n  PluggableMap.prototype.handleViewPropertyChanged_ = function handleViewPropertyChanged_ () {\n    this.render();\n  };\n\n  /**\n   * @private\n   */\n  PluggableMap.prototype.handleViewChanged_ = function handleViewChanged_ () {\n    if (this.viewPropertyListenerKey_) {\n      unlistenByKey(this.viewPropertyListenerKey_);\n      this.viewPropertyListenerKey_ = null;\n    }\n    if (this.viewChangeListenerKey_) {\n      unlistenByKey(this.viewChangeListenerKey_);\n      this.viewChangeListenerKey_ = null;\n    }\n    var view = this.getView();\n    if (view) {\n      this.viewport_.setAttribute('data-view', getUid(view));\n      this.viewPropertyListenerKey_ = listen(\n        view, ObjectEventType.PROPERTYCHANGE,\n        this.handleViewPropertyChanged_, this);\n      this.viewChangeListenerKey_ = listen(\n        view, EventType.CHANGE,\n        this.handleViewPropertyChanged_, this);\n    }\n    this.render();\n  };\n\n  /**\n   * @private\n   */\n  PluggableMap.prototype.handleLayerGroupChanged_ = function handleLayerGroupChanged_ () {\n    if (this.layerGroupPropertyListenerKeys_) {\n      this.layerGroupPropertyListenerKeys_.forEach(unlistenByKey);\n      this.layerGroupPropertyListenerKeys_ = null;\n    }\n    var layerGroup = this.getLayerGroup();\n    if (layerGroup) {\n      this.layerGroupPropertyListenerKeys_ = [\n        listen(\n          layerGroup, ObjectEventType.PROPERTYCHANGE,\n          this.render, this),\n        listen(\n          layerGroup, EventType.CHANGE,\n          this.render, this)\n      ];\n    }\n    this.render();\n  };\n\n  /**\n   * @return {boolean} Is rendered.\n   */\n  PluggableMap.prototype.isRendered = function isRendered () {\n    return !!this.frameState_;\n  };\n\n  /**\n   * Requests an immediate render in a synchronous manner.\n   * @api\n   */\n  PluggableMap.prototype.renderSync = function renderSync () {\n    if (this.animationDelayKey_) {\n      cancelAnimationFrame(this.animationDelayKey_);\n    }\n    this.animationDelay_();\n  };\n\n  /**\n   * Request a map rendering (at the next animation frame).\n   * @api\n   */\n  PluggableMap.prototype.render = function render () {\n    if (this.animationDelayKey_ === undefined) {\n      this.animationDelayKey_ = requestAnimationFrame(this.animationDelay_);\n    }\n  };\n\n  /**\n   * Remove the given control from the map.\n   * @param {import(\"./control/Control.js\").default} control Control.\n   * @return {import(\"./control/Control.js\").default|undefined} The removed control (or undefined\n   *     if the control was not found).\n   * @api\n   */\n  PluggableMap.prototype.removeControl = function removeControl (control) {\n    return this.getControls().remove(control);\n  };\n\n  /**\n   * Remove the given interaction from the map.\n   * @param {import(\"./interaction/Interaction.js\").default} interaction Interaction to remove.\n   * @return {import(\"./interaction/Interaction.js\").default|undefined} The removed interaction (or\n   *     undefined if the interaction was not found).\n   * @api\n   */\n  PluggableMap.prototype.removeInteraction = function removeInteraction (interaction) {\n    return this.getInteractions().remove(interaction);\n  };\n\n  /**\n   * Removes the given layer from the map.\n   * @param {import(\"./layer/Base.js\").default} layer Layer.\n   * @return {import(\"./layer/Base.js\").default|undefined} The removed layer (or undefined if the\n   *     layer was not found).\n   * @api\n   */\n  PluggableMap.prototype.removeLayer = function removeLayer (layer) {\n    var layers = this.getLayerGroup().getLayers();\n    return layers.remove(layer);\n  };\n\n  /**\n   * Remove the given overlay from the map.\n   * @param {import(\"./Overlay.js\").default} overlay Overlay.\n   * @return {import(\"./Overlay.js\").default|undefined} The removed overlay (or undefined\n   *     if the overlay was not found).\n   * @api\n   */\n  PluggableMap.prototype.removeOverlay = function removeOverlay (overlay) {\n    return this.getOverlays().remove(overlay);\n  };\n\n  /**\n   * @param {number} time Time.\n   * @private\n   */\n  PluggableMap.prototype.renderFrame_ = function renderFrame_ (time) {\n    var viewState;\n\n    var size = this.getSize();\n    var view = this.getView();\n    var extent = createEmpty();\n    var previousFrameState = this.frameState_;\n    /** @type {?FrameState} */\n    var frameState = null;\n    if (size !== undefined && hasArea(size) && view && view.isDef()) {\n      var viewHints = view.getHints(this.frameState_ ? this.frameState_.viewHints : undefined);\n      var layerStatesArray = this.getLayerGroup().getLayerStatesArray();\n      var layerStates = {};\n      for (var i = 0, ii = layerStatesArray.length; i < ii; ++i) {\n        layerStates[getUid(layerStatesArray[i].layer)] = layerStatesArray[i];\n      }\n      viewState = view.getState(this.pixelRatio_);\n      frameState = /** @type {FrameState} */ ({\n        animate: false,\n        coordinateToPixelTransform: this.coordinateToPixelTransform_,\n        extent: extent,\n        focus: this.focus_ ? this.focus_ : viewState.center,\n        index: this.frameIndex_++,\n        layerStates: layerStates,\n        layerStatesArray: layerStatesArray,\n        pixelRatio: this.pixelRatio_,\n        pixelToCoordinateTransform: this.pixelToCoordinateTransform_,\n        postRenderFunctions: [],\n        size: size,\n        skippedFeatureUids: this.skippedFeatureUids_,\n        tileQueue: this.tileQueue_,\n        time: time,\n        usedTiles: {},\n        viewState: viewState,\n        viewHints: viewHints,\n        wantedTiles: {}\n      });\n    }\n\n    if (frameState) {\n      frameState.extent = getForViewAndSize(viewState.center,\n        viewState.resolution, viewState.rotation, frameState.size, extent);\n    }\n\n    this.frameState_ = frameState;\n    this.renderer_.renderFrame(frameState);\n\n    if (frameState) {\n      if (frameState.animate) {\n        this.render();\n      }\n      Array.prototype.push.apply(this.postRenderFunctions_, frameState.postRenderFunctions);\n\n      if (previousFrameState) {\n        var moveStart = !this.previousExtent_ ||\n                    (!isEmpty(this.previousExtent_) &&\n                    !equals(frameState.extent, this.previousExtent_));\n        if (moveStart) {\n          this.dispatchEvent(\n            new MapEvent(MapEventType.MOVESTART, this, previousFrameState));\n          this.previousExtent_ = createOrUpdateEmpty(this.previousExtent_);\n        }\n      }\n\n      var idle = this.previousExtent_ &&\n          !frameState.viewHints[ViewHint.ANIMATING] &&\n          !frameState.viewHints[ViewHint.INTERACTING] &&\n          !equals(frameState.extent, this.previousExtent_);\n\n      if (idle) {\n        this.dispatchEvent(new MapEvent(MapEventType.MOVEEND, this, frameState));\n        clone(frameState.extent, this.previousExtent_);\n      }\n    }\n\n    this.dispatchEvent(new MapEvent(MapEventType.POSTRENDER, this, frameState));\n\n    setTimeout(this.handlePostRender.bind(this), 0);\n\n  };\n\n  /**\n   * Sets the layergroup of this map.\n   * @param {LayerGroup} layerGroup A layer group containing the layers in this map.\n   * @observable\n   * @api\n   */\n  PluggableMap.prototype.setLayerGroup = function setLayerGroup (layerGroup) {\n    this.set(MapProperty.LAYERGROUP, layerGroup);\n  };\n\n  /**\n   * Set the size of this map.\n   * @param {import(\"./size.js\").Size|undefined} size The size in pixels of the map in the DOM.\n   * @observable\n   * @api\n   */\n  PluggableMap.prototype.setSize = function setSize (size) {\n    this.set(MapProperty.SIZE, size);\n  };\n\n  /**\n   * Set the target element to render this map into.\n   * @param {HTMLElement|string|undefined} target The Element or id of the Element\n   *     that the map is rendered in.\n   * @observable\n   * @api\n   */\n  PluggableMap.prototype.setTarget = function setTarget (target) {\n    this.set(MapProperty.TARGET, target);\n  };\n\n  /**\n   * Set the view for this map.\n   * @param {View} view The view that controls this map.\n   * @observable\n   * @api\n   */\n  PluggableMap.prototype.setView = function setView (view) {\n    this.set(MapProperty.VIEW, view);\n  };\n\n  /**\n   * @param {import(\"./Feature.js\").default} feature Feature.\n   */\n  PluggableMap.prototype.skipFeature = function skipFeature (feature) {\n    this.skippedFeatureUids_[getUid(feature)] = true;\n    this.render();\n  };\n\n  /**\n   * Force a recalculation of the map viewport size.  This should be called when\n   * third-party code changes the size of the map viewport.\n   * @api\n   */\n  PluggableMap.prototype.updateSize = function updateSize () {\n    var targetElement = this.getTargetElement();\n\n    if (!targetElement) {\n      this.setSize(undefined);\n    } else {\n      var computedStyle = getComputedStyle(targetElement);\n      this.setSize([\n        targetElement.offsetWidth -\n            parseFloat(computedStyle['borderLeftWidth']) -\n            parseFloat(computedStyle['paddingLeft']) -\n            parseFloat(computedStyle['paddingRight']) -\n            parseFloat(computedStyle['borderRightWidth']),\n        targetElement.offsetHeight -\n            parseFloat(computedStyle['borderTopWidth']) -\n            parseFloat(computedStyle['paddingTop']) -\n            parseFloat(computedStyle['paddingBottom']) -\n            parseFloat(computedStyle['borderBottomWidth'])\n      ]);\n    }\n  };\n\n  /**\n   * @param {import(\"./Feature.js\").default} feature Feature.\n   */\n  PluggableMap.prototype.unskipFeature = function unskipFeature (feature) {\n    delete this.skippedFeatureUids_[getUid(feature)];\n    this.render();\n  };\n\n  return PluggableMap;\n}(BaseObject));\n\n\n/**\n * @param {MapOptions} options Map options.\n * @return {MapOptionsInternal} Internal map options.\n */\nfunction createOptionsInternal(options) {\n\n  /**\n   * @type {HTMLElement|Document}\n   */\n  var keyboardEventTarget = null;\n  if (options.keyboardEventTarget !== undefined) {\n    keyboardEventTarget = typeof options.keyboardEventTarget === 'string' ?\n      document.getElementById(options.keyboardEventTarget) :\n      options.keyboardEventTarget;\n  }\n\n  /**\n   * @type {Object<string, *>}\n   */\n  var values = {};\n\n  var layerGroup = options.layers && typeof /** @type {?} */ (options.layers).getLayers === 'function' ?\n    /** @type {LayerGroup} */ (options.layers) : new LayerGroup({layers: /** @type {Collection} */ (options.layers)});\n  values[MapProperty.LAYERGROUP] = layerGroup;\n\n  values[MapProperty.TARGET] = options.target;\n\n  values[MapProperty.VIEW] = options.view !== undefined ?\n    options.view : new View();\n\n  var controls;\n  if (options.controls !== undefined) {\n    if (Array.isArray(options.controls)) {\n      controls = new Collection(options.controls.slice());\n    } else {\n      assert(typeof /** @type {?} */ (options.controls).getArray === 'function',\n        47); // Expected `controls` to be an array or an `import(\"./Collection.js\").Collection`\n      controls = /** @type {Collection} */ (options.controls);\n    }\n  }\n\n  var interactions;\n  if (options.interactions !== undefined) {\n    if (Array.isArray(options.interactions)) {\n      interactions = new Collection(options.interactions.slice());\n    } else {\n      assert(typeof /** @type {?} */ (options.interactions).getArray === 'function',\n        48); // Expected `interactions` to be an array or an `import(\"./Collection.js\").Collection`\n      interactions = /** @type {Collection} */ (options.interactions);\n    }\n  }\n\n  var overlays;\n  if (options.overlays !== undefined) {\n    if (Array.isArray(options.overlays)) {\n      overlays = new Collection(options.overlays.slice());\n    } else {\n      assert(typeof /** @type {?} */ (options.overlays).getArray === 'function',\n        49); // Expected `overlays` to be an array or an `import(\"./Collection.js\").Collection`\n      overlays = options.overlays;\n    }\n  } else {\n    overlays = new Collection();\n  }\n\n  return {\n    controls: controls,\n    interactions: interactions,\n    keyboardEventTarget: keyboardEventTarget,\n    overlays: overlays,\n    values: values\n  };\n\n}\nexport default PluggableMap;\n\n/**\n * @param  {Array<import(\"./layer/Base.js\").default>} layers Layers.\n * @return {boolean} Layers have sources that are still loading.\n */\nfunction getLoading(layers) {\n  for (var i = 0, ii = layers.length; i < ii; ++i) {\n    var layer = layers[i];\n    if (typeof /** @type {?} */ (layer).getLayers === 'function') {\n      return getLoading(/** @type {LayerGroup} */ (layer).getLayers().getArray());\n    } else {\n      var source = /** @type {import(\"./layer/Layer.js\").default} */ (\n        layer).getSource();\n      if (source && source.loading) {\n        return true;\n      }\n    }\n  }\n  return false;\n}\n\n//# sourceMappingURL=PluggableMap.js.map","/**\n * @module ol/Map\n */\nimport PluggableMap from './PluggableMap.js';\nimport {defaults as defaultControls} from './control/util.js';\nimport {defaults as defaultInteractions} from './interaction.js';\nimport {assign} from './obj.js';\nimport CanvasImageLayerRenderer from './renderer/canvas/ImageLayer.js';\nimport CanvasMapRenderer from './renderer/canvas/Map.js';\nimport CanvasTileLayerRenderer from './renderer/canvas/TileLayer.js';\nimport CanvasVectorLayerRenderer from './renderer/canvas/VectorLayer.js';\nimport CanvasVectorTileLayerRenderer from './renderer/canvas/VectorTileLayer.js';\n\n/**\n * @classdesc\n * The map is the core component of OpenLayers. For a map to render, a view,\n * one or more layers, and a target container are needed:\n *\n *     import Map from 'ol/Map';\n *     import View from 'ol/View';\n *     import TileLayer from 'ol/layer/Tile';\n *     import OSM from 'ol/source/OSM';\n *\n *     var map = new Map({\n *       view: new View({\n *         center: [0, 0],\n *         zoom: 1\n *       }),\n *       layers: [\n *         new TileLayer({\n *           source: new OSM()\n *         })\n *       ],\n *       target: 'map'\n *     });\n *\n * The above snippet creates a map using a {@link module:ol/layer/Tile} to\n * display {@link module:ol/source/OSM~OSM} OSM data and render it to a DOM\n * element with the id `map`.\n *\n * The constructor places a viewport container (with CSS class name\n * `ol-viewport`) in the target element (see `getViewport()`), and then two\n * further elements within the viewport: one with CSS class name\n * `ol-overlaycontainer-stopevent` for controls and some overlays, and one with\n * CSS class name `ol-overlaycontainer` for other overlays (see the `stopEvent`\n * option of {@link module:ol/Overlay~Overlay} for the difference). The map\n * itself is placed in a further element within the viewport.\n *\n * Layers are stored as a {@link module:ol/Collection~Collection} in\n * layerGroups. A top-level group is provided by the library. This is what is\n * accessed by `getLayerGroup` and `setLayerGroup`. Layers entered in the\n * options are added to this group, and `addLayer` and `removeLayer` change the\n * layer collection in the group. `getLayers` is a convenience function for\n * `getLayerGroup().getLayers()`. Note that {@link module:ol/layer/Group~Group}\n * is a subclass of {@link module:ol/layer/Base}, so layers entered in the\n * options or added with `addLayer` can be groups, which can contain further\n * groups, and so on.\n *\n * @fires import(\"./MapBrowserEvent.js\").MapBrowserEvent\n * @fires import(\"./MapEvent.js\").MapEvent\n * @fires module:ol/render/Event~RenderEvent#postcompose\n * @fires module:ol/render/Event~RenderEvent#precompose\n * @api\n */\nvar Map = /*@__PURE__*/(function (PluggableMap) {\n  function Map(options) {\n    options = assign({}, options);\n    if (!options.controls) {\n      options.controls = defaultControls();\n    }\n    if (!options.interactions) {\n      options.interactions = defaultInteractions();\n    }\n\n    PluggableMap.call(this, options);\n  }\n\n  if ( PluggableMap ) Map.__proto__ = PluggableMap;\n  Map.prototype = Object.create( PluggableMap && PluggableMap.prototype );\n  Map.prototype.constructor = Map;\n\n  Map.prototype.createRenderer = function createRenderer () {\n    var renderer = new CanvasMapRenderer(this);\n    renderer.registerLayerRenderers([\n      CanvasImageLayerRenderer,\n      CanvasTileLayerRenderer,\n      CanvasVectorLayerRenderer,\n      CanvasVectorTileLayerRenderer\n    ]);\n    return renderer;\n  };\n\n  return Map;\n}(PluggableMap));\n\n\nexport default Map;\n\n//# sourceMappingURL=Map.js.map","/**\n * @module ol/format/FormatType\n */\n\n/**\n * @enum {string}\n */\nexport default {\n  ARRAY_BUFFER: 'arraybuffer',\n  JSON: 'json',\n  TEXT: 'text',\n  XML: 'xml'\n};\n\n//# sourceMappingURL=FormatType.js.map","/**\n * @module ol/featureloader\n */\nimport {VOID} from './functions.js';\nimport FormatType from './format/FormatType.js';\n\n/**\n * {@link module:ol/source/Vector} sources use a function of this type to\n * load features.\n *\n * This function takes an {@link module:ol/extent~Extent} representing the area to be loaded,\n * a `{number}` representing the resolution (map units per pixel) and an\n * {@link module:ol/proj/Projection} for the projection  as\n * arguments. `this` within the function is bound to the\n * {@link module:ol/source/Vector} it's called from.\n *\n * The function is responsible for loading the features and adding them to the\n * source.\n * @typedef {function(this:(import(\"./source/Vector\").default|import(\"./VectorTile.js\").default), import(\"./extent.js\").Extent, number,\n *                    import(\"./proj/Projection.js\").default)} FeatureLoader\n * @api\n */\n\n\n/**\n * {@link module:ol/source/Vector} sources use a function of this type to\n * get the url to load features from.\n *\n * This function takes an {@link module:ol/extent~Extent} representing the area\n * to be loaded, a `{number}` representing the resolution (map units per pixel)\n * and an {@link module:ol/proj/Projection} for the projection  as\n * arguments and returns a `{string}` representing the URL.\n * @typedef {function(import(\"./extent.js\").Extent, number, import(\"./proj/Projection.js\").default): string} FeatureUrlFunction\n * @api\n */\n\n\n/**\n * @param {string|FeatureUrlFunction} url Feature URL service.\n * @param {import(\"./format/Feature.js\").default} format Feature format.\n * @param {function(this:import(\"./VectorTile.js\").default, Array<import(\"./Feature.js\").default>, import(\"./proj/Projection.js\").default, import(\"./extent.js\").Extent)|function(this:import(\"./source/Vector\").default, Array<import(\"./Feature.js\").default>)} success\n *     Function called with the loaded features and optionally with the data\n *     projection. Called with the vector tile or source as `this`.\n * @param {function(this:import(\"./VectorTile.js\").default)|function(this:import(\"./source/Vector\").default)} failure\n *     Function called when loading failed. Called with the vector tile or\n *     source as `this`.\n * @return {FeatureLoader} The feature loader.\n */\nexport function loadFeaturesXhr(url, format, success, failure) {\n  return (\n    /**\n     * @param {import(\"./extent.js\").Extent} extent Extent.\n     * @param {number} resolution Resolution.\n     * @param {import(\"./proj/Projection.js\").default} projection Projection.\n     * @this {import(\"./source/Vector\").default|import(\"./VectorTile.js\").default}\n     */\n    function(extent, resolution, projection) {\n      var xhr = new XMLHttpRequest();\n      xhr.open('GET',\n        typeof url === 'function' ? url(extent, resolution, projection) : url,\n        true);\n      if (format.getType() == FormatType.ARRAY_BUFFER) {\n        xhr.responseType = 'arraybuffer';\n      }\n      /**\n       * @param {Event} event Event.\n       * @private\n       */\n      xhr.onload = function(event) {\n        // status will be 0 for file:// urls\n        if (!xhr.status || xhr.status >= 200 && xhr.status < 300) {\n          var type = format.getType();\n          /** @type {Document|Node|Object|string|undefined} */\n          var source;\n          if (type == FormatType.JSON || type == FormatType.TEXT) {\n            source = xhr.responseText;\n          } else if (type == FormatType.XML) {\n            source = xhr.responseXML;\n            if (!source) {\n              source = new DOMParser().parseFromString(xhr.responseText, 'application/xml');\n            }\n          } else if (type == FormatType.ARRAY_BUFFER) {\n            source = /** @type {ArrayBuffer} */ (xhr.response);\n          }\n          if (source) {\n            success.call(this, format.readFeatures(source,\n              {featureProjection: projection}),\n            format.readProjection(source), format.getLastExtent());\n          } else {\n            failure.call(this);\n          }\n        } else {\n          failure.call(this);\n        }\n      }.bind(this);\n      /**\n       * @private\n       */\n      xhr.onerror = function() {\n        failure.call(this);\n      }.bind(this);\n      xhr.send();\n    }\n  );\n}\n\n\n/**\n * Create an XHR feature loader for a `url` and `format`. The feature loader\n * loads features (with XHR), parses the features, and adds them to the\n * vector source.\n * @param {string|FeatureUrlFunction} url Feature URL service.\n * @param {import(\"./format/Feature.js\").default} format Feature format.\n * @return {FeatureLoader} The feature loader.\n * @api\n */\nexport function xhr(url, format) {\n  return loadFeaturesXhr(url, format,\n    /**\n     * @param {Array<import(\"./Feature.js\").default>} features The loaded features.\n     * @param {import(\"./proj/Projection.js\").default} dataProjection Data\n     * projection.\n     * @this {import(\"./source/Vector\").default|import(\"./VectorTile.js\").default}\n     */\n    function(features, dataProjection) {\n      var sourceOrTile = /** @type {?} */ (this);\n      if (typeof sourceOrTile.addFeatures === 'function') {\n        /** @type {import(\"./source/Vector\").default} */ (sourceOrTile).addFeatures(features);\n      }\n    }, /* FIXME handle error */ VOID);\n}\n\n//# sourceMappingURL=featureloader.js.map","/**\n * @module ol/ObjectEventType\n */\n\n/**\n * @enum {string}\n */\nexport default {\n  /**\n   * Triggered when a property is changed.\n   * @event module:ol/Object.ObjectEvent#propertychange\n   * @api\n   */\n  PROPERTYCHANGE: 'propertychange'\n};\n\n//# sourceMappingURL=ObjectEventType.js.map","/**\n * @module ol/ImageTile\n */\nimport Tile from './Tile.js';\nimport TileState from './TileState.js';\nimport {createCanvasContext2D} from './dom.js';\nimport {listenOnce, unlistenByKey} from './events.js';\nimport EventType from './events/EventType.js';\n\n\nvar ImageTile = /*@__PURE__*/(function (Tile) {\n  function ImageTile(tileCoord, state, src, crossOrigin, tileLoadFunction, opt_options) {\n\n    Tile.call(this, tileCoord, state, opt_options);\n\n    /**\n     * @private\n     * @type {?string}\n     */\n    this.crossOrigin_ = crossOrigin;\n\n    /**\n     * Image URI\n     *\n     * @private\n     * @type {string}\n     */\n    this.src_ = src;\n\n    /**\n     * @private\n     * @type {HTMLImageElement|HTMLCanvasElement}\n     */\n    this.image_ = new Image();\n    if (crossOrigin !== null) {\n      this.image_.crossOrigin = crossOrigin;\n    }\n\n    /**\n     * @private\n     * @type {Array<import(\"./events.js\").EventsKey>}\n     */\n    this.imageListenerKeys_ = null;\n\n    /**\n     * @private\n     * @type {import(\"./Tile.js\").LoadFunction}\n     */\n    this.tileLoadFunction_ = tileLoadFunction;\n\n  }\n\n  if ( Tile ) ImageTile.__proto__ = Tile;\n  ImageTile.prototype = Object.create( Tile && Tile.prototype );\n  ImageTile.prototype.constructor = ImageTile;\n\n  /**\n   * @inheritDoc\n   */\n  ImageTile.prototype.disposeInternal = function disposeInternal () {\n    if (this.state == TileState.LOADING) {\n      this.unlistenImage_();\n      this.image_ = getBlankImage();\n    }\n    if (this.interimTile) {\n      this.interimTile.dispose();\n    }\n    this.state = TileState.ABORT;\n    this.changed();\n    Tile.prototype.disposeInternal.call(this);\n  };\n\n  /**\n   * Get the HTML image element for this tile (may be a Canvas, Image, or Video).\n   * @return {HTMLCanvasElement|HTMLImageElement|HTMLVideoElement} Image.\n   * @api\n   */\n  ImageTile.prototype.getImage = function getImage () {\n    return this.image_;\n  };\n\n  /**\n   * @inheritDoc\n   */\n  ImageTile.prototype.getKey = function getKey () {\n    return this.src_;\n  };\n\n  /**\n   * Tracks loading or read errors.\n   *\n   * @private\n   */\n  ImageTile.prototype.handleImageError_ = function handleImageError_ () {\n    this.state = TileState.ERROR;\n    this.unlistenImage_();\n    this.image_ = getBlankImage();\n    this.changed();\n  };\n\n  /**\n   * Tracks successful image load.\n   *\n   * @private\n   */\n  ImageTile.prototype.handleImageLoad_ = function handleImageLoad_ () {\n    var image = /** @type {HTMLImageElement} */ (this.image_);\n    if (image.naturalWidth && image.naturalHeight) {\n      this.state = TileState.LOADED;\n    } else {\n      this.state = TileState.EMPTY;\n    }\n    this.unlistenImage_();\n    this.changed();\n  };\n\n  /**\n   * @inheritDoc\n   * @api\n   */\n  ImageTile.prototype.load = function load () {\n    if (this.state == TileState.ERROR) {\n      this.state = TileState.IDLE;\n      this.image_ = new Image();\n      if (this.crossOrigin_ !== null) {\n        this.image_.crossOrigin = this.crossOrigin_;\n      }\n    }\n    if (this.state == TileState.IDLE) {\n      this.state = TileState.LOADING;\n      this.changed();\n      this.imageListenerKeys_ = [\n        listenOnce(this.image_, EventType.ERROR,\n          this.handleImageError_, this),\n        listenOnce(this.image_, EventType.LOAD,\n          this.handleImageLoad_, this)\n      ];\n      this.tileLoadFunction_(this, this.src_);\n    }\n  };\n\n  /**\n   * Discards event handlers which listen for load completion or errors.\n   *\n   * @private\n   */\n  ImageTile.prototype.unlistenImage_ = function unlistenImage_ () {\n    this.imageListenerKeys_.forEach(unlistenByKey);\n    this.imageListenerKeys_ = null;\n  };\n\n  return ImageTile;\n}(Tile));\n\n\n/**\n * Get a 1-pixel blank image.\n * @return {HTMLCanvasElement} Blank image.\n */\nfunction getBlankImage() {\n  var ctx = createCanvasContext2D(1, 1);\n  ctx.fillStyle = 'rgba(0,0,0,0)';\n  ctx.fillRect(0, 0, 1, 1);\n  return ctx.canvas;\n}\n\nexport default ImageTile;\n\n//# sourceMappingURL=ImageTile.js.map","/**\n * @module ol/AssertionError\n */\nimport {VERSION} from './util.js';\n\n/**\n * Error object thrown when an assertion failed. This is an ECMA-262 Error,\n * extended with a `code` property.\n * See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error.\n */\nvar AssertionError = /*@__PURE__*/(function (Error) {\n  function AssertionError(code) {\n    var path = VERSION === 'latest' ? VERSION : 'v' + VERSION.split('-')[0];\n    var message = 'Assertion failed. See https://openlayers.org/en/' + path +\n    '/doc/errors/#' + code + ' for details.';\n\n    Error.call(this, message);\n\n    /**\n     * Error code. The meaning of the code can be found on\n     * https://openlayers.org/en/latest/doc/errors/ (replace `latest` with\n     * the version found in the OpenLayers script's header comment if a version\n     * other than the latest is used).\n     * @type {number}\n     * @api\n     */\n    this.code = code;\n\n    /**\n     * @type {string}\n     */\n    this.name = 'AssertionError';\n\n    // Re-assign message, see https://github.com/Rich-Harris/buble/issues/40\n    this.message = message;\n  }\n\n  if ( Error ) AssertionError.__proto__ = Error;\n  AssertionError.prototype = Object.create( Error && Error.prototype );\n  AssertionError.prototype.constructor = AssertionError;\n\n  return AssertionError;\n}(Error));\n\nexport default AssertionError;\n\n//# sourceMappingURL=AssertionError.js.map","/**\n * @module ol/geom/flat/straightchunk\n */\n\n\n/**\n * @param {number} maxAngle Maximum acceptable angle delta between segments.\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @return {Array<number>} Start and end of the first suitable chunk of the\n * given `flatCoordinates`.\n */\nexport function matchingChunk(maxAngle, flatCoordinates, offset, end, stride) {\n  var chunkStart = offset;\n  var chunkEnd = offset;\n  var chunkM = 0;\n  var m = 0;\n  var start = offset;\n  var acos, i, m12, m23, x1, y1, x12, y12, x23, y23;\n  for (i = offset; i < end; i += stride) {\n    var x2 = flatCoordinates[i];\n    var y2 = flatCoordinates[i + 1];\n    if (x1 !== undefined) {\n      x23 = x2 - x1;\n      y23 = y2 - y1;\n      m23 = Math.sqrt(x23 * x23 + y23 * y23);\n      if (x12 !== undefined) {\n        m += m12;\n        acos = Math.acos((x12 * x23 + y12 * y23) / (m12 * m23));\n        if (acos > maxAngle) {\n          if (m > chunkM) {\n            chunkM = m;\n            chunkStart = start;\n            chunkEnd = i;\n          }\n          m = 0;\n          start = i - stride;\n        }\n      }\n      m12 = m23;\n      x12 = x23;\n      y12 = y23;\n    }\n    x1 = x2;\n    y1 = y2;\n  }\n  m += m23;\n  return m > chunkM ? [start, i] : [chunkStart, chunkEnd];\n}\n\n//# sourceMappingURL=straightchunk.js.map","/**\n * @module ol/ImageState\n */\n\n/**\n * @enum {number}\n */\nexport default {\n  IDLE: 0,\n  LOADING: 1,\n  LOADED: 2,\n  ERROR: 3\n};\n\n//# sourceMappingURL=ImageState.js.map","/**\n * @module ol/TileCache\n */\nimport LRUCache from './structs/LRUCache.js';\nimport {fromKey, getKey} from './tilecoord.js';\n\nvar TileCache = /*@__PURE__*/(function (LRUCache) {\n  function TileCache(opt_highWaterMark) {\n\n    LRUCache.call(this, opt_highWaterMark);\n\n  }\n\n  if ( LRUCache ) TileCache.__proto__ = LRUCache;\n  TileCache.prototype = Object.create( LRUCache && LRUCache.prototype );\n  TileCache.prototype.constructor = TileCache;\n\n  /**\n   * @param {!Object<string, import(\"./TileRange.js\").default>} usedTiles Used tiles.\n   */\n  TileCache.prototype.expireCache = function expireCache (usedTiles) {\n    while (this.canExpireCache()) {\n      var tile = this.peekLast();\n      var zKey = tile.tileCoord[0].toString();\n      if (zKey in usedTiles && usedTiles[zKey].contains(tile.tileCoord)) {\n        break;\n      } else {\n        this.pop().dispose();\n      }\n    }\n  };\n\n  /**\n   * Prune all tiles from the cache that don't have the same z as the newest tile.\n   */\n  TileCache.prototype.pruneExceptNewestZ = function pruneExceptNewestZ () {\n    if (this.getCount() === 0) {\n      return;\n    }\n    var key = this.peekFirstKey();\n    var tileCoord = fromKey(key);\n    var z = tileCoord[0];\n    this.forEach(function(tile) {\n      if (tile.tileCoord[0] !== z) {\n        this.remove(getKey(tile.tileCoord));\n        tile.dispose();\n      }\n    }, this);\n  };\n\n  return TileCache;\n}(LRUCache));\n\n\nexport default TileCache;\n\n//# sourceMappingURL=TileCache.js.map","/**\n * @module ol/control/Attribution\n */\nimport {equals} from '../array.js';\nimport Control from './Control.js';\nimport {CLASS_CONTROL, CLASS_UNSELECTABLE, CLASS_COLLAPSED} from '../css.js';\nimport {removeChildren, replaceNode} from '../dom.js';\nimport {listen} from '../events.js';\nimport EventType from '../events/EventType.js';\nimport {visibleAtResolution} from '../layer/Layer.js';\n\n\n/**\n * @typedef {Object} Options\n * @property {string} [className='ol-attribution'] CSS class name.\n * @property {HTMLElement|string} [target] Specify a target if you\n * want the control to be rendered outside of the map's\n * viewport.\n * @property {boolean} [collapsible] Specify if attributions can\n * be collapsed. If not specified, sources control this behavior with their\n * `attributionsCollapsible` setting.\n * @property {boolean} [collapsed=true] Specify if attributions should\n * be collapsed at startup.\n * @property {string} [tipLabel='Attributions'] Text label to use for the button tip.\n * @property {string} [label='i'] Text label to use for the\n * collapsed attributions button.\n * Instead of text, also an element (e.g. a `span` element) can be used.\n * @property {string|HTMLElement} [collapseLabel=''] Text label to use\n * for the expanded attributions button.\n * Instead of text, also an element (e.g. a `span` element) can be used.\n * @property {function(import(\"../MapEvent.js\").default)} [render] Function called when\n * the control should be re-rendered. This is called in a `requestAnimationFrame`\n * callback.\n */\n\n\n/**\n * @classdesc\n * Control to show all the attributions associated with the layer sources\n * in the map. This control is one of the default controls included in maps.\n * By default it will show in the bottom right portion of the map, but this can\n * be changed by using a css selector for `.ol-attribution`.\n *\n * @api\n */\nvar Attribution = /*@__PURE__*/(function (Control) {\n  function Attribution(opt_options) {\n\n    var options = opt_options ? opt_options : {};\n\n    Control.call(this, {\n      element: document.createElement('div'),\n      render: options.render || render,\n      target: options.target\n    });\n\n    /**\n     * @private\n     * @type {HTMLElement}\n     */\n    this.ulElement_ = document.createElement('ul');\n\n    /**\n     * @private\n     * @type {boolean}\n     */\n    this.collapsed_ = options.collapsed !== undefined ? options.collapsed : true;\n\n    /**\n     * @private\n     * @type {boolean}\n     */\n    this.overrideCollapsible_ = options.collapsible !== undefined;\n\n    /**\n     * @private\n     * @type {boolean}\n     */\n    this.collapsible_ = options.collapsible !== undefined ?\n      options.collapsible : true;\n\n    if (!this.collapsible_) {\n      this.collapsed_ = false;\n    }\n\n    var className = options.className !== undefined ? options.className : 'ol-attribution';\n\n    var tipLabel = options.tipLabel !== undefined ? options.tipLabel : 'Attributions';\n\n    var collapseLabel = options.collapseLabel !== undefined ? options.collapseLabel : '\\u00BB';\n\n    if (typeof collapseLabel === 'string') {\n      /**\n       * @private\n       * @type {HTMLElement}\n       */\n      this.collapseLabel_ = document.createElement('span');\n      this.collapseLabel_.textContent = collapseLabel;\n    } else {\n      this.collapseLabel_ = collapseLabel;\n    }\n\n    var label = options.label !== undefined ? options.label : 'i';\n\n    if (typeof label === 'string') {\n      /**\n       * @private\n       * @type {HTMLElement}\n       */\n      this.label_ = document.createElement('span');\n      this.label_.textContent = label;\n    } else {\n      this.label_ = label;\n    }\n\n\n    var activeLabel = (this.collapsible_ && !this.collapsed_) ?\n      this.collapseLabel_ : this.label_;\n    var button = document.createElement('button');\n    button.setAttribute('type', 'button');\n    button.title = tipLabel;\n    button.appendChild(activeLabel);\n\n    listen(button, EventType.CLICK, this.handleClick_, this);\n\n    var cssClasses = className + ' ' + CLASS_UNSELECTABLE + ' ' + CLASS_CONTROL +\n        (this.collapsed_ && this.collapsible_ ? ' ' + CLASS_COLLAPSED : '') +\n        (this.collapsible_ ? '' : ' ol-uncollapsible');\n    var element = this.element;\n    element.className = cssClasses;\n    element.appendChild(this.ulElement_);\n    element.appendChild(button);\n\n    /**\n     * A list of currently rendered resolutions.\n     * @type {Array<string>}\n     * @private\n     */\n    this.renderedAttributions_ = [];\n\n    /**\n     * @private\n     * @type {boolean}\n     */\n    this.renderedVisible_ = true;\n\n  }\n\n  if ( Control ) Attribution.__proto__ = Control;\n  Attribution.prototype = Object.create( Control && Control.prototype );\n  Attribution.prototype.constructor = Attribution;\n\n  /**\n   * Collect a list of visible attributions and set the collapsible state.\n   * @param {import(\"../PluggableMap.js\").FrameState} frameState Frame state.\n   * @return {Array<string>} Attributions.\n   * @private\n   */\n  Attribution.prototype.collectSourceAttributions_ = function collectSourceAttributions_ (frameState) {\n    /**\n     * Used to determine if an attribution already exists.\n     * @type {!Object<string, boolean>}\n     */\n    var lookup = {};\n\n    /**\n     * A list of visible attributions.\n     * @type {Array<string>}\n     */\n    var visibleAttributions = [];\n\n    var layerStatesArray = frameState.layerStatesArray;\n    var resolution = frameState.viewState.resolution;\n    for (var i = 0, ii = layerStatesArray.length; i < ii; ++i) {\n      var layerState = layerStatesArray[i];\n      if (!visibleAtResolution(layerState, resolution)) {\n        continue;\n      }\n\n      var source = /** @type {import(\"../layer/Layer.js\").default} */ (layerState.layer).getSource();\n      if (!source) {\n        continue;\n      }\n\n      var attributionGetter = source.getAttributions();\n      if (!attributionGetter) {\n        continue;\n      }\n\n      var attributions = attributionGetter(frameState);\n      if (!attributions) {\n        continue;\n      }\n\n      if (!this.overrideCollapsible_ && source.getAttributionsCollapsible() === false) {\n        this.setCollapsible(false);\n      }\n\n      if (Array.isArray(attributions)) {\n        for (var j = 0, jj = attributions.length; j < jj; ++j) {\n          if (!(attributions[j] in lookup)) {\n            visibleAttributions.push(attributions[j]);\n            lookup[attributions[j]] = true;\n          }\n        }\n      } else {\n        if (!(attributions in lookup)) {\n          visibleAttributions.push(attributions);\n          lookup[attributions] = true;\n        }\n      }\n    }\n    return visibleAttributions;\n  };\n\n  /**\n   * @private\n   * @param {?import(\"../PluggableMap.js\").FrameState} frameState Frame state.\n   */\n  Attribution.prototype.updateElement_ = function updateElement_ (frameState) {\n    if (!frameState) {\n      if (this.renderedVisible_) {\n        this.element.style.display = 'none';\n        this.renderedVisible_ = false;\n      }\n      return;\n    }\n\n    var attributions = this.collectSourceAttributions_(frameState);\n\n    var visible = attributions.length > 0;\n    if (this.renderedVisible_ != visible) {\n      this.element.style.display = visible ? '' : 'none';\n      this.renderedVisible_ = visible;\n    }\n\n    if (equals(attributions, this.renderedAttributions_)) {\n      return;\n    }\n\n    removeChildren(this.ulElement_);\n\n    // append the attributions\n    for (var i = 0, ii = attributions.length; i < ii; ++i) {\n      var element = document.createElement('li');\n      element.innerHTML = attributions[i];\n      this.ulElement_.appendChild(element);\n    }\n\n    this.renderedAttributions_ = attributions;\n  };\n\n  /**\n   * @param {MouseEvent} event The event to handle\n   * @private\n   */\n  Attribution.prototype.handleClick_ = function handleClick_ (event) {\n    event.preventDefault();\n    this.handleToggle_();\n  };\n\n  /**\n   * @private\n   */\n  Attribution.prototype.handleToggle_ = function handleToggle_ () {\n    this.element.classList.toggle(CLASS_COLLAPSED);\n    if (this.collapsed_) {\n      replaceNode(this.collapseLabel_, this.label_);\n    } else {\n      replaceNode(this.label_, this.collapseLabel_);\n    }\n    this.collapsed_ = !this.collapsed_;\n  };\n\n  /**\n   * Return `true` if the attribution is collapsible, `false` otherwise.\n   * @return {boolean} True if the widget is collapsible.\n   * @api\n   */\n  Attribution.prototype.getCollapsible = function getCollapsible () {\n    return this.collapsible_;\n  };\n\n  /**\n   * Set whether the attribution should be collapsible.\n   * @param {boolean} collapsible True if the widget is collapsible.\n   * @api\n   */\n  Attribution.prototype.setCollapsible = function setCollapsible (collapsible) {\n    if (this.collapsible_ === collapsible) {\n      return;\n    }\n    this.collapsible_ = collapsible;\n    this.element.classList.toggle('ol-uncollapsible');\n    if (!collapsible && this.collapsed_) {\n      this.handleToggle_();\n    }\n  };\n\n  /**\n   * Collapse or expand the attribution according to the passed parameter. Will\n   * not do anything if the attribution isn't collapsible or if the current\n   * collapsed state is already the one requested.\n   * @param {boolean} collapsed True if the widget is collapsed.\n   * @api\n   */\n  Attribution.prototype.setCollapsed = function setCollapsed (collapsed) {\n    if (!this.collapsible_ || this.collapsed_ === collapsed) {\n      return;\n    }\n    this.handleToggle_();\n  };\n\n  /**\n   * Return `true` when the attribution is currently collapsed or `false`\n   * otherwise.\n   * @return {boolean} True if the widget is collapsed.\n   * @api\n   */\n  Attribution.prototype.getCollapsed = function getCollapsed () {\n    return this.collapsed_;\n  };\n\n  return Attribution;\n}(Control));\n\n\n/**\n * Update the attribution element.\n * @param {import(\"../MapEvent.js\").default} mapEvent Map event.\n * @this {Attribution}\n * @api\n */\nexport function render(mapEvent) {\n  this.updateElement_(mapEvent.frameState);\n}\n\n\nexport default Attribution;\n\n//# sourceMappingURL=Attribution.js.map","/**\n * @module ol/control/Rotate\n */\nimport Control from './Control.js';\nimport {CLASS_CONTROL, CLASS_HIDDEN, CLASS_UNSELECTABLE} from '../css.js';\nimport {easeOut} from '../easing.js';\nimport {listen} from '../events.js';\nimport EventType from '../events/EventType.js';\n\n\n/**\n * @typedef {Object} Options\n * @property {string} [className='ol-rotate'] CSS class name.\n * @property {string|HTMLElement} [label=''] Text label to use for the rotate button.\n * Instead of text, also an element (e.g. a `span` element) can be used.\n * @property {string} [tipLabel='Reset rotation'] Text label to use for the rotate tip.\n * @property {number} [duration=250] Animation duration in milliseconds.\n * @property {boolean} [autoHide=true] Hide the control when rotation is 0.\n * @property {function(import(\"../MapEvent.js\").default)} [render] Function called when the control should\n * be re-rendered. This is called in a `requestAnimationFrame` callback.\n * @property {function()} [resetNorth] Function called when the control is clicked.\n * This will override the default `resetNorth`.\n * @property {HTMLElement|string} [target] Specify a target if you want the control to be\n * rendered outside of the map's viewport.\n */\n\n\n/**\n * @classdesc\n * A button control to reset rotation to 0.\n * To style this control use css selector `.ol-rotate`. A `.ol-hidden` css\n * selector is added to the button when the rotation is 0.\n *\n * @api\n */\nvar Rotate = /*@__PURE__*/(function (Control) {\n  function Rotate(opt_options) {\n\n    var options = opt_options ? opt_options : {};\n\n    Control.call(this, {\n      element: document.createElement('div'),\n      render: options.render || render,\n      target: options.target\n    });\n\n    var className = options.className !== undefined ? options.className : 'ol-rotate';\n\n    var label = options.label !== undefined ? options.label : '\\u21E7';\n\n    /**\n     * @type {HTMLElement}\n     * @private\n     */\n    this.label_ = null;\n\n    if (typeof label === 'string') {\n      this.label_ = document.createElement('span');\n      this.label_.className = 'ol-compass';\n      this.label_.textContent = label;\n    } else {\n      this.label_ = label;\n      this.label_.classList.add('ol-compass');\n    }\n\n    var tipLabel = options.tipLabel ? options.tipLabel : 'Reset rotation';\n\n    var button = document.createElement('button');\n    button.className = className + '-reset';\n    button.setAttribute('type', 'button');\n    button.title = tipLabel;\n    button.appendChild(this.label_);\n\n    listen(button, EventType.CLICK, this.handleClick_, this);\n\n    var cssClasses = className + ' ' + CLASS_UNSELECTABLE + ' ' + CLASS_CONTROL;\n    var element = this.element;\n    element.className = cssClasses;\n    element.appendChild(button);\n\n    this.callResetNorth_ = options.resetNorth ? options.resetNorth : undefined;\n\n    /**\n     * @type {number}\n     * @private\n     */\n    this.duration_ = options.duration !== undefined ? options.duration : 250;\n\n    /**\n     * @type {boolean}\n     * @private\n     */\n    this.autoHide_ = options.autoHide !== undefined ? options.autoHide : true;\n\n    /**\n     * @private\n     * @type {number|undefined}\n     */\n    this.rotation_ = undefined;\n\n    if (this.autoHide_) {\n      this.element.classList.add(CLASS_HIDDEN);\n    }\n\n  }\n\n  if ( Control ) Rotate.__proto__ = Control;\n  Rotate.prototype = Object.create( Control && Control.prototype );\n  Rotate.prototype.constructor = Rotate;\n\n  /**\n   * @param {MouseEvent} event The event to handle\n   * @private\n   */\n  Rotate.prototype.handleClick_ = function handleClick_ (event) {\n    event.preventDefault();\n    if (this.callResetNorth_ !== undefined) {\n      this.callResetNorth_();\n    } else {\n      this.resetNorth_();\n    }\n  };\n\n  /**\n   * @private\n   */\n  Rotate.prototype.resetNorth_ = function resetNorth_ () {\n    var map = this.getMap();\n    var view = map.getView();\n    if (!view) {\n      // the map does not have a view, so we can't act\n      // upon it\n      return;\n    }\n    if (view.getRotation() !== undefined) {\n      if (this.duration_ > 0) {\n        view.animate({\n          rotation: 0,\n          duration: this.duration_,\n          easing: easeOut\n        });\n      } else {\n        view.setRotation(0);\n      }\n    }\n  };\n\n  return Rotate;\n}(Control));\n\n\n/**\n * Update the rotate control element.\n * @param {import(\"../MapEvent.js\").default} mapEvent Map event.\n * @this {Rotate}\n * @api\n */\nexport function render(mapEvent) {\n  var frameState = mapEvent.frameState;\n  if (!frameState) {\n    return;\n  }\n  var rotation = frameState.viewState.rotation;\n  if (rotation != this.rotation_) {\n    var transform = 'rotate(' + rotation + 'rad)';\n    if (this.autoHide_) {\n      var contains = this.element.classList.contains(CLASS_HIDDEN);\n      if (!contains && rotation === 0) {\n        this.element.classList.add(CLASS_HIDDEN);\n      } else if (contains && rotation !== 0) {\n        this.element.classList.remove(CLASS_HIDDEN);\n      }\n    }\n    this.label_.style.msTransform = transform;\n    this.label_.style.webkitTransform = transform;\n    this.label_.style.transform = transform;\n  }\n  this.rotation_ = rotation;\n}\n\nexport default Rotate;\n\n//# sourceMappingURL=Rotate.js.map","/**\n * @module ol/control/Zoom\n */\nimport {listen} from '../events.js';\nimport EventType from '../events/EventType.js';\nimport Control from './Control.js';\nimport {CLASS_CONTROL, CLASS_UNSELECTABLE} from '../css.js';\nimport {easeOut} from '../easing.js';\n\n\n/**\n * @typedef {Object} Options\n * @property {number} [duration=250] Animation duration in milliseconds.\n * @property {string} [className='ol-zoom'] CSS class name.\n * @property {string|HTMLElement} [zoomInLabel='+'] Text label to use for the zoom-in\n * button. Instead of text, also an element (e.g. a `span` element) can be used.\n * @property {string|HTMLElement} [zoomOutLabel='-'] Text label to use for the zoom-out button.\n * Instead of text, also an element (e.g. a `span` element) can be used.\n * @property {string} [zoomInTipLabel='Zoom in'] Text label to use for the button tip.\n * @property {string} [zoomOutTipLabel='Zoom out'] Text label to use for the button tip.\n * @property {number} [delta=1] The zoom delta applied on each click.\n * @property {HTMLElement|string} [target] Specify a target if you want the control to be\n * rendered outside of the map's viewport.\n */\n\n\n/**\n * @classdesc\n * A control with 2 buttons, one for zoom in and one for zoom out.\n * This control is one of the default controls of a map. To style this control\n * use css selectors `.ol-zoom-in` and `.ol-zoom-out`.\n *\n * @api\n */\nvar Zoom = /*@__PURE__*/(function (Control) {\n  function Zoom(opt_options) {\n\n    var options = opt_options ? opt_options : {};\n\n    Control.call(this, {\n      element: document.createElement('div'),\n      target: options.target\n    });\n\n    var className = options.className !== undefined ? options.className : 'ol-zoom';\n\n    var delta = options.delta !== undefined ? options.delta : 1;\n\n    var zoomInLabel = options.zoomInLabel !== undefined ? options.zoomInLabel : '+';\n    var zoomOutLabel = options.zoomOutLabel !== undefined ? options.zoomOutLabel : '\\u2212';\n\n    var zoomInTipLabel = options.zoomInTipLabel !== undefined ?\n      options.zoomInTipLabel : 'Zoom in';\n    var zoomOutTipLabel = options.zoomOutTipLabel !== undefined ?\n      options.zoomOutTipLabel : 'Zoom out';\n\n    var inElement = document.createElement('button');\n    inElement.className = className + '-in';\n    inElement.setAttribute('type', 'button');\n    inElement.title = zoomInTipLabel;\n    inElement.appendChild(\n      typeof zoomInLabel === 'string' ? document.createTextNode(zoomInLabel) : zoomInLabel\n    );\n\n    listen(inElement, EventType.CLICK, this.handleClick_.bind(this, delta));\n\n    var outElement = document.createElement('button');\n    outElement.className = className + '-out';\n    outElement.setAttribute('type', 'button');\n    outElement.title = zoomOutTipLabel;\n    outElement.appendChild(\n      typeof zoomOutLabel === 'string' ? document.createTextNode(zoomOutLabel) : zoomOutLabel\n    );\n\n    listen(outElement, EventType.CLICK, this.handleClick_.bind(this, -delta));\n\n    var cssClasses = className + ' ' + CLASS_UNSELECTABLE + ' ' + CLASS_CONTROL;\n    var element = this.element;\n    element.className = cssClasses;\n    element.appendChild(inElement);\n    element.appendChild(outElement);\n\n    /**\n     * @type {number}\n     * @private\n     */\n    this.duration_ = options.duration !== undefined ? options.duration : 250;\n\n  }\n\n  if ( Control ) Zoom.__proto__ = Control;\n  Zoom.prototype = Object.create( Control && Control.prototype );\n  Zoom.prototype.constructor = Zoom;\n\n  /**\n   * @param {number} delta Zoom delta.\n   * @param {MouseEvent} event The event to handle\n   * @private\n   */\n  Zoom.prototype.handleClick_ = function handleClick_ (delta, event) {\n    event.preventDefault();\n    this.zoomByDelta_(delta);\n  };\n\n  /**\n   * @param {number} delta Zoom delta.\n   * @private\n   */\n  Zoom.prototype.zoomByDelta_ = function zoomByDelta_ (delta) {\n    var map = this.getMap();\n    var view = map.getView();\n    if (!view) {\n      // the map does not have a view, so we can't act\n      // upon it\n      return;\n    }\n    var currentResolution = view.getResolution();\n    if (currentResolution) {\n      var newResolution = view.constrainResolution(currentResolution, delta);\n      if (this.duration_ > 0) {\n        if (view.getAnimating()) {\n          view.cancelAnimations();\n        }\n        view.animate({\n          resolution: newResolution,\n          duration: this.duration_,\n          easing: easeOut\n        });\n      } else {\n        view.setResolution(newResolution);\n      }\n    }\n  };\n\n  return Zoom;\n}(Control));\n\n\nexport default Zoom;\n\n//# sourceMappingURL=Zoom.js.map","/**\n * @module ol/control/util\n */\nimport Collection from '../Collection.js';\nimport Attribution from './Attribution.js';\nimport Rotate from './Rotate.js';\nimport Zoom from './Zoom.js';\n\n\n/**\n * @typedef {Object} DefaultsOptions\n * @property {boolean} [attribution=true] Include\n * {@link module:ol/control/Attribution~Attribution}.\n * @property {import(\"./Attribution.js\").Options} [attributionOptions]\n * Options for {@link module:ol/control/Attribution~Attribution}.\n * @property {boolean} [rotate=true] Include\n * {@link module:ol/control/Rotate~Rotate}.\n * @property {import(\"./Rotate.js\").Options} [rotateOptions] Options\n * for {@link module:ol/control/Rotate~Rotate}.\n * @property {boolean} [zoom] Include {@link module:ol/control/Zoom~Zoom}.\n * @property {import(\"./Zoom.js\").Options} [zoomOptions] Options for\n * {@link module:ol/control/Zoom~Zoom}.\n * @api\n */\n\n\n/**\n * Set of controls included in maps by default. Unless configured otherwise,\n * this returns a collection containing an instance of each of the following\n * controls:\n * * {@link module:ol/control/Zoom~Zoom}\n * * {@link module:ol/control/Rotate~Rotate}\n * * {@link module:ol/control/Attribution~Attribution}\n *\n * @param {DefaultsOptions=} opt_options\n * Defaults options.\n * @return {Collection<import(\"./Control.js\").default>}\n * Controls.\n * @function module:ol/control.defaults\n * @api\n */\nexport function defaults(opt_options) {\n\n  var options = opt_options ? opt_options : {};\n\n  var controls = new Collection();\n\n  var zoomControl = options.zoom !== undefined ? options.zoom : true;\n  if (zoomControl) {\n    controls.push(new Zoom(options.zoomOptions));\n  }\n\n  var rotateControl = options.rotate !== undefined ? options.rotate : true;\n  if (rotateControl) {\n    controls.push(new Rotate(options.rotateOptions));\n  }\n\n  var attributionControl = options.attribution !== undefined ?\n    options.attribution : true;\n  if (attributionControl) {\n    controls.push(new Attribution(options.attributionOptions));\n  }\n\n  return controls;\n}\n\n//# sourceMappingURL=util.js.map","/**\n * @module ol/asserts\n */\nimport AssertionError from './AssertionError.js';\n\n/**\n * @param {*} assertion Assertion we expected to be truthy.\n * @param {number} errorCode Error code.\n */\nexport function assert(assertion, errorCode) {\n  if (!assertion) {\n    throw new AssertionError(errorCode);\n  }\n}\n\n//# sourceMappingURL=asserts.js.map","/**\n * @module ol/geom/Geometry\n */\nimport {abstract} from '../util.js';\nimport BaseObject from '../Object.js';\nimport {createEmpty, getHeight, returnOrUpdate} from '../extent.js';\nimport {transform2D} from './flat/transform.js';\nimport {get as getProjection, getTransform} from '../proj.js';\nimport Units from '../proj/Units.js';\nimport {create as createTransform, compose as composeTransform} from '../transform.js';\n\n\n/**\n * @type {import(\"../transform.js\").Transform}\n */\nvar tmpTransform = createTransform();\n\n\n/**\n * @classdesc\n * Abstract base class; normally only used for creating subclasses and not\n * instantiated in apps.\n * Base class for vector geometries.\n *\n * To get notified of changes to the geometry, register a listener for the\n * generic `change` event on your geometry instance.\n *\n * @abstract\n * @api\n */\nvar Geometry = /*@__PURE__*/(function (BaseObject) {\n  function Geometry() {\n\n    BaseObject.call(this);\n\n    /**\n     * @private\n     * @type {import(\"../extent.js\").Extent}\n     */\n    this.extent_ = createEmpty();\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.extentRevision_ = -1;\n\n    /**\n     * @protected\n     * @type {Object<string, Geometry>}\n     */\n    this.simplifiedGeometryCache = {};\n\n    /**\n     * @protected\n     * @type {number}\n     */\n    this.simplifiedGeometryMaxMinSquaredTolerance = 0;\n\n    /**\n     * @protected\n     * @type {number}\n     */\n    this.simplifiedGeometryRevision = 0;\n\n  }\n\n  if ( BaseObject ) Geometry.__proto__ = BaseObject;\n  Geometry.prototype = Object.create( BaseObject && BaseObject.prototype );\n  Geometry.prototype.constructor = Geometry;\n\n  /**\n   * Make a complete copy of the geometry.\n   * @abstract\n   * @return {!Geometry} Clone.\n   */\n  Geometry.prototype.clone = function clone () {\n    return abstract();\n  };\n\n  /**\n   * @abstract\n   * @param {number} x X.\n   * @param {number} y Y.\n   * @param {import(\"../coordinate.js\").Coordinate} closestPoint Closest point.\n   * @param {number} minSquaredDistance Minimum squared distance.\n   * @return {number} Minimum squared distance.\n   */\n  Geometry.prototype.closestPointXY = function closestPointXY (x, y, closestPoint, minSquaredDistance) {\n    return abstract();\n  };\n\n  /**\n   * @param {number} x X.\n   * @param {number} y Y.\n   * @return {boolean} Contains (x, y).\n   */\n  Geometry.prototype.containsXY = function containsXY (x, y) {\n    return false;\n  };\n\n  /**\n   * Return the closest point of the geometry to the passed point as\n   * {@link module:ol/coordinate~Coordinate coordinate}.\n   * @param {import(\"../coordinate.js\").Coordinate} point Point.\n   * @param {import(\"../coordinate.js\").Coordinate=} opt_closestPoint Closest point.\n   * @return {import(\"../coordinate.js\").Coordinate} Closest point.\n   * @api\n   */\n  Geometry.prototype.getClosestPoint = function getClosestPoint (point, opt_closestPoint) {\n    var closestPoint = opt_closestPoint ? opt_closestPoint : [NaN, NaN];\n    this.closestPointXY(point[0], point[1], closestPoint, Infinity);\n    return closestPoint;\n  };\n\n  /**\n   * Returns true if this geometry includes the specified coordinate. If the\n   * coordinate is on the boundary of the geometry, returns false.\n   * @param {import(\"../coordinate.js\").Coordinate} coordinate Coordinate.\n   * @return {boolean} Contains coordinate.\n   * @api\n   */\n  Geometry.prototype.intersectsCoordinate = function intersectsCoordinate (coordinate) {\n    return this.containsXY(coordinate[0], coordinate[1]);\n  };\n\n  /**\n   * @abstract\n   * @param {import(\"../extent.js\").Extent} extent Extent.\n   * @protected\n   * @return {import(\"../extent.js\").Extent} extent Extent.\n   */\n  Geometry.prototype.computeExtent = function computeExtent (extent) {\n    return abstract();\n  };\n\n  /**\n   * Get the extent of the geometry.\n   * @param {import(\"../extent.js\").Extent=} opt_extent Extent.\n   * @return {import(\"../extent.js\").Extent} extent Extent.\n   * @api\n   */\n  Geometry.prototype.getExtent = function getExtent (opt_extent) {\n    if (this.extentRevision_ != this.getRevision()) {\n      this.extent_ = this.computeExtent(this.extent_);\n      this.extentRevision_ = this.getRevision();\n    }\n    return returnOrUpdate(this.extent_, opt_extent);\n  };\n\n  /**\n   * Rotate the geometry around a given coordinate. This modifies the geometry\n   * coordinates in place.\n   * @abstract\n   * @param {number} angle Rotation angle in radians.\n   * @param {import(\"../coordinate.js\").Coordinate} anchor The rotation center.\n   * @api\n   */\n  Geometry.prototype.rotate = function rotate (angle, anchor) {\n    abstract();\n  };\n\n  /**\n   * Scale the geometry (with an optional origin).  This modifies the geometry\n   * coordinates in place.\n   * @abstract\n   * @param {number} sx The scaling factor in the x-direction.\n   * @param {number=} opt_sy The scaling factor in the y-direction (defaults to\n   *     sx).\n   * @param {import(\"../coordinate.js\").Coordinate=} opt_anchor The scale origin (defaults to the center\n   *     of the geometry extent).\n   * @api\n   */\n  Geometry.prototype.scale = function scale (sx, opt_sy, opt_anchor) {\n    abstract();\n  };\n\n  /**\n   * Create a simplified version of this geometry.  For linestrings, this uses\n   * the the {@link\n   * https://en.wikipedia.org/wiki/Ramer-Douglas-Peucker_algorithm\n   * Douglas Peucker} algorithm.  For polygons, a quantization-based\n   * simplification is used to preserve topology.\n   * @param {number} tolerance The tolerance distance for simplification.\n   * @return {Geometry} A new, simplified version of the original geometry.\n   * @api\n   */\n  Geometry.prototype.simplify = function simplify (tolerance) {\n    return this.getSimplifiedGeometry(tolerance * tolerance);\n  };\n\n  /**\n   * Create a simplified version of this geometry using the Douglas Peucker\n   * algorithm.\n   * See https://en.wikipedia.org/wiki/Ramer-Douglas-Peucker_algorithm.\n   * @abstract\n   * @param {number} squaredTolerance Squared tolerance.\n   * @return {Geometry} Simplified geometry.\n   */\n  Geometry.prototype.getSimplifiedGeometry = function getSimplifiedGeometry (squaredTolerance) {\n    return abstract();\n  };\n\n  /**\n   * Get the type of this geometry.\n   * @abstract\n   * @return {import(\"./GeometryType.js\").default} Geometry type.\n   */\n  Geometry.prototype.getType = function getType () {\n    return abstract();\n  };\n\n  /**\n   * Apply a transform function to each coordinate of the geometry.\n   * The geometry is modified in place.\n   * If you do not want the geometry modified in place, first `clone()` it and\n   * then use this function on the clone.\n   * @abstract\n   * @param {import(\"../proj.js\").TransformFunction} transformFn Transform.\n   */\n  Geometry.prototype.applyTransform = function applyTransform (transformFn) {\n    abstract();\n  };\n\n  /**\n   * Test if the geometry and the passed extent intersect.\n   * @abstract\n   * @param {import(\"../extent.js\").Extent} extent Extent.\n   * @return {boolean} `true` if the geometry and the extent intersect.\n   */\n  Geometry.prototype.intersectsExtent = function intersectsExtent (extent) {\n    return abstract();\n  };\n\n  /**\n   * Translate the geometry.  This modifies the geometry coordinates in place.  If\n   * instead you want a new geometry, first `clone()` this geometry.\n   * @abstract\n   * @param {number} deltaX Delta X.\n   * @param {number} deltaY Delta Y.\n   * @api\n   */\n  Geometry.prototype.translate = function translate (deltaX, deltaY) {\n    abstract();\n  };\n\n  /**\n   * Transform each coordinate of the geometry from one coordinate reference\n   * system to another. The geometry is modified in place.\n   * For example, a line will be transformed to a line and a circle to a circle.\n   * If you do not want the geometry modified in place, first `clone()` it and\n   * then use this function on the clone.\n   *\n   * @param {import(\"../proj.js\").ProjectionLike} source The current projection.  Can be a\n   *     string identifier or a {@link module:ol/proj/Projection~Projection} object.\n   * @param {import(\"../proj.js\").ProjectionLike} destination The desired projection.  Can be a\n   *     string identifier or a {@link module:ol/proj/Projection~Projection} object.\n   * @return {Geometry} This geometry.  Note that original geometry is\n   *     modified in place.\n   * @api\n   */\n  Geometry.prototype.transform = function transform (source, destination) {\n    /** @type {import(\"../proj/Projection.js\").default} */\n    var sourceProj = getProjection(source);\n    var transformFn = sourceProj.getUnits() == Units.TILE_PIXELS ?\n      function(inCoordinates, outCoordinates, stride) {\n        var pixelExtent = sourceProj.getExtent();\n        var projectedExtent = sourceProj.getWorldExtent();\n        var scale = getHeight(projectedExtent) / getHeight(pixelExtent);\n        composeTransform(tmpTransform,\n          projectedExtent[0], projectedExtent[3],\n          scale, -scale, 0,\n          0, 0);\n        transform2D(inCoordinates, 0, inCoordinates.length, stride,\n          tmpTransform, outCoordinates);\n        return getTransform(sourceProj, destination)(inCoordinates, outCoordinates, stride);\n      } :\n      getTransform(sourceProj, destination);\n    this.applyTransform(transformFn);\n    return this;\n  };\n\n  return Geometry;\n}(BaseObject));\n\n\nexport default Geometry;\n\n//# sourceMappingURL=Geometry.js.map","/**\n * @module ol/geom/SimpleGeometry\n */\nimport {abstract} from '../util.js';\nimport {createOrUpdateFromFlatCoordinates, getCenter} from '../extent.js';\nimport Geometry from './Geometry.js';\nimport GeometryLayout from './GeometryLayout.js';\nimport {rotate, scale, translate, transform2D} from './flat/transform.js';\nimport {clear} from '../obj.js';\n\n/**\n * @classdesc\n * Abstract base class; only used for creating subclasses; do not instantiate\n * in apps, as cannot be rendered.\n *\n * @abstract\n * @api\n */\nvar SimpleGeometry = /*@__PURE__*/(function (Geometry) {\n  function SimpleGeometry() {\n\n    Geometry.call(this);\n\n    /**\n     * @protected\n     * @type {GeometryLayout}\n     */\n    this.layout = GeometryLayout.XY;\n\n    /**\n     * @protected\n     * @type {number}\n     */\n    this.stride = 2;\n\n    /**\n     * @protected\n     * @type {Array<number>}\n     */\n    this.flatCoordinates = null;\n\n  }\n\n  if ( Geometry ) SimpleGeometry.__proto__ = Geometry;\n  SimpleGeometry.prototype = Object.create( Geometry && Geometry.prototype );\n  SimpleGeometry.prototype.constructor = SimpleGeometry;\n\n  /**\n   * @inheritDoc\n   */\n  SimpleGeometry.prototype.computeExtent = function computeExtent (extent) {\n    return createOrUpdateFromFlatCoordinates(this.flatCoordinates,\n      0, this.flatCoordinates.length, this.stride, extent);\n  };\n\n  /**\n   * @abstract\n   * @return {Array} Coordinates.\n   */\n  SimpleGeometry.prototype.getCoordinates = function getCoordinates () {\n    return abstract();\n  };\n\n  /**\n   * Return the first coordinate of the geometry.\n   * @return {import(\"../coordinate.js\").Coordinate} First coordinate.\n   * @api\n   */\n  SimpleGeometry.prototype.getFirstCoordinate = function getFirstCoordinate () {\n    return this.flatCoordinates.slice(0, this.stride);\n  };\n\n  /**\n   * @return {Array<number>} Flat coordinates.\n   */\n  SimpleGeometry.prototype.getFlatCoordinates = function getFlatCoordinates () {\n    return this.flatCoordinates;\n  };\n\n  /**\n   * Return the last coordinate of the geometry.\n   * @return {import(\"../coordinate.js\").Coordinate} Last point.\n   * @api\n   */\n  SimpleGeometry.prototype.getLastCoordinate = function getLastCoordinate () {\n    return this.flatCoordinates.slice(this.flatCoordinates.length - this.stride);\n  };\n\n  /**\n   * Return the {@link module:ol/geom/GeometryLayout layout} of the geometry.\n   * @return {GeometryLayout} Layout.\n   * @api\n   */\n  SimpleGeometry.prototype.getLayout = function getLayout () {\n    return this.layout;\n  };\n\n  /**\n   * @inheritDoc\n   */\n  SimpleGeometry.prototype.getSimplifiedGeometry = function getSimplifiedGeometry (squaredTolerance) {\n    if (this.simplifiedGeometryRevision != this.getRevision()) {\n      clear(this.simplifiedGeometryCache);\n      this.simplifiedGeometryMaxMinSquaredTolerance = 0;\n      this.simplifiedGeometryRevision = this.getRevision();\n    }\n    // If squaredTolerance is negative or if we know that simplification will not\n    // have any effect then just return this.\n    if (squaredTolerance < 0 ||\n        (this.simplifiedGeometryMaxMinSquaredTolerance !== 0 &&\n         squaredTolerance <= this.simplifiedGeometryMaxMinSquaredTolerance)) {\n      return this;\n    }\n    var key = squaredTolerance.toString();\n    if (this.simplifiedGeometryCache.hasOwnProperty(key)) {\n      return this.simplifiedGeometryCache[key];\n    } else {\n      var simplifiedGeometry =\n          this.getSimplifiedGeometryInternal(squaredTolerance);\n      var simplifiedFlatCoordinates = simplifiedGeometry.getFlatCoordinates();\n      if (simplifiedFlatCoordinates.length < this.flatCoordinates.length) {\n        this.simplifiedGeometryCache[key] = simplifiedGeometry;\n        return simplifiedGeometry;\n      } else {\n        // Simplification did not actually remove any coordinates.  We now know\n        // that any calls to getSimplifiedGeometry with a squaredTolerance less\n        // than or equal to the current squaredTolerance will also not have any\n        // effect.  This allows us to short circuit simplification (saving CPU\n        // cycles) and prevents the cache of simplified geometries from filling\n        // up with useless identical copies of this geometry (saving memory).\n        this.simplifiedGeometryMaxMinSquaredTolerance = squaredTolerance;\n        return this;\n      }\n    }\n  };\n\n  /**\n   * @param {number} squaredTolerance Squared tolerance.\n   * @return {SimpleGeometry} Simplified geometry.\n   * @protected\n   */\n  SimpleGeometry.prototype.getSimplifiedGeometryInternal = function getSimplifiedGeometryInternal (squaredTolerance) {\n    return this;\n  };\n\n  /**\n   * @return {number} Stride.\n   */\n  SimpleGeometry.prototype.getStride = function getStride () {\n    return this.stride;\n  };\n\n  /**\n   * @param {GeometryLayout} layout Layout.\n   * @param {Array<number>} flatCoordinates Flat coordinates.\n   */\n  SimpleGeometry.prototype.setFlatCoordinates = function setFlatCoordinates (layout, flatCoordinates) {\n    this.stride = getStrideForLayout(layout);\n    this.layout = layout;\n    this.flatCoordinates = flatCoordinates;\n  };\n\n  /**\n   * @abstract\n   * @param {!Array} coordinates Coordinates.\n   * @param {GeometryLayout=} opt_layout Layout.\n   */\n  SimpleGeometry.prototype.setCoordinates = function setCoordinates (coordinates, opt_layout) {\n    abstract();\n  };\n\n  /**\n   * @param {GeometryLayout|undefined} layout Layout.\n   * @param {Array} coordinates Coordinates.\n   * @param {number} nesting Nesting.\n   * @protected\n   */\n  SimpleGeometry.prototype.setLayout = function setLayout (layout, coordinates, nesting) {\n    /** @type {number} */\n    var stride;\n    if (layout) {\n      stride = getStrideForLayout(layout);\n    } else {\n      for (var i = 0; i < nesting; ++i) {\n        if (coordinates.length === 0) {\n          this.layout = GeometryLayout.XY;\n          this.stride = 2;\n          return;\n        } else {\n          coordinates = /** @type {Array} */ (coordinates[0]);\n        }\n      }\n      stride = coordinates.length;\n      layout = getLayoutForStride(stride);\n    }\n    this.layout = layout;\n    this.stride = stride;\n  };\n\n  /**\n   * @inheritDoc\n   * @api\n   */\n  SimpleGeometry.prototype.applyTransform = function applyTransform (transformFn) {\n    if (this.flatCoordinates) {\n      transformFn(this.flatCoordinates, this.flatCoordinates, this.stride);\n      this.changed();\n    }\n  };\n\n  /**\n   * @inheritDoc\n   * @api\n   */\n  SimpleGeometry.prototype.rotate = function rotate$1 (angle, anchor) {\n    var flatCoordinates = this.getFlatCoordinates();\n    if (flatCoordinates) {\n      var stride = this.getStride();\n      rotate(\n        flatCoordinates, 0, flatCoordinates.length,\n        stride, angle, anchor, flatCoordinates);\n      this.changed();\n    }\n  };\n\n  /**\n   * @inheritDoc\n   * @api\n   */\n  SimpleGeometry.prototype.scale = function scale$1 (sx, opt_sy, opt_anchor) {\n    var sy = opt_sy;\n    if (sy === undefined) {\n      sy = sx;\n    }\n    var anchor = opt_anchor;\n    if (!anchor) {\n      anchor = getCenter(this.getExtent());\n    }\n    var flatCoordinates = this.getFlatCoordinates();\n    if (flatCoordinates) {\n      var stride = this.getStride();\n      scale(\n        flatCoordinates, 0, flatCoordinates.length,\n        stride, sx, sy, anchor, flatCoordinates);\n      this.changed();\n    }\n  };\n\n  /**\n   * @inheritDoc\n   * @api\n   */\n  SimpleGeometry.prototype.translate = function translate$1 (deltaX, deltaY) {\n    var flatCoordinates = this.getFlatCoordinates();\n    if (flatCoordinates) {\n      var stride = this.getStride();\n      translate(\n        flatCoordinates, 0, flatCoordinates.length, stride,\n        deltaX, deltaY, flatCoordinates);\n      this.changed();\n    }\n  };\n\n  return SimpleGeometry;\n}(Geometry));\n\n\n/**\n * @param {number} stride Stride.\n * @return {GeometryLayout} layout Layout.\n */\nfunction getLayoutForStride(stride) {\n  var layout;\n  if (stride == 2) {\n    layout = GeometryLayout.XY;\n  } else if (stride == 3) {\n    layout = GeometryLayout.XYZ;\n  } else if (stride == 4) {\n    layout = GeometryLayout.XYZM;\n  }\n  return (\n    /** @type {GeometryLayout} */ (layout)\n  );\n}\n\n\n/**\n * @param {GeometryLayout} layout Layout.\n * @return {number} Stride.\n */\nexport function getStrideForLayout(layout) {\n  var stride;\n  if (layout == GeometryLayout.XY) {\n    stride = 2;\n  } else if (layout == GeometryLayout.XYZ || layout == GeometryLayout.XYM) {\n    stride = 3;\n  } else if (layout == GeometryLayout.XYZM) {\n    stride = 4;\n  }\n  return /** @type {number} */ (stride);\n}\n\n\n/**\n * @param {SimpleGeometry} simpleGeometry Simple geometry.\n * @param {import(\"../transform.js\").Transform} transform Transform.\n * @param {Array<number>=} opt_dest Destination.\n * @return {Array<number>} Transformed flat coordinates.\n */\nexport function transformGeom2D(simpleGeometry, transform, opt_dest) {\n  var flatCoordinates = simpleGeometry.getFlatCoordinates();\n  if (!flatCoordinates) {\n    return null;\n  } else {\n    var stride = simpleGeometry.getStride();\n    return transform2D(\n      flatCoordinates, 0, flatCoordinates.length, stride,\n      transform, opt_dest);\n  }\n}\n\nexport default SimpleGeometry;\n\n//# sourceMappingURL=SimpleGeometry.js.map","/**\n * @module ol/control/ScaleLine\n */\nimport {getChangeEventType} from '../Object.js';\nimport {assert} from '../asserts.js';\nimport Control from './Control.js';\nimport {CLASS_UNSELECTABLE} from '../css.js';\nimport {listen} from '../events.js';\nimport {getPointResolution, METERS_PER_UNIT} from '../proj.js';\nimport ProjUnits from '../proj/Units.js';\n\n\n/**\n * @type {string}\n */\nvar UNITS_PROP = 'units';\n\n/**\n * Units for the scale line. Supported values are `'degrees'`, `'imperial'`,\n * `'nautical'`, `'metric'`, `'us'`.\n * @enum {string}\n */\nexport var Units = {\n  DEGREES: 'degrees',\n  IMPERIAL: 'imperial',\n  NAUTICAL: 'nautical',\n  METRIC: 'metric',\n  US: 'us'\n};\n\n\n/**\n * @const\n * @type {Array<number>}\n */\nvar LEADING_DIGITS = [1, 2, 5];\n\n\n/**\n * @typedef {Object} Options\n * @property {string} [className='ol-scale-line'] CSS Class name.\n * @property {number} [minWidth=64] Minimum width in pixels.\n * @property {function(import(\"../MapEvent.js\").default)} [render] Function called when the control\n * should be re-rendered. This is called in a `requestAnimationFrame` callback.\n * @property {HTMLElement|string} [target] Specify a target if you want the control\n * to be rendered outside of the map's viewport.\n * @property {Units|string} [units='metric'] Units.\n */\n\n\n/**\n * @classdesc\n * A control displaying rough y-axis distances, calculated for the center of the\n * viewport. For conformal projections (e.g. EPSG:3857, the default view\n * projection in OpenLayers), the scale is valid for all directions.\n * No scale line will be shown when the y-axis distance of a pixel at the\n * viewport center cannot be calculated in the view projection.\n * By default the scale line will show in the bottom left portion of the map,\n * but this can be changed by using the css selector `.ol-scale-line`.\n *\n * @api\n */\nvar ScaleLine = /*@__PURE__*/(function (Control) {\n  function ScaleLine(opt_options) {\n\n    var options = opt_options ? opt_options : {};\n\n    var className = options.className !== undefined ? options.className : 'ol-scale-line';\n\n    Control.call(this, {\n      element: document.createElement('div'),\n      render: options.render || render,\n      target: options.target\n    });\n\n    /**\n     * @private\n     * @type {HTMLElement}\n     */\n    this.innerElement_ = document.createElement('div');\n    this.innerElement_.className = className + '-inner';\n\n    this.element.className = className + ' ' + CLASS_UNSELECTABLE;\n    this.element.appendChild(this.innerElement_);\n\n    /**\n     * @private\n     * @type {?import(\"../View.js\").State}\n     */\n    this.viewState_ = null;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.minWidth_ = options.minWidth !== undefined ? options.minWidth : 64;\n\n    /**\n     * @private\n     * @type {boolean}\n     */\n    this.renderedVisible_ = false;\n\n    /**\n     * @private\n     * @type {number|undefined}\n     */\n    this.renderedWidth_ = undefined;\n\n    /**\n     * @private\n     * @type {string}\n     */\n    this.renderedHTML_ = '';\n\n    listen(\n      this, getChangeEventType(UNITS_PROP),\n      this.handleUnitsChanged_, this);\n\n    this.setUnits(/** @type {Units} */ (options.units) || Units.METRIC);\n\n  }\n\n  if ( Control ) ScaleLine.__proto__ = Control;\n  ScaleLine.prototype = Object.create( Control && Control.prototype );\n  ScaleLine.prototype.constructor = ScaleLine;\n\n  /**\n   * Return the units to use in the scale line.\n   * @return {Units} The units\n   * to use in the scale line.\n   * @observable\n   * @api\n   */\n  ScaleLine.prototype.getUnits = function getUnits () {\n    return this.get(UNITS_PROP);\n  };\n\n  /**\n   * @private\n   */\n  ScaleLine.prototype.handleUnitsChanged_ = function handleUnitsChanged_ () {\n    this.updateElement_();\n  };\n\n  /**\n   * Set the units to use in the scale line.\n   * @param {Units} units The units to use in the scale line.\n   * @observable\n   * @api\n   */\n  ScaleLine.prototype.setUnits = function setUnits (units) {\n    this.set(UNITS_PROP, units);\n  };\n\n  /**\n   * @private\n   */\n  ScaleLine.prototype.updateElement_ = function updateElement_ () {\n    var viewState = this.viewState_;\n\n    if (!viewState) {\n      if (this.renderedVisible_) {\n        this.element.style.display = 'none';\n        this.renderedVisible_ = false;\n      }\n      return;\n    }\n\n    var center = viewState.center;\n    var projection = viewState.projection;\n    var units = this.getUnits();\n    var pointResolutionUnits = units == Units.DEGREES ?\n      ProjUnits.DEGREES :\n      ProjUnits.METERS;\n    var pointResolution =\n        getPointResolution(projection, viewState.resolution, center, pointResolutionUnits);\n    if (projection.getUnits() != ProjUnits.DEGREES && projection.getMetersPerUnit()\n      && pointResolutionUnits == ProjUnits.METERS) {\n      pointResolution *= projection.getMetersPerUnit();\n    }\n\n    var nominalCount = this.minWidth_ * pointResolution;\n    var suffix = '';\n    if (units == Units.DEGREES) {\n      var metersPerDegree = METERS_PER_UNIT[ProjUnits.DEGREES];\n      if (projection.getUnits() == ProjUnits.DEGREES) {\n        nominalCount *= metersPerDegree;\n      } else {\n        pointResolution /= metersPerDegree;\n      }\n      if (nominalCount < metersPerDegree / 60) {\n        suffix = '\\u2033'; // seconds\n        pointResolution *= 3600;\n      } else if (nominalCount < metersPerDegree) {\n        suffix = '\\u2032'; // minutes\n        pointResolution *= 60;\n      } else {\n        suffix = '\\u00b0'; // degrees\n      }\n    } else if (units == Units.IMPERIAL) {\n      if (nominalCount < 0.9144) {\n        suffix = 'in';\n        pointResolution /= 0.0254;\n      } else if (nominalCount < 1609.344) {\n        suffix = 'ft';\n        pointResolution /= 0.3048;\n      } else {\n        suffix = 'mi';\n        pointResolution /= 1609.344;\n      }\n    } else if (units == Units.NAUTICAL) {\n      pointResolution /= 1852;\n      suffix = 'nm';\n    } else if (units == Units.METRIC) {\n      if (nominalCount < 0.001) {\n        suffix = 'm';\n        pointResolution *= 1000000;\n      } else if (nominalCount < 1) {\n        suffix = 'mm';\n        pointResolution *= 1000;\n      } else if (nominalCount < 1000) {\n        suffix = 'm';\n      } else {\n        suffix = 'km';\n        pointResolution /= 1000;\n      }\n    } else if (units == Units.US) {\n      if (nominalCount < 0.9144) {\n        suffix = 'in';\n        pointResolution *= 39.37;\n      } else if (nominalCount < 1609.344) {\n        suffix = 'ft';\n        pointResolution /= 0.30480061;\n      } else {\n        suffix = 'mi';\n        pointResolution /= 1609.3472;\n      }\n    } else {\n      assert(false, 33); // Invalid units\n    }\n\n    var i = 3 * Math.floor(\n      Math.log(this.minWidth_ * pointResolution) / Math.log(10));\n    var count, width;\n    while (true) {\n      count = LEADING_DIGITS[((i % 3) + 3) % 3] *\n          Math.pow(10, Math.floor(i / 3));\n      width = Math.round(count / pointResolution);\n      if (isNaN(width)) {\n        this.element.style.display = 'none';\n        this.renderedVisible_ = false;\n        return;\n      } else if (width >= this.minWidth_) {\n        break;\n      }\n      ++i;\n    }\n\n    var html = count + ' ' + suffix;\n    if (this.renderedHTML_ != html) {\n      this.innerElement_.innerHTML = html;\n      this.renderedHTML_ = html;\n    }\n\n    if (this.renderedWidth_ != width) {\n      this.innerElement_.style.width = width + 'px';\n      this.renderedWidth_ = width;\n    }\n\n    if (!this.renderedVisible_) {\n      this.element.style.display = '';\n      this.renderedVisible_ = true;\n    }\n\n  };\n\n  return ScaleLine;\n}(Control));\n\n\n/**\n * Update the scale line element.\n * @param {import(\"../MapEvent.js\").default} mapEvent Map event.\n * @this {ScaleLine}\n * @api\n */\nexport function render(mapEvent) {\n  var frameState = mapEvent.frameState;\n  if (!frameState) {\n    this.viewState_ = null;\n  } else {\n    this.viewState_ = frameState.viewState;\n  }\n  this.updateElement_();\n}\n\n\nexport default ScaleLine;\n\n//# sourceMappingURL=ScaleLine.js.map","/**\n * @module ol/array\n */\n\n\n/**\n * Performs a binary search on the provided sorted list and returns the index of the item if found. If it can't be found it'll return -1.\n * https://github.com/darkskyapp/binary-search\n *\n * @param {Array<*>} haystack Items to search through.\n * @param {*} needle The item to look for.\n * @param {Function=} opt_comparator Comparator function.\n * @return {number} The index of the item if found, -1 if not.\n */\nexport function binarySearch(haystack, needle, opt_comparator) {\n  var mid, cmp;\n  var comparator = opt_comparator || numberSafeCompareFunction;\n  var low = 0;\n  var high = haystack.length;\n  var found = false;\n\n  while (low < high) {\n    /* Note that \"(low + high) >>> 1\" may overflow, and results in a typecast\n     * to double (which gives the wrong results). */\n    mid = low + (high - low >> 1);\n    cmp = +comparator(haystack[mid], needle);\n\n    if (cmp < 0.0) { /* Too low. */\n      low = mid + 1;\n\n    } else { /* Key found or too high */\n      high = mid;\n      found = !cmp;\n    }\n  }\n\n  /* Key not found. */\n  return found ? low : ~low;\n}\n\n\n/**\n * Compare function for array sort that is safe for numbers.\n * @param {*} a The first object to be compared.\n * @param {*} b The second object to be compared.\n * @return {number} A negative number, zero, or a positive number as the first\n *     argument is less than, equal to, or greater than the second.\n */\nexport function numberSafeCompareFunction(a, b) {\n  return a > b ? 1 : a < b ? -1 : 0;\n}\n\n\n/**\n * Whether the array contains the given object.\n * @param {Array<*>} arr The array to test for the presence of the element.\n * @param {*} obj The object for which to test.\n * @return {boolean} The object is in the array.\n */\nexport function includes(arr, obj) {\n  return arr.indexOf(obj) >= 0;\n}\n\n\n/**\n * @param {Array<number>} arr Array.\n * @param {number} target Target.\n * @param {number} direction 0 means return the nearest, > 0\n *    means return the largest nearest, < 0 means return the\n *    smallest nearest.\n * @return {number} Index.\n */\nexport function linearFindNearest(arr, target, direction) {\n  var n = arr.length;\n  if (arr[0] <= target) {\n    return 0;\n  } else if (target <= arr[n - 1]) {\n    return n - 1;\n  } else {\n    var i;\n    if (direction > 0) {\n      for (i = 1; i < n; ++i) {\n        if (arr[i] < target) {\n          return i - 1;\n        }\n      }\n    } else if (direction < 0) {\n      for (i = 1; i < n; ++i) {\n        if (arr[i] <= target) {\n          return i;\n        }\n      }\n    } else {\n      for (i = 1; i < n; ++i) {\n        if (arr[i] == target) {\n          return i;\n        } else if (arr[i] < target) {\n          if (arr[i - 1] - target < target - arr[i]) {\n            return i - 1;\n          } else {\n            return i;\n          }\n        }\n      }\n    }\n    return n - 1;\n  }\n}\n\n\n/**\n * @param {Array<*>} arr Array.\n * @param {number} begin Begin index.\n * @param {number} end End index.\n */\nexport function reverseSubArray(arr, begin, end) {\n  while (begin < end) {\n    var tmp = arr[begin];\n    arr[begin] = arr[end];\n    arr[end] = tmp;\n    ++begin;\n    --end;\n  }\n}\n\n\n/**\n * @param {Array<VALUE>} arr The array to modify.\n * @param {!Array<VALUE>|VALUE} data The elements or arrays of elements to add to arr.\n * @template VALUE\n */\nexport function extend(arr, data) {\n  var extension = Array.isArray(data) ? data : [data];\n  var length = extension.length;\n  for (var i = 0; i < length; i++) {\n    arr[arr.length] = extension[i];\n  }\n}\n\n\n/**\n * @param {Array<VALUE>} arr The array to modify.\n * @param {VALUE} obj The element to remove.\n * @template VALUE\n * @return {boolean} If the element was removed.\n */\nexport function remove(arr, obj) {\n  var i = arr.indexOf(obj);\n  var found = i > -1;\n  if (found) {\n    arr.splice(i, 1);\n  }\n  return found;\n}\n\n\n/**\n * @param {Array<VALUE>} arr The array to search in.\n * @param {function(VALUE, number, ?) : boolean} func The function to compare.\n * @template VALUE\n * @return {VALUE|null} The element found or null.\n */\nexport function find(arr, func) {\n  var length = arr.length >>> 0;\n  var value;\n\n  for (var i = 0; i < length; i++) {\n    value = arr[i];\n    if (func(value, i, arr)) {\n      return value;\n    }\n  }\n  return null;\n}\n\n\n/**\n * @param {Array|Uint8ClampedArray} arr1 The first array to compare.\n * @param {Array|Uint8ClampedArray} arr2 The second array to compare.\n * @return {boolean} Whether the two arrays are equal.\n */\nexport function equals(arr1, arr2) {\n  var len1 = arr1.length;\n  if (len1 !== arr2.length) {\n    return false;\n  }\n  for (var i = 0; i < len1; i++) {\n    if (arr1[i] !== arr2[i]) {\n      return false;\n    }\n  }\n  return true;\n}\n\n\n/**\n * Sort the passed array such that the relative order of equal elements is preverved.\n * See https://en.wikipedia.org/wiki/Sorting_algorithm#Stability for details.\n * @param {Array<*>} arr The array to sort (modifies original).\n * @param {!function(*, *): number} compareFnc Comparison function.\n * @api\n */\nexport function stableSort(arr, compareFnc) {\n  var length = arr.length;\n  var tmp = Array(arr.length);\n  var i;\n  for (i = 0; i < length; i++) {\n    tmp[i] = {index: i, value: arr[i]};\n  }\n  tmp.sort(function(a, b) {\n    return compareFnc(a.value, b.value) || a.index - b.index;\n  });\n  for (i = 0; i < arr.length; i++) {\n    arr[i] = tmp[i].value;\n  }\n}\n\n\n/**\n * @param {Array<*>} arr The array to search in.\n * @param {Function} func Comparison function.\n * @return {number} Return index.\n */\nexport function findIndex(arr, func) {\n  var index;\n  var found = !arr.every(function(el, idx) {\n    index = idx;\n    return !func(el, idx, arr);\n  });\n  return found ? index : -1;\n}\n\n\n/**\n * @param {Array<*>} arr The array to test.\n * @param {Function=} opt_func Comparison function.\n * @param {boolean=} opt_strict Strictly sorted (default false).\n * @return {boolean} Return index.\n */\nexport function isSorted(arr, opt_func, opt_strict) {\n  var compare = opt_func || numberSafeCompareFunction;\n  return arr.every(function(currentVal, index) {\n    if (index === 0) {\n      return true;\n    }\n    var res = compare(arr[index - 1], currentVal);\n    return !(res > 0 || opt_strict && res === 0);\n  });\n}\n\n//# sourceMappingURL=array.js.map","/**\n * @module ol/centerconstraint\n */\nimport {clamp} from './math.js';\n\n\n/**\n * @typedef {function((import(\"./coordinate.js\").Coordinate|undefined)): (import(\"./coordinate.js\").Coordinate|undefined)} Type\n */\n\n\n/**\n * @param {import(\"./extent.js\").Extent} extent Extent.\n * @return {Type} The constraint.\n */\nexport function createExtent(extent) {\n  return (\n    /**\n     * @param {import(\"./coordinate.js\").Coordinate=} center Center.\n     * @return {import(\"./coordinate.js\").Coordinate|undefined} Center.\n     */\n    function(center) {\n      if (center) {\n        return [\n          clamp(center[0], extent[0], extent[2]),\n          clamp(center[1], extent[1], extent[3])\n        ];\n      } else {\n        return undefined;\n      }\n    }\n  );\n}\n\n\n/**\n * @param {import(\"./coordinate.js\").Coordinate=} center Center.\n * @return {import(\"./coordinate.js\").Coordinate|undefined} Center.\n */\nexport function none(center) {\n  return center;\n}\n\n//# sourceMappingURL=centerconstraint.js.map","/**\n * @module ol/ViewProperty\n */\n\n/**\n * @enum {string}\n */\nexport default {\n  CENTER: 'center',\n  RESOLUTION: 'resolution',\n  ROTATION: 'rotation'\n};\n\n//# sourceMappingURL=ViewProperty.js.map","/**\n * @module ol/View\n */\nimport {DEFAULT_TILE_SIZE} from './tilegrid/common.js';\nimport {getUid} from './util.js';\nimport {VOID} from './functions.js';\nimport {createExtent, none as centerNone} from './centerconstraint.js';\nimport BaseObject from './Object.js';\nimport {createSnapToResolutions, createSnapToPower} from './resolutionconstraint.js';\nimport {createSnapToZero, createSnapToN, none as rotationNone, disable} from './rotationconstraint.js';\nimport ViewHint from './ViewHint.js';\nimport ViewProperty from './ViewProperty.js';\nimport {linearFindNearest} from './array.js';\nimport {assert} from './asserts.js';\nimport {add as addCoordinate, rotate as rotateCoordinate, equals as coordinatesEqual} from './coordinate.js';\nimport {inAndOut} from './easing.js';\nimport {getForViewAndSize, getCenter, getHeight, getWidth, isEmpty} from './extent.js';\nimport GeometryType from './geom/GeometryType.js';\nimport {fromExtent as polygonFromExtent} from './geom/Polygon.js';\nimport {clamp, modulo} from './math.js';\nimport {assign} from './obj.js';\nimport {createProjection, METERS_PER_UNIT} from './proj.js';\nimport Units from './proj/Units.js';\n\n\n/**\n * An animation configuration\n *\n * @typedef {Object} Animation\n * @property {import(\"./coordinate.js\").Coordinate} [sourceCenter]\n * @property {import(\"./coordinate.js\").Coordinate} [targetCenter]\n * @property {number} [sourceResolution]\n * @property {number} [targetResolution]\n * @property {number} [sourceRotation]\n * @property {number} [targetRotation]\n * @property {import(\"./coordinate.js\").Coordinate} [anchor]\n * @property {number} start\n * @property {number} duration\n * @property {boolean} complete\n * @property {function(number):number} easing\n * @property {function(boolean)} callback\n */\n\n\n/**\n * @typedef {Object} Constraints\n * @property {import(\"./centerconstraint.js\").Type} center\n * @property {import(\"./resolutionconstraint.js\").Type} resolution\n * @property {import(\"./rotationconstraint.js\").Type} rotation\n */\n\n\n/**\n * @typedef {Object} FitOptions\n * @property {import(\"./size.js\").Size} [size] The size in pixels of the box to fit\n * the extent into. Default is the current size of the first map in the DOM that\n * uses this view, or `[100, 100]` if no such map is found.\n * @property {!Array<number>} [padding=[0, 0, 0, 0]] Padding (in pixels) to be\n * cleared inside the view. Values in the array are top, right, bottom and left\n * padding.\n * @property {boolean} [constrainResolution=true] Constrain the resolution.\n * @property {boolean} [nearest=false] If `constrainResolution` is `true`, get\n * the nearest extent instead of the closest that actually fits the view.\n * @property {number} [minResolution=0] Minimum resolution that we zoom to.\n * @property {number} [maxZoom] Maximum zoom level that we zoom to. If\n * `minResolution` is given, this property is ignored.\n * @property {number} [duration] The duration of the animation in milliseconds.\n * By default, there is no animation to the target extent.\n * @property {function(number):number} [easing] The easing function used during\n * the animation (defaults to {@link module:ol/easing~inAndOut}).\n * The function will be called for each frame with a number representing a\n * fraction of the animation's duration.  The function should return a number\n * between 0 and 1 representing the progress toward the destination state.\n * @property {function(boolean)} [callback] Function called when the view is in\n * its final position. The callback will be called with `true` if the animation\n * series completed on its own or `false` if it was cancelled.\n */\n\n\n/**\n * @typedef {Object} ViewOptions\n * @property {import(\"./coordinate.js\").Coordinate} [center] The initial center for\n * the view. The coordinate system for the center is specified with the\n * `projection` option. Layer sources will not be fetched if this is not set,\n * but the center can be set later with {@link #setCenter}.\n * @property {boolean|number} [constrainRotation=true] Rotation constraint.\n * `false` means no constraint. `true` means no constraint, but snap to zero\n * near zero. A number constrains the rotation to that number of values. For\n * example, `4` will constrain the rotation to 0, 90, 180, and 270 degrees.\n * @property {boolean} [enableRotation=true] Enable rotation.\n * If `false`, a rotation constraint that always sets the rotation to zero is\n * used. The `constrainRotation` option has no effect if `enableRotation` is\n * `false`.\n * @property {import(\"./extent.js\").Extent} [extent] The extent that constrains the\n * center, in other words, center cannot be set outside this extent.\n * @property {number} [maxResolution] The maximum resolution used to determine\n * the resolution constraint. It is used together with `minResolution` (or\n * `maxZoom`) and `zoomFactor`. If unspecified it is calculated in such a way\n * that the projection's validity extent fits in a 256x256 px tile. If the\n * projection is Spherical Mercator (the default) then `maxResolution` defaults\n * to `40075016.68557849 / 256 = 156543.03392804097`.\n * @property {number} [minResolution] The minimum resolution used to determine\n * the resolution constraint.  It is used together with `maxResolution` (or\n * `minZoom`) and `zoomFactor`.  If unspecified it is calculated assuming 29\n * zoom levels (with a factor of 2). If the projection is Spherical Mercator\n * (the default) then `minResolution` defaults to\n * `40075016.68557849 / 256 / Math.pow(2, 28) = 0.0005831682455839253`.\n * @property {number} [maxZoom=28] The maximum zoom level used to determine the\n * resolution constraint. It is used together with `minZoom` (or\n * `maxResolution`) and `zoomFactor`.  Note that if `minResolution` is also\n * provided, it is given precedence over `maxZoom`.\n * @property {number} [minZoom=0] The minimum zoom level used to determine the\n * resolution constraint. It is used together with `maxZoom` (or\n * `minResolution`) and `zoomFactor`.  Note that if `maxResolution` is also\n * provided, it is given precedence over `minZoom`.\n * @property {import(\"./proj.js\").ProjectionLike} [projection='EPSG:3857'] The\n * projection. The default is Spherical Mercator.\n * @property {number} [resolution] The initial resolution for the view. The\n * units are `projection` units per pixel (e.g. meters per pixel). An\n * alternative to setting this is to set `zoom`. Layer sources will not be\n * fetched if neither this nor `zoom` are defined, but they can be set later\n * with {@link #setZoom} or {@link #setResolution}.\n * @property {Array<number>} [resolutions] Resolutions to determine the\n * resolution constraint. If set the `maxResolution`, `minResolution`,\n * `minZoom`, `maxZoom`, and `zoomFactor` options are ignored.\n * @property {number} [rotation=0] The initial rotation for the view in radians\n * (positive rotation clockwise, 0 means North).\n * @property {number} [zoom] Only used if `resolution` is not defined. Zoom\n * level used to calculate the initial resolution for the view. The initial\n * resolution is determined using the {@link #constrainResolution} method.\n * @property {number} [zoomFactor=2] The zoom factor used to determine the\n * resolution constraint.\n */\n\n\n/**\n * @typedef {Object} AnimationOptions\n * @property {import(\"./coordinate.js\").Coordinate} [center] The center of the view at the end of\n * the animation.\n * @property {number} [zoom] The zoom level of the view at the end of the\n * animation. This takes precedence over `resolution`.\n * @property {number} [resolution] The resolution of the view at the end\n * of the animation.  If `zoom` is also provided, this option will be ignored.\n * @property {number} [rotation] The rotation of the view at the end of\n * the animation.\n * @property {import(\"./coordinate.js\").Coordinate} [anchor] Optional anchor to remained fixed\n * during a rotation or resolution animation.\n * @property {number} [duration=1000] The duration of the animation in milliseconds.\n * @property {function(number):number} [easing] The easing function used\n * during the animation (defaults to {@link module:ol/easing~inAndOut}).\n * The function will be called for each frame with a number representing a\n * fraction of the animation's duration.  The function should return a number\n * between 0 and 1 representing the progress toward the destination state.\n */\n\n\n/**\n * @typedef {Object} State\n * @property {import(\"./coordinate.js\").Coordinate} center\n * @property {import(\"./proj/Projection.js\").default} projection\n * @property {number} resolution\n * @property {number} rotation\n * @property {number} zoom\n */\n\n\n/**\n * Default min zoom level for the map view.\n * @type {number}\n */\nvar DEFAULT_MIN_ZOOM = 0;\n\n\n/**\n * @classdesc\n * A View object represents a simple 2D view of the map.\n *\n * This is the object to act upon to change the center, resolution,\n * and rotation of the map.\n *\n * ### The view states\n *\n * An View is determined by three states: `center`, `resolution`,\n * and `rotation`. Each state has a corresponding getter and setter, e.g.\n * `getCenter` and `setCenter` for the `center` state.\n *\n * An View has a `projection`. The projection determines the\n * coordinate system of the center, and its units determine the units of the\n * resolution (projection units per pixel). The default projection is\n * Spherical Mercator (EPSG:3857).\n *\n * ### The constraints\n *\n * `setCenter`, `setResolution` and `setRotation` can be used to change the\n * states of the view. Any value can be passed to the setters. And the value\n * that is passed to a setter will effectively be the value set in the view,\n * and returned by the corresponding getter.\n *\n * But a View object also has a *resolution constraint*, a\n * *rotation constraint* and a *center constraint*.\n *\n * As said above, no constraints are applied when the setters are used to set\n * new states for the view. Applying constraints is done explicitly through\n * the use of the `constrain*` functions (`constrainResolution` and\n * `constrainRotation` and `constrainCenter`).\n *\n * The main users of the constraints are the interactions and the\n * controls. For example, double-clicking on the map changes the view to\n * the \"next\" resolution. And releasing the fingers after pinch-zooming\n * snaps to the closest resolution (with an animation).\n *\n * The *resolution constraint* snaps to specific resolutions. It is\n * determined by the following options: `resolutions`, `maxResolution`,\n * `maxZoom`, and `zoomFactor`. If `resolutions` is set, the other three\n * options are ignored. See documentation for each option for more\n * information.\n *\n * The *rotation constraint* snaps to specific angles. It is determined\n * by the following options: `enableRotation` and `constrainRotation`.\n * By default the rotation value is snapped to zero when approaching the\n * horizontal.\n *\n * The *center constraint* is determined by the `extent` option. By\n * default the center is not constrained at all.\n *\n  * @api\n */\nvar View = /*@__PURE__*/(function (BaseObject) {\n  function View(opt_options) {\n    BaseObject.call(this);\n\n    var options = assign({}, opt_options);\n\n    /**\n     * @private\n     * @type {Array<number>}\n     */\n    this.hints_ = [0, 0];\n\n    /**\n     * @private\n     * @type {Array<Array<Animation>>}\n     */\n    this.animations_ = [];\n\n    /**\n     * @private\n     * @type {number|undefined}\n     */\n    this.updateAnimationKey_;\n\n    this.updateAnimations_ = this.updateAnimations_.bind(this);\n\n    /**\n     * @private\n     * @const\n     * @type {import(\"./proj/Projection.js\").default}\n     */\n    this.projection_ = createProjection(options.projection, 'EPSG:3857');\n\n    this.applyOptions_(options);\n  }\n\n  if ( BaseObject ) View.__proto__ = BaseObject;\n  View.prototype = Object.create( BaseObject && BaseObject.prototype );\n  View.prototype.constructor = View;\n\n  /**\n   * Set up the view with the given options.\n   * @param {ViewOptions} options View options.\n   */\n  View.prototype.applyOptions_ = function applyOptions_ (options) {\n\n    /**\n     * @type {Object<string, *>}\n     */\n    var properties = {};\n    properties[ViewProperty.CENTER] = options.center !== undefined ?\n      options.center : null;\n\n    var resolutionConstraintInfo = createResolutionConstraint(options);\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.maxResolution_ = resolutionConstraintInfo.maxResolution;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.minResolution_ = resolutionConstraintInfo.minResolution;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.zoomFactor_ = resolutionConstraintInfo.zoomFactor;\n\n    /**\n     * @private\n     * @type {Array<number>|undefined}\n     */\n    this.resolutions_ = options.resolutions;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.minZoom_ = resolutionConstraintInfo.minZoom;\n\n    var centerConstraint = createCenterConstraint(options);\n    var resolutionConstraint = resolutionConstraintInfo.constraint;\n    var rotationConstraint = createRotationConstraint(options);\n\n    /**\n     * @private\n     * @type {Constraints}\n     */\n    this.constraints_ = {\n      center: centerConstraint,\n      resolution: resolutionConstraint,\n      rotation: rotationConstraint\n    };\n\n    if (options.resolution !== undefined) {\n      properties[ViewProperty.RESOLUTION] = options.resolution;\n    } else if (options.zoom !== undefined) {\n      properties[ViewProperty.RESOLUTION] = this.constrainResolution(\n        this.maxResolution_, options.zoom - this.minZoom_);\n\n      if (this.resolutions_) { // in case map zoom is out of min/max zoom range\n        properties[ViewProperty.RESOLUTION] = clamp(\n          Number(this.getResolution() || properties[ViewProperty.RESOLUTION]),\n          this.minResolution_, this.maxResolution_);\n      }\n    }\n    properties[ViewProperty.ROTATION] = options.rotation !== undefined ? options.rotation : 0;\n    this.setProperties(properties);\n\n    /**\n     * @private\n     * @type {ViewOptions}\n     */\n    this.options_ = options;\n\n  };\n\n  /**\n   * Get an updated version of the view options used to construct the view.  The\n   * current resolution (or zoom), center, and rotation are applied to any stored\n   * options.  The provided options can be used to apply new min/max zoom or\n   * resolution limits.\n   * @param {ViewOptions} newOptions New options to be applied.\n   * @return {ViewOptions} New options updated with the current view state.\n   */\n  View.prototype.getUpdatedOptions_ = function getUpdatedOptions_ (newOptions) {\n    var options = assign({}, this.options_);\n\n    // preserve resolution (or zoom)\n    if (options.resolution !== undefined) {\n      options.resolution = this.getResolution();\n    } else {\n      options.zoom = this.getZoom();\n    }\n\n    // preserve center\n    options.center = this.getCenter();\n\n    // preserve rotation\n    options.rotation = this.getRotation();\n\n    return assign({}, options, newOptions);\n  };\n\n  /**\n   * Animate the view.  The view's center, zoom (or resolution), and rotation\n   * can be animated for smooth transitions between view states.  For example,\n   * to animate the view to a new zoom level:\n   *\n   *     view.animate({zoom: view.getZoom() + 1});\n   *\n   * By default, the animation lasts one second and uses in-and-out easing.  You\n   * can customize this behavior by including `duration` (in milliseconds) and\n   * `easing` options (see {@link module:ol/easing}).\n   *\n   * To chain together multiple animations, call the method with multiple\n   * animation objects.  For example, to first zoom and then pan:\n   *\n   *     view.animate({zoom: 10}, {center: [0, 0]});\n   *\n   * If you provide a function as the last argument to the animate method, it\n   * will get called at the end of an animation series.  The callback will be\n   * called with `true` if the animation series completed on its own or `false`\n   * if it was cancelled.\n   *\n   * Animations are cancelled by user interactions (e.g. dragging the map) or by\n   * calling `view.setCenter()`, `view.setResolution()`, or `view.setRotation()`\n   * (or another method that calls one of these).\n   *\n   * @param {...(AnimationOptions|function(boolean))} var_args Animation\n   *     options.  Multiple animations can be run in series by passing multiple\n   *     options objects.  To run multiple animations in parallel, call the method\n   *     multiple times.  An optional callback can be provided as a final\n   *     argument.  The callback will be called with a boolean indicating whether\n   *     the animation completed without being cancelled.\n   * @api\n   */\n  View.prototype.animate = function animate (var_args) {\n    var arguments$1 = arguments;\n\n    var animationCount = arguments.length;\n    var callback;\n    if (animationCount > 1 && typeof arguments[animationCount - 1] === 'function') {\n      callback = arguments[animationCount - 1];\n      --animationCount;\n    }\n    if (!this.isDef()) {\n      // if view properties are not yet set, shortcut to the final state\n      var state = arguments[animationCount - 1];\n      if (state.center) {\n        this.setCenter(state.center);\n      }\n      if (state.zoom !== undefined) {\n        this.setZoom(state.zoom);\n      }\n      if (state.rotation !== undefined) {\n        this.setRotation(state.rotation);\n      }\n      if (callback) {\n        animationCallback(callback, true);\n      }\n      return;\n    }\n    var start = Date.now();\n    var center = this.getCenter().slice();\n    var resolution = this.getResolution();\n    var rotation = this.getRotation();\n    var series = [];\n    for (var i = 0; i < animationCount; ++i) {\n      var options = /** @type {AnimationOptions} */ (arguments$1[i]);\n\n      var animation = /** @type {Animation} */ ({\n        start: start,\n        complete: false,\n        anchor: options.anchor,\n        duration: options.duration !== undefined ? options.duration : 1000,\n        easing: options.easing || inAndOut\n      });\n\n      if (options.center) {\n        animation.sourceCenter = center;\n        animation.targetCenter = options.center;\n        center = animation.targetCenter;\n      }\n\n      if (options.zoom !== undefined) {\n        animation.sourceResolution = resolution;\n        animation.targetResolution = this.constrainResolution(\n          this.maxResolution_, options.zoom - this.minZoom_, 0);\n        resolution = animation.targetResolution;\n      } else if (options.resolution) {\n        animation.sourceResolution = resolution;\n        animation.targetResolution = options.resolution;\n        resolution = animation.targetResolution;\n      }\n\n      if (options.rotation !== undefined) {\n        animation.sourceRotation = rotation;\n        var delta = modulo(options.rotation - rotation + Math.PI, 2 * Math.PI) - Math.PI;\n        animation.targetRotation = rotation + delta;\n        rotation = animation.targetRotation;\n      }\n\n      animation.callback = callback;\n\n      // check if animation is a no-op\n      if (isNoopAnimation(animation)) {\n        animation.complete = true;\n        // we still push it onto the series for callback handling\n      } else {\n        start += animation.duration;\n      }\n      series.push(animation);\n    }\n    this.animations_.push(series);\n    this.setHint(ViewHint.ANIMATING, 1);\n    this.updateAnimations_();\n  };\n\n  /**\n   * Determine if the view is being animated.\n   * @return {boolean} The view is being animated.\n   * @api\n   */\n  View.prototype.getAnimating = function getAnimating () {\n    return this.hints_[ViewHint.ANIMATING] > 0;\n  };\n\n  /**\n   * Determine if the user is interacting with the view, such as panning or zooming.\n   * @return {boolean} The view is being interacted with.\n   * @api\n   */\n  View.prototype.getInteracting = function getInteracting () {\n    return this.hints_[ViewHint.INTERACTING] > 0;\n  };\n\n  /**\n   * Cancel any ongoing animations.\n   * @api\n   */\n  View.prototype.cancelAnimations = function cancelAnimations () {\n    this.setHint(ViewHint.ANIMATING, -this.hints_[ViewHint.ANIMATING]);\n    for (var i = 0, ii = this.animations_.length; i < ii; ++i) {\n      var series = this.animations_[i];\n      if (series[0].callback) {\n        animationCallback(series[0].callback, false);\n      }\n    }\n    this.animations_.length = 0;\n  };\n\n  /**\n   * Update all animations.\n   */\n  View.prototype.updateAnimations_ = function updateAnimations_ () {\n    if (this.updateAnimationKey_ !== undefined) {\n      cancelAnimationFrame(this.updateAnimationKey_);\n      this.updateAnimationKey_ = undefined;\n    }\n    if (!this.getAnimating()) {\n      return;\n    }\n    var now = Date.now();\n    var more = false;\n    for (var i = this.animations_.length - 1; i >= 0; --i) {\n      var series = this.animations_[i];\n      var seriesComplete = true;\n      for (var j = 0, jj = series.length; j < jj; ++j) {\n        var animation = series[j];\n        if (animation.complete) {\n          continue;\n        }\n        var elapsed = now - animation.start;\n        var fraction = animation.duration > 0 ? elapsed / animation.duration : 1;\n        if (fraction >= 1) {\n          animation.complete = true;\n          fraction = 1;\n        } else {\n          seriesComplete = false;\n        }\n        var progress = animation.easing(fraction);\n        if (animation.sourceCenter) {\n          var x0 = animation.sourceCenter[0];\n          var y0 = animation.sourceCenter[1];\n          var x1 = animation.targetCenter[0];\n          var y1 = animation.targetCenter[1];\n          var x = x0 + progress * (x1 - x0);\n          var y = y0 + progress * (y1 - y0);\n          this.set(ViewProperty.CENTER, [x, y]);\n        }\n        if (animation.sourceResolution && animation.targetResolution) {\n          var resolution = progress === 1 ?\n            animation.targetResolution :\n            animation.sourceResolution + progress * (animation.targetResolution - animation.sourceResolution);\n          if (animation.anchor) {\n            this.set(ViewProperty.CENTER,\n              this.calculateCenterZoom(resolution, animation.anchor));\n          }\n          this.set(ViewProperty.RESOLUTION, resolution);\n        }\n        if (animation.sourceRotation !== undefined && animation.targetRotation !== undefined) {\n          var rotation = progress === 1 ?\n            modulo(animation.targetRotation + Math.PI, 2 * Math.PI) - Math.PI :\n            animation.sourceRotation + progress * (animation.targetRotation - animation.sourceRotation);\n          if (animation.anchor) {\n            this.set(ViewProperty.CENTER,\n              this.calculateCenterRotate(rotation, animation.anchor));\n          }\n          this.set(ViewProperty.ROTATION, rotation);\n        }\n        more = true;\n        if (!animation.complete) {\n          break;\n        }\n      }\n      if (seriesComplete) {\n        this.animations_[i] = null;\n        this.setHint(ViewHint.ANIMATING, -1);\n        var callback = series[0].callback;\n        if (callback) {\n          animationCallback(callback, true);\n        }\n      }\n    }\n    // prune completed series\n    this.animations_ = this.animations_.filter(Boolean);\n    if (more && this.updateAnimationKey_ === undefined) {\n      this.updateAnimationKey_ = requestAnimationFrame(this.updateAnimations_);\n    }\n  };\n\n  /**\n   * @param {number} rotation Target rotation.\n   * @param {import(\"./coordinate.js\").Coordinate} anchor Rotation anchor.\n   * @return {import(\"./coordinate.js\").Coordinate|undefined} Center for rotation and anchor.\n   */\n  View.prototype.calculateCenterRotate = function calculateCenterRotate (rotation, anchor) {\n    var center;\n    var currentCenter = this.getCenter();\n    if (currentCenter !== undefined) {\n      center = [currentCenter[0] - anchor[0], currentCenter[1] - anchor[1]];\n      rotateCoordinate(center, rotation - this.getRotation());\n      addCoordinate(center, anchor);\n    }\n    return center;\n  };\n\n  /**\n   * @param {number} resolution Target resolution.\n   * @param {import(\"./coordinate.js\").Coordinate} anchor Zoom anchor.\n   * @return {import(\"./coordinate.js\").Coordinate|undefined} Center for resolution and anchor.\n   */\n  View.prototype.calculateCenterZoom = function calculateCenterZoom (resolution, anchor) {\n    var center;\n    var currentCenter = this.getCenter();\n    var currentResolution = this.getResolution();\n    if (currentCenter !== undefined && currentResolution !== undefined) {\n      var x = anchor[0] - resolution * (anchor[0] - currentCenter[0]) / currentResolution;\n      var y = anchor[1] - resolution * (anchor[1] - currentCenter[1]) / currentResolution;\n      center = [x, y];\n    }\n    return center;\n  };\n\n  /**\n   * @private\n   * @return {import(\"./size.js\").Size} Viewport size or `[100, 100]` when no viewport is found.\n   */\n  View.prototype.getSizeFromViewport_ = function getSizeFromViewport_ () {\n    var size = [100, 100];\n    var selector = '.ol-viewport[data-view=\"' + getUid(this) + '\"]';\n    var element = document.querySelector(selector);\n    if (element) {\n      var metrics = getComputedStyle(element);\n      size[0] = parseInt(metrics.width, 10);\n      size[1] = parseInt(metrics.height, 10);\n    }\n    return size;\n  };\n\n  /**\n   * Get the constrained center of this view.\n   * @param {import(\"./coordinate.js\").Coordinate|undefined} center Center.\n   * @return {import(\"./coordinate.js\").Coordinate|undefined} Constrained center.\n   * @api\n   */\n  View.prototype.constrainCenter = function constrainCenter (center) {\n    return this.constraints_.center(center);\n  };\n\n  /**\n   * Get the constrained resolution of this view.\n   * @param {number|undefined} resolution Resolution.\n   * @param {number=} opt_delta Delta. Default is `0`.\n   * @param {number=} opt_direction Direction. Default is `0`.\n   * @return {number|undefined} Constrained resolution.\n   * @api\n   */\n  View.prototype.constrainResolution = function constrainResolution (resolution, opt_delta, opt_direction) {\n    var delta = opt_delta || 0;\n    var direction = opt_direction || 0;\n    return this.constraints_.resolution(resolution, delta, direction);\n  };\n\n  /**\n   * Get the constrained rotation of this view.\n   * @param {number|undefined} rotation Rotation.\n   * @param {number=} opt_delta Delta. Default is `0`.\n   * @return {number|undefined} Constrained rotation.\n   * @api\n   */\n  View.prototype.constrainRotation = function constrainRotation (rotation, opt_delta) {\n    var delta = opt_delta || 0;\n    return this.constraints_.rotation(rotation, delta);\n  };\n\n  /**\n   * Get the view center.\n   * @return {import(\"./coordinate.js\").Coordinate|undefined} The center of the view.\n   * @observable\n   * @api\n   */\n  View.prototype.getCenter = function getCenter () {\n    return (\n      /** @type {import(\"./coordinate.js\").Coordinate|undefined} */ (this.get(ViewProperty.CENTER))\n    );\n  };\n\n  /**\n   * @return {Constraints} Constraints.\n   */\n  View.prototype.getConstraints = function getConstraints () {\n    return this.constraints_;\n  };\n\n  /**\n   * @param {Array<number>=} opt_hints Destination array.\n   * @return {Array<number>} Hint.\n   */\n  View.prototype.getHints = function getHints (opt_hints) {\n    if (opt_hints !== undefined) {\n      opt_hints[0] = this.hints_[0];\n      opt_hints[1] = this.hints_[1];\n      return opt_hints;\n    } else {\n      return this.hints_.slice();\n    }\n  };\n\n  /**\n   * Calculate the extent for the current view state and the passed size.\n   * The size is the pixel dimensions of the box into which the calculated extent\n   * should fit. In most cases you want to get the extent of the entire map,\n   * that is `map.getSize()`.\n   * @param {import(\"./size.js\").Size=} opt_size Box pixel size. If not provided, the size of the\n   * first map that uses this view will be used.\n   * @return {import(\"./extent.js\").Extent} Extent.\n   * @api\n   */\n  View.prototype.calculateExtent = function calculateExtent (opt_size) {\n    var size = opt_size || this.getSizeFromViewport_();\n    var center = /** @type {!import(\"./coordinate.js\").Coordinate} */ (this.getCenter());\n    assert(center, 1); // The view center is not defined\n    var resolution = /** @type {!number} */ (this.getResolution());\n    assert(resolution !== undefined, 2); // The view resolution is not defined\n    var rotation = /** @type {!number} */ (this.getRotation());\n    assert(rotation !== undefined, 3); // The view rotation is not defined\n\n    return getForViewAndSize(center, resolution, rotation, size);\n  };\n\n  /**\n   * Get the maximum resolution of the view.\n   * @return {number} The maximum resolution of the view.\n   * @api\n   */\n  View.prototype.getMaxResolution = function getMaxResolution () {\n    return this.maxResolution_;\n  };\n\n  /**\n   * Get the minimum resolution of the view.\n   * @return {number} The minimum resolution of the view.\n   * @api\n   */\n  View.prototype.getMinResolution = function getMinResolution () {\n    return this.minResolution_;\n  };\n\n  /**\n   * Get the maximum zoom level for the view.\n   * @return {number} The maximum zoom level.\n   * @api\n   */\n  View.prototype.getMaxZoom = function getMaxZoom () {\n    return /** @type {number} */ (this.getZoomForResolution(this.minResolution_));\n  };\n\n  /**\n   * Set a new maximum zoom level for the view.\n   * @param {number} zoom The maximum zoom level.\n   * @api\n   */\n  View.prototype.setMaxZoom = function setMaxZoom (zoom) {\n    this.applyOptions_(this.getUpdatedOptions_({maxZoom: zoom}));\n  };\n\n  /**\n   * Get the minimum zoom level for the view.\n   * @return {number} The minimum zoom level.\n   * @api\n   */\n  View.prototype.getMinZoom = function getMinZoom () {\n    return /** @type {number} */ (this.getZoomForResolution(this.maxResolution_));\n  };\n\n  /**\n   * Set a new minimum zoom level for the view.\n   * @param {number} zoom The minimum zoom level.\n   * @api\n   */\n  View.prototype.setMinZoom = function setMinZoom (zoom) {\n    this.applyOptions_(this.getUpdatedOptions_({minZoom: zoom}));\n  };\n\n  /**\n   * Get the view projection.\n   * @return {import(\"./proj/Projection.js\").default} The projection of the view.\n   * @api\n   */\n  View.prototype.getProjection = function getProjection () {\n    return this.projection_;\n  };\n\n  /**\n   * Get the view resolution.\n   * @return {number|undefined} The resolution of the view.\n   * @observable\n   * @api\n   */\n  View.prototype.getResolution = function getResolution () {\n    return /** @type {number|undefined} */ (this.get(ViewProperty.RESOLUTION));\n  };\n\n  /**\n   * Get the resolutions for the view. This returns the array of resolutions\n   * passed to the constructor of the View, or undefined if none were given.\n   * @return {Array<number>|undefined} The resolutions of the view.\n   * @api\n   */\n  View.prototype.getResolutions = function getResolutions () {\n    return this.resolutions_;\n  };\n\n  /**\n   * Get the resolution for a provided extent (in map units) and size (in pixels).\n   * @param {import(\"./extent.js\").Extent} extent Extent.\n   * @param {import(\"./size.js\").Size=} opt_size Box pixel size.\n   * @return {number} The resolution at which the provided extent will render at\n   *     the given size.\n   * @api\n   */\n  View.prototype.getResolutionForExtent = function getResolutionForExtent (extent, opt_size) {\n    var size = opt_size || this.getSizeFromViewport_();\n    var xResolution = getWidth(extent) / size[0];\n    var yResolution = getHeight(extent) / size[1];\n    return Math.max(xResolution, yResolution);\n  };\n\n  /**\n   * Return a function that returns a value between 0 and 1 for a\n   * resolution. Exponential scaling is assumed.\n   * @param {number=} opt_power Power.\n   * @return {function(number): number} Resolution for value function.\n   */\n  View.prototype.getResolutionForValueFunction = function getResolutionForValueFunction (opt_power) {\n    var power = opt_power || 2;\n    var maxResolution = this.maxResolution_;\n    var minResolution = this.minResolution_;\n    var max = Math.log(maxResolution / minResolution) / Math.log(power);\n    return (\n      /**\n       * @param {number} value Value.\n       * @return {number} Resolution.\n       */\n      function(value) {\n        var resolution = maxResolution / Math.pow(power, value * max);\n        return resolution;\n      });\n  };\n\n  /**\n   * Get the view rotation.\n   * @return {number} The rotation of the view in radians.\n   * @observable\n   * @api\n   */\n  View.prototype.getRotation = function getRotation () {\n    return /** @type {number} */ (this.get(ViewProperty.ROTATION));\n  };\n\n  /**\n   * Return a function that returns a resolution for a value between\n   * 0 and 1. Exponential scaling is assumed.\n   * @param {number=} opt_power Power.\n   * @return {function(number): number} Value for resolution function.\n   */\n  View.prototype.getValueForResolutionFunction = function getValueForResolutionFunction (opt_power) {\n    var power = opt_power || 2;\n    var maxResolution = this.maxResolution_;\n    var minResolution = this.minResolution_;\n    var max = Math.log(maxResolution / minResolution) / Math.log(power);\n    return (\n      /**\n       * @param {number} resolution Resolution.\n       * @return {number} Value.\n       */\n      function(resolution) {\n        var value = (Math.log(maxResolution / resolution) / Math.log(power)) / max;\n        return value;\n      });\n  };\n\n  /**\n   * @param {number} pixelRatio Pixel ratio for center rounding.\n   * @return {State} View state.\n   */\n  View.prototype.getState = function getState (pixelRatio) {\n    var center = /** @type {import(\"./coordinate.js\").Coordinate} */ (this.getCenter());\n    var projection = this.getProjection();\n    var resolution = /** @type {number} */ (this.getResolution());\n    var pixelResolution = resolution / pixelRatio;\n    var rotation = this.getRotation();\n    return (\n      /** @type {State} */ ({\n        center: [\n          Math.round(center[0] / pixelResolution) * pixelResolution,\n          Math.round(center[1] / pixelResolution) * pixelResolution\n        ],\n        projection: projection !== undefined ? projection : null,\n        resolution: resolution,\n        rotation: rotation,\n        zoom: this.getZoom()\n      })\n    );\n  };\n\n  /**\n   * Get the current zoom level.  If you configured your view with a resolutions\n   * array (this is rare), this method may return non-integer zoom levels (so\n   * the zoom level is not safe to use as an index into a resolutions array).\n   * @return {number|undefined} Zoom.\n   * @api\n   */\n  View.prototype.getZoom = function getZoom () {\n    var zoom;\n    var resolution = this.getResolution();\n    if (resolution !== undefined) {\n      zoom = this.getZoomForResolution(resolution);\n    }\n    return zoom;\n  };\n\n  /**\n   * Get the zoom level for a resolution.\n   * @param {number} resolution The resolution.\n   * @return {number|undefined} The zoom level for the provided resolution.\n   * @api\n   */\n  View.prototype.getZoomForResolution = function getZoomForResolution (resolution) {\n    var offset = this.minZoom_ || 0;\n    var max, zoomFactor;\n    if (this.resolutions_) {\n      var nearest = linearFindNearest(this.resolutions_, resolution, 1);\n      offset = nearest;\n      max = this.resolutions_[nearest];\n      if (nearest == this.resolutions_.length - 1) {\n        zoomFactor = 2;\n      } else {\n        zoomFactor = max / this.resolutions_[nearest + 1];\n      }\n    } else {\n      max = this.maxResolution_;\n      zoomFactor = this.zoomFactor_;\n    }\n    return offset + Math.log(max / resolution) / Math.log(zoomFactor);\n  };\n\n  /**\n   * Get the resolution for a zoom level.\n   * @param {number} zoom Zoom level.\n   * @return {number} The view resolution for the provided zoom level.\n   * @api\n   */\n  View.prototype.getResolutionForZoom = function getResolutionForZoom (zoom) {\n    return /** @type {number} */ (this.constrainResolution(\n      this.maxResolution_, zoom - this.minZoom_, 0));\n  };\n\n  /**\n   * Fit the given geometry or extent based on the given map size and border.\n   * The size is pixel dimensions of the box to fit the extent into.\n   * In most cases you will want to use the map size, that is `map.getSize()`.\n   * Takes care of the map angle.\n   * @param {import(\"./geom/SimpleGeometry.js\").default|import(\"./extent.js\").Extent} geometryOrExtent The geometry or\n   *     extent to fit the view to.\n   * @param {FitOptions=} opt_options Options.\n   * @api\n   */\n  View.prototype.fit = function fit (geometryOrExtent, opt_options) {\n    var options = opt_options || {};\n    var size = options.size;\n    if (!size) {\n      size = this.getSizeFromViewport_();\n    }\n    /** @type {import(\"./geom/SimpleGeometry.js\").default} */\n    var geometry;\n    assert(Array.isArray(geometryOrExtent) || typeof /** @type {?} */ (geometryOrExtent).getSimplifiedGeometry === 'function',\n      24); // Invalid extent or geometry provided as `geometry`\n    if (Array.isArray(geometryOrExtent)) {\n      assert(!isEmpty(geometryOrExtent),\n        25); // Cannot fit empty extent provided as `geometry`\n      geometry = polygonFromExtent(geometryOrExtent);\n    } else if (geometryOrExtent.getType() === GeometryType.CIRCLE) {\n      geometryOrExtent = geometryOrExtent.getExtent();\n      geometry = polygonFromExtent(geometryOrExtent);\n      geometry.rotate(this.getRotation(), getCenter(geometryOrExtent));\n    } else {\n      geometry = geometryOrExtent;\n    }\n\n    var padding = options.padding !== undefined ? options.padding : [0, 0, 0, 0];\n    var constrainResolution = options.constrainResolution !== undefined ?\n      options.constrainResolution : true;\n    var nearest = options.nearest !== undefined ? options.nearest : false;\n    var minResolution;\n    if (options.minResolution !== undefined) {\n      minResolution = options.minResolution;\n    } else if (options.maxZoom !== undefined) {\n      minResolution = this.constrainResolution(\n        this.maxResolution_, options.maxZoom - this.minZoom_, 0);\n    } else {\n      minResolution = 0;\n    }\n    var coords = geometry.getFlatCoordinates();\n\n    // calculate rotated extent\n    var rotation = this.getRotation();\n    var cosAngle = Math.cos(-rotation);\n    var sinAngle = Math.sin(-rotation);\n    var minRotX = +Infinity;\n    var minRotY = +Infinity;\n    var maxRotX = -Infinity;\n    var maxRotY = -Infinity;\n    var stride = geometry.getStride();\n    for (var i = 0, ii = coords.length; i < ii; i += stride) {\n      var rotX = coords[i] * cosAngle - coords[i + 1] * sinAngle;\n      var rotY = coords[i] * sinAngle + coords[i + 1] * cosAngle;\n      minRotX = Math.min(minRotX, rotX);\n      minRotY = Math.min(minRotY, rotY);\n      maxRotX = Math.max(maxRotX, rotX);\n      maxRotY = Math.max(maxRotY, rotY);\n    }\n\n    // calculate resolution\n    var resolution = this.getResolutionForExtent(\n      [minRotX, minRotY, maxRotX, maxRotY],\n      [size[0] - padding[1] - padding[3], size[1] - padding[0] - padding[2]]);\n    resolution = isNaN(resolution) ? minResolution :\n      Math.max(resolution, minResolution);\n    if (constrainResolution) {\n      var constrainedResolution = this.constrainResolution(resolution, 0, 0);\n      if (!nearest && constrainedResolution < resolution) {\n        constrainedResolution = this.constrainResolution(\n          constrainedResolution, -1, 0);\n      }\n      resolution = constrainedResolution;\n    }\n\n    // calculate center\n    sinAngle = -sinAngle; // go back to original rotation\n    var centerRotX = (minRotX + maxRotX) / 2;\n    var centerRotY = (minRotY + maxRotY) / 2;\n    centerRotX += (padding[1] - padding[3]) / 2 * resolution;\n    centerRotY += (padding[0] - padding[2]) / 2 * resolution;\n    var centerX = centerRotX * cosAngle - centerRotY * sinAngle;\n    var centerY = centerRotY * cosAngle + centerRotX * sinAngle;\n    var center = [centerX, centerY];\n    var callback = options.callback ? options.callback : VOID;\n\n    if (options.duration !== undefined) {\n      this.animate({\n        resolution: resolution,\n        center: center,\n        duration: options.duration,\n        easing: options.easing\n      }, callback);\n    } else {\n      this.setResolution(resolution);\n      this.setCenter(center);\n      animationCallback(callback, true);\n    }\n  };\n\n  /**\n   * Center on coordinate and view position.\n   * @param {import(\"./coordinate.js\").Coordinate} coordinate Coordinate.\n   * @param {import(\"./size.js\").Size} size Box pixel size.\n   * @param {import(\"./pixel.js\").Pixel} position Position on the view to center on.\n   * @api\n   */\n  View.prototype.centerOn = function centerOn (coordinate, size, position) {\n    // calculate rotated position\n    var rotation = this.getRotation();\n    var cosAngle = Math.cos(-rotation);\n    var sinAngle = Math.sin(-rotation);\n    var rotX = coordinate[0] * cosAngle - coordinate[1] * sinAngle;\n    var rotY = coordinate[1] * cosAngle + coordinate[0] * sinAngle;\n    var resolution = this.getResolution();\n    rotX += (size[0] / 2 - position[0]) * resolution;\n    rotY += (position[1] - size[1] / 2) * resolution;\n\n    // go back to original angle\n    sinAngle = -sinAngle; // go back to original rotation\n    var centerX = rotX * cosAngle - rotY * sinAngle;\n    var centerY = rotY * cosAngle + rotX * sinAngle;\n\n    this.setCenter([centerX, centerY]);\n  };\n\n  /**\n   * @return {boolean} Is defined.\n   */\n  View.prototype.isDef = function isDef () {\n    return !!this.getCenter() && this.getResolution() !== undefined;\n  };\n\n  /**\n   * Rotate the view around a given coordinate.\n   * @param {number} rotation New rotation value for the view.\n   * @param {import(\"./coordinate.js\").Coordinate=} opt_anchor The rotation center.\n   * @api\n   */\n  View.prototype.rotate = function rotate (rotation, opt_anchor) {\n    if (opt_anchor !== undefined) {\n      var center = this.calculateCenterRotate(rotation, opt_anchor);\n      this.setCenter(center);\n    }\n    this.setRotation(rotation);\n  };\n\n  /**\n   * Set the center of the current view.\n   * @param {import(\"./coordinate.js\").Coordinate|undefined} center The center of the view.\n   * @observable\n   * @api\n   */\n  View.prototype.setCenter = function setCenter (center) {\n    this.set(ViewProperty.CENTER, center);\n    if (this.getAnimating()) {\n      this.cancelAnimations();\n    }\n  };\n\n  /**\n   * @param {ViewHint} hint Hint.\n   * @param {number} delta Delta.\n   * @return {number} New value.\n   */\n  View.prototype.setHint = function setHint (hint, delta) {\n    this.hints_[hint] += delta;\n    this.changed();\n    return this.hints_[hint];\n  };\n\n  /**\n   * Set the resolution for this view.\n   * @param {number|undefined} resolution The resolution of the view.\n   * @observable\n   * @api\n   */\n  View.prototype.setResolution = function setResolution (resolution) {\n    this.set(ViewProperty.RESOLUTION, resolution);\n    if (this.getAnimating()) {\n      this.cancelAnimations();\n    }\n  };\n\n  /**\n   * Set the rotation for this view.\n   * @param {number} rotation The rotation of the view in radians.\n   * @observable\n   * @api\n   */\n  View.prototype.setRotation = function setRotation (rotation) {\n    this.set(ViewProperty.ROTATION, rotation);\n    if (this.getAnimating()) {\n      this.cancelAnimations();\n    }\n  };\n\n  /**\n   * Zoom to a specific zoom level.\n   * @param {number} zoom Zoom level.\n   * @api\n   */\n  View.prototype.setZoom = function setZoom (zoom) {\n    this.setResolution(this.getResolutionForZoom(zoom));\n  };\n\n  return View;\n}(BaseObject));\n\n\n/**\n * @param {Function} callback Callback.\n * @param {*} returnValue Return value.\n */\nfunction animationCallback(callback, returnValue) {\n  setTimeout(function() {\n    callback(returnValue);\n  }, 0);\n}\n\n\n/**\n * @param {ViewOptions} options View options.\n * @return {import(\"./centerconstraint.js\").Type} The constraint.\n */\nexport function createCenterConstraint(options) {\n  if (options.extent !== undefined) {\n    return createExtent(options.extent);\n  } else {\n    return centerNone;\n  }\n}\n\n\n/**\n * @param {ViewOptions} options View options.\n * @return {{constraint: import(\"./resolutionconstraint.js\").Type, maxResolution: number,\n *     minResolution: number, minZoom: number, zoomFactor: number}} The constraint.\n */\nexport function createResolutionConstraint(options) {\n  var resolutionConstraint;\n  var maxResolution;\n  var minResolution;\n\n  // TODO: move these to be ol constants\n  // see https://github.com/openlayers/openlayers/issues/2076\n  var defaultMaxZoom = 28;\n  var defaultZoomFactor = 2;\n\n  var minZoom = options.minZoom !== undefined ?\n    options.minZoom : DEFAULT_MIN_ZOOM;\n\n  var maxZoom = options.maxZoom !== undefined ?\n    options.maxZoom : defaultMaxZoom;\n\n  var zoomFactor = options.zoomFactor !== undefined ?\n    options.zoomFactor : defaultZoomFactor;\n\n  if (options.resolutions !== undefined) {\n    var resolutions = options.resolutions;\n    maxResolution = resolutions[minZoom];\n    minResolution = resolutions[maxZoom] !== undefined ?\n      resolutions[maxZoom] : resolutions[resolutions.length - 1];\n    resolutionConstraint = createSnapToResolutions(\n      resolutions);\n  } else {\n    // calculate the default min and max resolution\n    var projection = createProjection(options.projection, 'EPSG:3857');\n    var extent = projection.getExtent();\n    var size = !extent ?\n      // use an extent that can fit the whole world if need be\n      360 * METERS_PER_UNIT[Units.DEGREES] /\n            projection.getMetersPerUnit() :\n      Math.max(getWidth(extent), getHeight(extent));\n\n    var defaultMaxResolution = size / DEFAULT_TILE_SIZE / Math.pow(\n      defaultZoomFactor, DEFAULT_MIN_ZOOM);\n\n    var defaultMinResolution = defaultMaxResolution / Math.pow(\n      defaultZoomFactor, defaultMaxZoom - DEFAULT_MIN_ZOOM);\n\n    // user provided maxResolution takes precedence\n    maxResolution = options.maxResolution;\n    if (maxResolution !== undefined) {\n      minZoom = 0;\n    } else {\n      maxResolution = defaultMaxResolution / Math.pow(zoomFactor, minZoom);\n    }\n\n    // user provided minResolution takes precedence\n    minResolution = options.minResolution;\n    if (minResolution === undefined) {\n      if (options.maxZoom !== undefined) {\n        if (options.maxResolution !== undefined) {\n          minResolution = maxResolution / Math.pow(zoomFactor, maxZoom);\n        } else {\n          minResolution = defaultMaxResolution / Math.pow(zoomFactor, maxZoom);\n        }\n      } else {\n        minResolution = defaultMinResolution;\n      }\n    }\n\n    // given discrete zoom levels, minResolution may be different than provided\n    maxZoom = minZoom + Math.floor(\n      Math.log(maxResolution / minResolution) / Math.log(zoomFactor));\n    minResolution = maxResolution / Math.pow(zoomFactor, maxZoom - minZoom);\n\n    resolutionConstraint = createSnapToPower(\n      zoomFactor, maxResolution, maxZoom - minZoom);\n  }\n  return {constraint: resolutionConstraint, maxResolution: maxResolution,\n    minResolution: minResolution, minZoom: minZoom, zoomFactor: zoomFactor};\n}\n\n\n/**\n * @param {ViewOptions} options View options.\n * @return {import(\"./rotationconstraint.js\").Type} Rotation constraint.\n */\nexport function createRotationConstraint(options) {\n  var enableRotation = options.enableRotation !== undefined ?\n    options.enableRotation : true;\n  if (enableRotation) {\n    var constrainRotation = options.constrainRotation;\n    if (constrainRotation === undefined || constrainRotation === true) {\n      return createSnapToZero();\n    } else if (constrainRotation === false) {\n      return rotationNone;\n    } else if (typeof constrainRotation === 'number') {\n      return createSnapToN(constrainRotation);\n    } else {\n      return rotationNone;\n    }\n  } else {\n    return disable;\n  }\n}\n\n\n/**\n * Determine if an animation involves no view change.\n * @param {Animation} animation The animation.\n * @return {boolean} The animation involves no view change.\n */\nexport function isNoopAnimation(animation) {\n  if (animation.sourceCenter && animation.targetCenter) {\n    if (!coordinatesEqual(animation.sourceCenter, animation.targetCenter)) {\n      return false;\n    }\n  }\n  if (animation.sourceResolution !== animation.targetResolution) {\n    return false;\n  }\n  if (animation.sourceRotation !== animation.targetRotation) {\n    return false;\n  }\n  return true;\n}\n\nexport default View;\n\n//# sourceMappingURL=View.js.map","/**\n * @module ol/coordinate\n */\nimport {modulo} from './math.js';\nimport {padNumber} from './string.js';\n\n\n/**\n * An array of numbers representing an xy coordinate. Example: `[16, 48]`.\n * @typedef {Array<number>} Coordinate\n * @api\n */\n\n\n/**\n * A function that takes a {@link module:ol/coordinate~Coordinate} and\n * transforms it into a `{string}`.\n *\n * @typedef {function((Coordinate|undefined)): string} CoordinateFormat\n * @api\n */\n\n\n/**\n * Add `delta` to `coordinate`. `coordinate` is modified in place and returned\n * by the function.\n *\n * Example:\n *\n *     import {add} from 'ol/coordinate';\n *\n *     var coord = [7.85, 47.983333];\n *     add(coord, [-2, 4]);\n *     // coord is now [5.85, 51.983333]\n *\n * @param {Coordinate} coordinate Coordinate.\n * @param {Coordinate} delta Delta.\n * @return {Coordinate} The input coordinate adjusted by\n * the given delta.\n * @api\n */\nexport function add(coordinate, delta) {\n  coordinate[0] += delta[0];\n  coordinate[1] += delta[1];\n  return coordinate;\n}\n\n\n/**\n * Calculates the point closest to the passed coordinate on the passed circle.\n *\n * @param {Coordinate} coordinate The coordinate.\n * @param {import(\"./geom/Circle.js\").default} circle The circle.\n * @return {Coordinate} Closest point on the circumference.\n */\nexport function closestOnCircle(coordinate, circle) {\n  var r = circle.getRadius();\n  var center = circle.getCenter();\n  var x0 = center[0];\n  var y0 = center[1];\n  var x1 = coordinate[0];\n  var y1 = coordinate[1];\n\n  var dx = x1 - x0;\n  var dy = y1 - y0;\n  if (dx === 0 && dy === 0) {\n    dx = 1;\n  }\n  var d = Math.sqrt(dx * dx + dy * dy);\n\n  var x = x0 + r * dx / d;\n  var y = y0 + r * dy / d;\n\n  return [x, y];\n}\n\n\n/**\n * Calculates the point closest to the passed coordinate on the passed segment.\n * This is the foot of the perpendicular of the coordinate to the segment when\n * the foot is on the segment, or the closest segment coordinate when the foot\n * is outside the segment.\n *\n * @param {Coordinate} coordinate The coordinate.\n * @param {Array<Coordinate>} segment The two coordinates\n * of the segment.\n * @return {Coordinate} The foot of the perpendicular of\n * the coordinate to the segment.\n */\nexport function closestOnSegment(coordinate, segment) {\n  var x0 = coordinate[0];\n  var y0 = coordinate[1];\n  var start = segment[0];\n  var end = segment[1];\n  var x1 = start[0];\n  var y1 = start[1];\n  var x2 = end[0];\n  var y2 = end[1];\n  var dx = x2 - x1;\n  var dy = y2 - y1;\n  var along = (dx === 0 && dy === 0) ? 0 :\n    ((dx * (x0 - x1)) + (dy * (y0 - y1))) / ((dx * dx + dy * dy) || 0);\n  var x, y;\n  if (along <= 0) {\n    x = x1;\n    y = y1;\n  } else if (along >= 1) {\n    x = x2;\n    y = y2;\n  } else {\n    x = x1 + along * dx;\n    y = y1 + along * dy;\n  }\n  return [x, y];\n}\n\n\n/**\n * Returns a {@link module:ol/coordinate~CoordinateFormat} function that can be\n * used to format\n * a {Coordinate} to a string.\n *\n * Example without specifying the fractional digits:\n *\n *     import {createStringXY} from 'ol/coordinate';\n *\n *     var coord = [7.85, 47.983333];\n *     var stringifyFunc = createStringXY();\n *     var out = stringifyFunc(coord);\n *     // out is now '8, 48'\n *\n * Example with explicitly specifying 2 fractional digits:\n *\n *     import {createStringXY} from 'ol/coordinate';\n *\n *     var coord = [7.85, 47.983333];\n *     var stringifyFunc = createStringXY(2);\n *     var out = stringifyFunc(coord);\n *     // out is now '7.85, 47.98'\n *\n * @param {number=} opt_fractionDigits The number of digits to include\n *    after the decimal point. Default is `0`.\n * @return {CoordinateFormat} Coordinate format.\n * @api\n */\nexport function createStringXY(opt_fractionDigits) {\n  return (\n    /**\n     * @param {Coordinate} coordinate Coordinate.\n     * @return {string} String XY.\n     */\n    function(coordinate) {\n      return toStringXY(coordinate, opt_fractionDigits);\n    }\n  );\n}\n\n\n/**\n * @param {string} hemispheres Hemispheres.\n * @param {number} degrees Degrees.\n * @param {number=} opt_fractionDigits The number of digits to include\n *    after the decimal point. Default is `0`.\n * @return {string} String.\n */\nexport function degreesToStringHDMS(hemispheres, degrees, opt_fractionDigits) {\n  var normalizedDegrees = modulo(degrees + 180, 360) - 180;\n  var x = Math.abs(3600 * normalizedDegrees);\n  var dflPrecision = opt_fractionDigits || 0;\n  var precision = Math.pow(10, dflPrecision);\n\n  var deg = Math.floor(x / 3600);\n  var min = Math.floor((x - deg * 3600) / 60);\n  var sec = x - (deg * 3600) - (min * 60);\n  sec = Math.ceil(sec * precision) / precision;\n\n  if (sec >= 60) {\n    sec = 0;\n    min += 1;\n  }\n\n  if (min >= 60) {\n    min = 0;\n    deg += 1;\n  }\n\n  return deg + '\\u00b0 ' + padNumber(min, 2) + '\\u2032 ' +\n    padNumber(sec, 2, dflPrecision) + '\\u2033' +\n    (normalizedDegrees == 0 ? '' : ' ' + hemispheres.charAt(normalizedDegrees < 0 ? 1 : 0));\n}\n\n\n/**\n * Transforms the given {@link module:ol/coordinate~Coordinate} to a string\n * using the given string template. The strings `{x}` and `{y}` in the template\n * will be replaced with the first and second coordinate values respectively.\n *\n * Example without specifying the fractional digits:\n *\n *     import {format} from 'ol/coordinate';\n *\n *     var coord = [7.85, 47.983333];\n *     var template = 'Coordinate is ({x}|{y}).';\n *     var out = format(coord, template);\n *     // out is now 'Coordinate is (8|48).'\n *\n * Example explicitly specifying the fractional digits:\n *\n *     import {format} from 'ol/coordinate';\n *\n *     var coord = [7.85, 47.983333];\n *     var template = 'Coordinate is ({x}|{y}).';\n *     var out = format(coord, template, 2);\n *     // out is now 'Coordinate is (7.85|47.98).'\n *\n * @param {Coordinate} coordinate Coordinate.\n * @param {string} template A template string with `{x}` and `{y}` placeholders\n *     that will be replaced by first and second coordinate values.\n * @param {number=} opt_fractionDigits The number of digits to include\n *    after the decimal point. Default is `0`.\n * @return {string} Formatted coordinate.\n * @api\n */\nexport function format(coordinate, template, opt_fractionDigits) {\n  if (coordinate) {\n    return template\n      .replace('{x}', coordinate[0].toFixed(opt_fractionDigits))\n      .replace('{y}', coordinate[1].toFixed(opt_fractionDigits));\n  } else {\n    return '';\n  }\n}\n\n\n/**\n * @param {Coordinate} coordinate1 First coordinate.\n * @param {Coordinate} coordinate2 Second coordinate.\n * @return {boolean} The two coordinates are equal.\n */\nexport function equals(coordinate1, coordinate2) {\n  var equals = true;\n  for (var i = coordinate1.length - 1; i >= 0; --i) {\n    if (coordinate1[i] != coordinate2[i]) {\n      equals = false;\n      break;\n    }\n  }\n  return equals;\n}\n\n\n/**\n * Rotate `coordinate` by `angle`. `coordinate` is modified in place and\n * returned by the function.\n *\n * Example:\n *\n *     import {rotate} from 'ol/coordinate';\n *\n *     var coord = [7.85, 47.983333];\n *     var rotateRadians = Math.PI / 2; // 90 degrees\n *     rotate(coord, rotateRadians);\n *     // coord is now [-47.983333, 7.85]\n *\n * @param {Coordinate} coordinate Coordinate.\n * @param {number} angle Angle in radian.\n * @return {Coordinate} Coordinate.\n * @api\n */\nexport function rotate(coordinate, angle) {\n  var cosAngle = Math.cos(angle);\n  var sinAngle = Math.sin(angle);\n  var x = coordinate[0] * cosAngle - coordinate[1] * sinAngle;\n  var y = coordinate[1] * cosAngle + coordinate[0] * sinAngle;\n  coordinate[0] = x;\n  coordinate[1] = y;\n  return coordinate;\n}\n\n\n/**\n * Scale `coordinate` by `scale`. `coordinate` is modified in place and returned\n * by the function.\n *\n * Example:\n *\n *     import {scale as scaleCoordinate} from 'ol/coordinate';\n *\n *     var coord = [7.85, 47.983333];\n *     var scale = 1.2;\n *     scaleCoordinate(coord, scale);\n *     // coord is now [9.42, 57.5799996]\n *\n * @param {Coordinate} coordinate Coordinate.\n * @param {number} scale Scale factor.\n * @return {Coordinate} Coordinate.\n */\nexport function scale(coordinate, scale) {\n  coordinate[0] *= scale;\n  coordinate[1] *= scale;\n  return coordinate;\n}\n\n\n/**\n * @param {Coordinate} coord1 First coordinate.\n * @param {Coordinate} coord2 Second coordinate.\n * @return {number} Squared distance between coord1 and coord2.\n */\nexport function squaredDistance(coord1, coord2) {\n  var dx = coord1[0] - coord2[0];\n  var dy = coord1[1] - coord2[1];\n  return dx * dx + dy * dy;\n}\n\n\n/**\n * @param {Coordinate} coord1 First coordinate.\n * @param {Coordinate} coord2 Second coordinate.\n * @return {number} Distance between coord1 and coord2.\n */\nexport function distance(coord1, coord2) {\n  return Math.sqrt(squaredDistance(coord1, coord2));\n}\n\n\n/**\n * Calculate the squared distance from a coordinate to a line segment.\n *\n * @param {Coordinate} coordinate Coordinate of the point.\n * @param {Array<Coordinate>} segment Line segment (2\n * coordinates).\n * @return {number} Squared distance from the point to the line segment.\n */\nexport function squaredDistanceToSegment(coordinate, segment) {\n  return squaredDistance(coordinate,\n    closestOnSegment(coordinate, segment));\n}\n\n\n/**\n * Format a geographic coordinate with the hemisphere, degrees, minutes, and\n * seconds.\n *\n * Example without specifying fractional digits:\n *\n *     import {toStringHDMS} from 'ol/coordinate';\n *\n *     var coord = [7.85, 47.983333];\n *     var out = toStringHDMS(coord);\n *     // out is now '47 58 60 N 7 50 60 E'\n *\n * Example explicitly specifying 1 fractional digit:\n *\n *     import {toStringHDMS} from 'ol/coordinate';\n *\n *     var coord = [7.85, 47.983333];\n *     var out = toStringHDMS(coord, 1);\n *     // out is now '47 58 60.0 N 7 50 60.0 E'\n *\n * @param {Coordinate} coordinate Coordinate.\n * @param {number=} opt_fractionDigits The number of digits to include\n *    after the decimal point. Default is `0`.\n * @return {string} Hemisphere, degrees, minutes and seconds.\n * @api\n */\nexport function toStringHDMS(coordinate, opt_fractionDigits) {\n  if (coordinate) {\n    return degreesToStringHDMS('NS', coordinate[1], opt_fractionDigits) + ' ' +\n        degreesToStringHDMS('EW', coordinate[0], opt_fractionDigits);\n  } else {\n    return '';\n  }\n}\n\n\n/**\n * Format a coordinate as a comma delimited string.\n *\n * Example without specifying fractional digits:\n *\n *     import {toStringXY} from 'ol/coordinate';\n *\n *     var coord = [7.85, 47.983333];\n *     var out = toStringXY(coord);\n *     // out is now '8, 48'\n *\n * Example explicitly specifying 1 fractional digit:\n *\n *     import {toStringXY} from 'ol/coordinate';\n *\n *     var coord = [7.85, 47.983333];\n *     var out = toStringXY(coord, 1);\n *     // out is now '7.8, 48.0'\n *\n * @param {Coordinate} coordinate Coordinate.\n * @param {number=} opt_fractionDigits The number of digits to include\n *    after the decimal point. Default is `0`.\n * @return {string} XY.\n * @api\n */\nexport function toStringXY(coordinate, opt_fractionDigits) {\n  return format(coordinate, '{x}, {y}', opt_fractionDigits);\n}\n\n//# sourceMappingURL=coordinate.js.map","/**\n * @module ol/TileState\n */\n\n/**\n * @enum {number}\n */\nexport default {\n  IDLE: 0,\n  LOADING: 1,\n  LOADED: 2,\n  /**\n   * Indicates that tile loading failed\n   * @type {number}\n   */\n  ERROR: 3,\n  EMPTY: 4,\n  ABORT: 5\n};\n\n//# sourceMappingURL=TileState.js.map","/**\n * @module ol/geom/flat/inflate\n */\n\n\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @param {Array<import(\"../../coordinate.js\").Coordinate>=} opt_coordinates Coordinates.\n * @return {Array<import(\"../../coordinate.js\").Coordinate>} Coordinates.\n */\nexport function inflateCoordinates(flatCoordinates, offset, end, stride, opt_coordinates) {\n  var coordinates = opt_coordinates !== undefined ? opt_coordinates : [];\n  var i = 0;\n  for (var j = offset; j < end; j += stride) {\n    coordinates[i++] = flatCoordinates.slice(j, j + stride);\n  }\n  coordinates.length = i;\n  return coordinates;\n}\n\n\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<number>} ends Ends.\n * @param {number} stride Stride.\n * @param {Array<Array<import(\"../../coordinate.js\").Coordinate>>=} opt_coordinatess Coordinatess.\n * @return {Array<Array<import(\"../../coordinate.js\").Coordinate>>} Coordinatess.\n */\nexport function inflateCoordinatesArray(flatCoordinates, offset, ends, stride, opt_coordinatess) {\n  var coordinatess = opt_coordinatess !== undefined ? opt_coordinatess : [];\n  var i = 0;\n  for (var j = 0, jj = ends.length; j < jj; ++j) {\n    var end = ends[j];\n    coordinatess[i++] = inflateCoordinates(\n      flatCoordinates, offset, end, stride, coordinatess[i]);\n    offset = end;\n  }\n  coordinatess.length = i;\n  return coordinatess;\n}\n\n\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {Array<Array<number>>} endss Endss.\n * @param {number} stride Stride.\n * @param {Array<Array<Array<import(\"../../coordinate.js\").Coordinate>>>=} opt_coordinatesss\n *     Coordinatesss.\n * @return {Array<Array<Array<import(\"../../coordinate.js\").Coordinate>>>} Coordinatesss.\n */\nexport function inflateMultiCoordinatesArray(flatCoordinates, offset, endss, stride, opt_coordinatesss) {\n  var coordinatesss = opt_coordinatesss !== undefined ? opt_coordinatesss : [];\n  var i = 0;\n  for (var j = 0, jj = endss.length; j < jj; ++j) {\n    var ends = endss[j];\n    coordinatesss[i++] = inflateCoordinatesArray(\n      flatCoordinates, offset, ends, stride, coordinatesss[i]);\n    offset = ends[ends.length - 1];\n  }\n  coordinatesss.length = i;\n  return coordinatesss;\n}\n\n//# sourceMappingURL=inflate.js.map","/**\n * @module ol/geom/flat/transform\n */\n\n\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @param {import(\"../../transform.js\").Transform} transform Transform.\n * @param {Array<number>=} opt_dest Destination.\n * @return {Array<number>} Transformed coordinates.\n */\nexport function transform2D(flatCoordinates, offset, end, stride, transform, opt_dest) {\n  var dest = opt_dest ? opt_dest : [];\n  var i = 0;\n  for (var j = offset; j < end; j += stride) {\n    var x = flatCoordinates[j];\n    var y = flatCoordinates[j + 1];\n    dest[i++] = transform[0] * x + transform[2] * y + transform[4];\n    dest[i++] = transform[1] * x + transform[3] * y + transform[5];\n  }\n  if (opt_dest && dest.length != i) {\n    dest.length = i;\n  }\n  return dest;\n}\n\n\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @param {number} angle Angle.\n * @param {Array<number>} anchor Rotation anchor point.\n * @param {Array<number>=} opt_dest Destination.\n * @return {Array<number>} Transformed coordinates.\n */\nexport function rotate(flatCoordinates, offset, end, stride, angle, anchor, opt_dest) {\n  var dest = opt_dest ? opt_dest : [];\n  var cos = Math.cos(angle);\n  var sin = Math.sin(angle);\n  var anchorX = anchor[0];\n  var anchorY = anchor[1];\n  var i = 0;\n  for (var j = offset; j < end; j += stride) {\n    var deltaX = flatCoordinates[j] - anchorX;\n    var deltaY = flatCoordinates[j + 1] - anchorY;\n    dest[i++] = anchorX + deltaX * cos - deltaY * sin;\n    dest[i++] = anchorY + deltaX * sin + deltaY * cos;\n    for (var k = j + 2; k < j + stride; ++k) {\n      dest[i++] = flatCoordinates[k];\n    }\n  }\n  if (opt_dest && dest.length != i) {\n    dest.length = i;\n  }\n  return dest;\n}\n\n\n/**\n * Scale the coordinates.\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @param {number} sx Scale factor in the x-direction.\n * @param {number} sy Scale factor in the y-direction.\n * @param {Array<number>} anchor Scale anchor point.\n * @param {Array<number>=} opt_dest Destination.\n * @return {Array<number>} Transformed coordinates.\n */\nexport function scale(flatCoordinates, offset, end, stride, sx, sy, anchor, opt_dest) {\n  var dest = opt_dest ? opt_dest : [];\n  var anchorX = anchor[0];\n  var anchorY = anchor[1];\n  var i = 0;\n  for (var j = offset; j < end; j += stride) {\n    var deltaX = flatCoordinates[j] - anchorX;\n    var deltaY = flatCoordinates[j + 1] - anchorY;\n    dest[i++] = anchorX + sx * deltaX;\n    dest[i++] = anchorY + sy * deltaY;\n    for (var k = j + 2; k < j + stride; ++k) {\n      dest[i++] = flatCoordinates[k];\n    }\n  }\n  if (opt_dest && dest.length != i) {\n    dest.length = i;\n  }\n  return dest;\n}\n\n\n/**\n * @param {Array<number>} flatCoordinates Flat coordinates.\n * @param {number} offset Offset.\n * @param {number} end End.\n * @param {number} stride Stride.\n * @param {number} deltaX Delta X.\n * @param {number} deltaY Delta Y.\n * @param {Array<number>=} opt_dest Destination.\n * @return {Array<number>} Transformed coordinates.\n */\nexport function translate(flatCoordinates, offset, end, stride, deltaX, deltaY, opt_dest) {\n  var dest = opt_dest ? opt_dest : [];\n  var i = 0;\n  for (var j = offset; j < end; j += stride) {\n    dest[i++] = flatCoordinates[j] + deltaX;\n    dest[i++] = flatCoordinates[j + 1] + deltaY;\n    for (var k = j + 2; k < j + stride; ++k) {\n      dest[i++] = flatCoordinates[k];\n    }\n  }\n  if (opt_dest && dest.length != i) {\n    dest.length = i;\n  }\n  return dest;\n}\n\n//# sourceMappingURL=transform.js.map","/** @namespace  ol.ext\n */\n/*global ol*/\nif (window.ol && !ol.ext) {\n  ol.ext = {};\n}\n\n/** Inherit the prototype methods from one constructor into another.\n * replace deprecated ol method\n *\n * @param {!Function} childCtor Child constructor.\n * @param {!Function} parentCtor Parent constructor.\n * @function module:ol.inherits\n * @api\n */\nvar ol_ext_inherits = function(child,parent) {\n  child.prototype = Object.create(parent.prototype);\n  child.prototype.constructor = child;\n};\n\n// Compatibilty with ol > 5 to be removed when v6 is out\nif (window.ol) {\n  if (!ol.inherits) ol.inherits = ol_ext_inherits;\n}\n\n/* IE Polyfill */\n// NodeList.forEach\nif (window.NodeList && !NodeList.prototype.forEach) {\n  NodeList.prototype.forEach = Array.prototype.forEach;\n}\n// Element.remove\nif (window.Element && !Element.prototype.remove) {\n  Element.prototype.remove = function() {\n    if (this.parentNode) this.parentNode.removeChild(this);\n  }\n}\n/* End Polyfill */\n\nexport {ol_ext_inherits}\nexport default ol_ext_inherits\n","/**\n * @module ol/control/FullScreen\n */\nimport Control from './Control.js';\nimport {CLASS_CONTROL, CLASS_UNSELECTABLE, CLASS_UNSUPPORTED} from '../css.js';\nimport {replaceNode} from '../dom.js';\nimport {listen} from '../events.js';\nimport EventType from '../events/EventType.js';\n\n\n/**\n * @return {string} Change type.\n */\nvar getChangeType = (function() {\n  var changeType;\n  return function() {\n    if (!changeType) {\n      var body = document.body;\n      if (body.webkitRequestFullscreen) {\n        changeType = 'webkitfullscreenchange';\n      } else if (body.mozRequestFullScreen) {\n        changeType = 'mozfullscreenchange';\n      } else if (body.msRequestFullscreen) {\n        changeType = 'MSFullscreenChange';\n      } else if (body.requestFullscreen) {\n        changeType = 'fullscreenchange';\n      }\n    }\n    return changeType;\n  };\n})();\n\n\n/**\n * @typedef {Object} Options\n * @property {string} [className='ol-full-screen'] CSS class name.\n * @property {string|Text} [label='\\u2922'] Text label to use for the button.\n * Instead of text, also an element (e.g. a `span` element) can be used.\n * @property {string|Text} [labelActive='\\u00d7'] Text label to use for the\n * button when full-screen is active.\n * Instead of text, also an element (e.g. a `span` element) can be used.\n * @property {string} [tipLabel='Toggle full-screen'] Text label to use for the button tip.\n * @property {boolean} [keys=false] Full keyboard access.\n * @property {HTMLElement|string} [target] Specify a target if you want the\n * control to be rendered outside of the map's viewport.\n * @property {HTMLElement|string} [source] The element to be displayed\n * fullscreen. When not provided, the element containing the map viewport will\n * be displayed fullscreen.\n */\n\n\n/**\n * @classdesc\n * Provides a button that when clicked fills up the full screen with the map.\n * The full screen source element is by default the element containing the map viewport unless\n * overridden by providing the `source` option. In which case, the dom\n * element introduced using this parameter will be displayed in full screen.\n *\n * When in full screen mode, a close button is shown to exit full screen mode.\n * The [Fullscreen API](http://www.w3.org/TR/fullscreen/) is used to\n * toggle the map in full screen mode.\n *\n * @api\n */\nvar FullScreen = /*@__PURE__*/(function (Control) {\n  function FullScreen(opt_options) {\n\n    var options = opt_options ? opt_options : {};\n\n    Control.call(this, {\n      element: document.createElement('div'),\n      target: options.target\n    });\n\n    /**\n     * @private\n     * @type {string}\n     */\n    this.cssClassName_ = options.className !== undefined ? options.className :\n      'ol-full-screen';\n\n    var label = options.label !== undefined ? options.label : '\\u2922';\n\n    /**\n     * @private\n     * @type {Text}\n     */\n    this.labelNode_ = typeof label === 'string' ?\n      document.createTextNode(label) : label;\n\n    var labelActive = options.labelActive !== undefined ? options.labelActive : '\\u00d7';\n\n    /**\n     * @private\n     * @type {Text}\n     */\n    this.labelActiveNode_ = typeof labelActive === 'string' ?\n      document.createTextNode(labelActive) : labelActive;\n\n    /**\n     * @private\n     * @type {HTMLElement}\n     */\n    this.button_ = document.createElement('button');\n\n    var tipLabel = options.tipLabel ? options.tipLabel : 'Toggle full-screen';\n    this.setClassName_(this.button_, isFullScreen());\n    this.button_.setAttribute('type', 'button');\n    this.button_.title = tipLabel;\n    this.button_.appendChild(this.labelNode_);\n\n    listen(this.button_, EventType.CLICK,\n      this.handleClick_, this);\n\n    var cssClasses = this.cssClassName_ + ' ' + CLASS_UNSELECTABLE +\n        ' ' + CLASS_CONTROL + ' ' +\n        (!isFullScreenSupported() ? CLASS_UNSUPPORTED : '');\n    var element = this.element;\n    element.className = cssClasses;\n    element.appendChild(this.button_);\n\n    /**\n     * @private\n     * @type {boolean}\n     */\n    this.keys_ = options.keys !== undefined ? options.keys : false;\n\n    /**\n     * @private\n     * @type {HTMLElement|string|undefined}\n     */\n    this.source_ = options.source;\n\n  }\n\n  if ( Control ) FullScreen.__proto__ = Control;\n  FullScreen.prototype = Object.create( Control && Control.prototype );\n  FullScreen.prototype.constructor = FullScreen;\n\n  /**\n   * @param {MouseEvent} event The event to handle\n   * @private\n   */\n  FullScreen.prototype.handleClick_ = function handleClick_ (event) {\n    event.preventDefault();\n    this.handleFullScreen_();\n  };\n\n  /**\n   * @private\n   */\n  FullScreen.prototype.handleFullScreen_ = function handleFullScreen_ () {\n    if (!isFullScreenSupported()) {\n      return;\n    }\n    var map = this.getMap();\n    if (!map) {\n      return;\n    }\n    if (isFullScreen()) {\n      exitFullScreen();\n    } else {\n      var element;\n      if (this.source_) {\n        element = typeof this.source_ === 'string' ?\n          document.getElementById(this.source_) :\n          this.source_;\n      } else {\n        element = map.getTargetElement();\n      }\n      if (this.keys_) {\n        requestFullScreenWithKeys(element);\n\n      } else {\n        requestFullScreen(element);\n      }\n    }\n  };\n\n  /**\n   * @private\n   */\n  FullScreen.prototype.handleFullScreenChange_ = function handleFullScreenChange_ () {\n    var map = this.getMap();\n    if (isFullScreen()) {\n      this.setClassName_(this.button_, true);\n      replaceNode(this.labelActiveNode_, this.labelNode_);\n    } else {\n      this.setClassName_(this.button_, false);\n      replaceNode(this.labelNode_, this.labelActiveNode_);\n    }\n    if (map) {\n      map.updateSize();\n    }\n  };\n\n  /**\n   * @param {HTMLElement} element Target element\n   * @param {boolean} fullscreen True if fullscreen class name should be active\n   * @private\n   */\n  FullScreen.prototype.setClassName_ = function setClassName_ (element, fullscreen) {\n    var activeClassName = this.cssClassName_ + '-true';\n    var inactiveClassName = this.cssClassName_ + '-false';\n    var nextClassName = fullscreen ? activeClassName : inactiveClassName;\n    element.classList.remove(activeClassName);\n    element.classList.remove(inactiveClassName);\n    element.classList.add(nextClassName);\n  };\n\n  /**\n   * @inheritDoc\n   * @api\n   */\n  FullScreen.prototype.setMap = function setMap (map) {\n    Control.prototype.setMap.call(this, map);\n    if (map) {\n      this.listenerKeys.push(listen(document,\n        getChangeType(),\n        this.handleFullScreenChange_, this)\n      );\n    }\n  };\n\n  return FullScreen;\n}(Control));\n\n\n/**\n * @return {boolean} Fullscreen is supported by the current platform.\n */\nfunction isFullScreenSupported() {\n  var body = document.body;\n  return !!(\n    body.webkitRequestFullscreen ||\n    (body.mozRequestFullScreen && document.mozFullScreenEnabled) ||\n    (body.msRequestFullscreen && document.msFullscreenEnabled) ||\n    (body.requestFullscreen && document.fullscreenEnabled)\n  );\n}\n\n/**\n * @return {boolean} Element is currently in fullscreen.\n */\nfunction isFullScreen() {\n  return !!(\n    document.webkitIsFullScreen || document.mozFullScreen ||\n    document.msFullscreenElement || document.fullscreenElement\n  );\n}\n\n/**\n * Request to fullscreen an element.\n * @param {HTMLElement} element Element to request fullscreen\n */\nfunction requestFullScreen(element) {\n  if (element.requestFullscreen) {\n    element.requestFullscreen();\n  } else if (element.msRequestFullscreen) {\n    element.msRequestFullscreen();\n  } else if (element.mozRequestFullScreen) {\n    element.mozRequestFullScreen();\n  } else if (element.webkitRequestFullscreen) {\n    element.webkitRequestFullscreen();\n  }\n}\n\n/**\n * Request to fullscreen an element with keyboard input.\n * @param {HTMLElement} element Element to request fullscreen\n */\nfunction requestFullScreenWithKeys(element) {\n  if (element.mozRequestFullScreenWithKeys) {\n    element.mozRequestFullScreenWithKeys();\n  } else if (element.webkitRequestFullscreen) {\n    element.webkitRequestFullscreen();\n  } else {\n    requestFullScreen(element);\n  }\n}\n\n/**\n * Exit fullscreen.\n */\nfunction exitFullScreen() {\n  if (document.exitFullscreen) {\n    document.exitFullscreen();\n  } else if (document.msExitFullscreen) {\n    document.msExitFullscreen();\n  } else if (document.mozCancelFullScreen) {\n    document.mozCancelFullScreen();\n  } else if (document.webkitExitFullscreen) {\n    document.webkitExitFullscreen();\n  }\n}\n\nexport default FullScreen;\n\n//# sourceMappingURL=FullScreen.js.map","/**\n * @module ol/easing\n */\n\n\n/**\n * Start slow and speed up.\n * @param {number} t Input between 0 and 1.\n * @return {number} Output between 0 and 1.\n * @api\n */\nexport function easeIn(t) {\n  return Math.pow(t, 3);\n}\n\n\n/**\n * Start fast and slow down.\n * @param {number} t Input between 0 and 1.\n * @return {number} Output between 0 and 1.\n * @api\n */\nexport function easeOut(t) {\n  return 1 - easeIn(1 - t);\n}\n\n\n/**\n * Start slow, speed up, and then slow down again.\n * @param {number} t Input between 0 and 1.\n * @return {number} Output between 0 and 1.\n * @api\n */\nexport function inAndOut(t) {\n  return 3 * t * t - 2 * t * t * t;\n}\n\n\n/**\n * Maintain a constant speed over time.\n * @param {number} t Input between 0 and 1.\n * @return {number} Output between 0 and 1.\n * @api\n */\nexport function linear(t) {\n  return t;\n}\n\n\n/**\n * Start slow, speed up, and at the very end slow down again.  This has the\n * same general behavior as {@link module:ol/easing~inAndOut}, but the final\n * slowdown is delayed.\n * @param {number} t Input between 0 and 1.\n * @return {number} Output between 0 and 1.\n * @api\n */\nexport function upAndDown(t) {\n  if (t < 0.5) {\n    return inAndOut(2 * t);\n  } else {\n    return 1 - inAndOut(2 * (t - 0.5));\n  }\n}\n\n//# sourceMappingURL=easing.js.map","/**\n * @module ol/css\n */\n\n\n/**\n * The CSS class for hidden feature.\n *\n * @const\n * @type {string}\n */\nexport var CLASS_HIDDEN = 'ol-hidden';\n\n\n/**\n * The CSS class that we'll give the DOM elements to have them selectable.\n *\n * @const\n * @type {string}\n */\nexport var CLASS_SELECTABLE = 'ol-selectable';\n\n\n/**\n * The CSS class that we'll give the DOM elements to have them unselectable.\n *\n * @const\n * @type {string}\n */\nexport var CLASS_UNSELECTABLE = 'ol-unselectable';\n\n\n/**\n * The CSS class for unsupported feature.\n *\n * @const\n * @type {string}\n */\nexport var CLASS_UNSUPPORTED = 'ol-unsupported';\n\n\n/**\n * The CSS class for controls.\n *\n * @const\n * @type {string}\n */\nexport var CLASS_CONTROL = 'ol-control';\n\n\n/**\n * The CSS class that we'll give the DOM elements that are collapsed, i.e.\n * to those elements which usually can be expanded.\n *\n * @const\n * @type {string}\n */\nexport var CLASS_COLLAPSED = 'ol-collapsed';\n\n\n/**\n * Get the list of font families from a font spec.  Note that this doesn't work\n * for font families that have commas in them.\n * @param {string} The CSS font property.\n * @return {Object<string>} The font families (or null if the input spec is invalid).\n */\nexport var getFontFamilies = (function() {\n  var style;\n  var cache = {};\n  return function(font) {\n    if (!style) {\n      style = document.createElement('div').style;\n    }\n    if (!(font in cache)) {\n      style.font = font;\n      var family = style.fontFamily;\n      style.font = '';\n      if (!family) {\n        return null;\n      }\n      cache[font] = family.split(/,\\s?/);\n    }\n    return cache[font];\n  };\n})();\n\n//# sourceMappingURL=css.js.map","/**\n * @module ol/events/Event\n */\n\n/**\n * @classdesc\n * Stripped down implementation of the W3C DOM Level 2 Event interface.\n * See https://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-interface.\n *\n * This implementation only provides `type` and `target` properties, and\n * `stopPropagation` and `preventDefault` methods. It is meant as base class\n * for higher level events defined in the library, and works with\n * {@link module:ol/events/Target~Target}.\n */\nvar Event = function Event(type) {\n\n  /**\n   * @type {boolean}\n   */\n  this.propagationStopped;\n\n  /**\n   * The event type.\n   * @type {string}\n   * @api\n   */\n  this.type = type;\n\n  /**\n   * The event target.\n   * @type {Object}\n   * @api\n   */\n  this.target = null;\n};\n\n/**\n * Stop event propagation.\n * @api\n */\nEvent.prototype.preventDefault = function preventDefault () {\n  this.propagationStopped = true;\n};\n\n/**\n * Stop event propagation.\n * @api\n */\nEvent.prototype.stopPropagation = function stopPropagation () {\n  this.propagationStopped = true;\n};\n\n\n/**\n * @param {Event|import(\"./Event.js\").default} evt Event\n */\nexport function stopPropagation(evt) {\n  evt.stopPropagation();\n}\n\n\n/**\n * @param {Event|import(\"./Event.js\").default} evt Event\n */\nexport function preventDefault(evt) {\n  evt.preventDefault();\n}\n\nexport default Event;\n\n//# sourceMappingURL=Event.js.map","/*\tCopyright (c) 2015 Jean-Marc VIGLINO,\n\treleased under the CeCILL-B license (French BSD license)\n\t(http://www.cecill.info/licences/Licence_CeCILL-B_V1-en.txt).\n*/\n\nimport ol_ext_inherits from '../util/ext'\nimport ol_control_Control from 'ol/control/Control'\n\n/**\n * @classdesc Swipe Control.\n *\n * @constructor\n * @extends {ol_control_Control}\n * @param {Object=} Control options.\n *\t@param {ol.layer} options.layers layer to swipe\n *\t@param {ol.layer} options.rightLayer layer to swipe on right side\n *\t@param {string} options.className control class name\n *\t@param {number} options.position position propertie of the swipe [0,1], default 0.5\n *\t@param {string} options.orientation orientation propertie (vertical|horizontal), default vertical\n */\nvar ol_control_Swipe = function(options) {\n\toptions = options || {};\n\n\tvar button = document.createElement('button');\n\n\tvar element = document.createElement('div');\n  element.className = (options.className || \"ol-swipe\") + \" ol-unselectable ol-control\";\n  element.appendChild(button);\n\n\telement.addEventListener(\"mousedown\", this.move.bind(this));\n\telement.addEventListener(\"touchstart\", this.move.bind(this));\n\n\tol_control_Control.call(this, {\n    element: element\n\t});\n\n\t// An array of listener on layer postcompose\n\tthis.precomposeRight_ = this.precomposeRight.bind(this);\n\tthis.precomposeLeft_ = this.precomposeLeft.bind(this);\n\tthis.postcompose_ = this.postcompose.bind(this);\n\n\tthis.layers = [];\n\tif (options.layers) this.addLayer(options.layers, false);\n\tif (options.rightLayers) this.addLayer(options.rightLayers, true);\n\n\tthis.on('propertychange', function() {\n    if (this.getMap()) this.getMap().renderSync();\n\t\tif (this.get('orientation') === \"horizontal\") {\n      this.element.style.top = this.get('position')*100+\"%\";\n\t\t\tthis.element.style.left = \"\";\n\t\t} else {\n      if (this.get('orientation') !== \"vertical\") this.set('orientation', \"vertical\");\n\t\t\tthis.element.style.left = this.get('position')*100+\"%\";\n\t\t\tthis.element.style.top = \"\";\n\t\t}\n\t\tthis.element.classList.remove(\"horizontal\", \"vertical\");\n\t\tthis.element.classList.add(this.get('orientation'));\n\t}.bind(this));\n\n\tthis.set('position', options.position || 0.5);\n\tthis.set('orientation', options.orientation || 'vertical');\n};\nol_ext_inherits(ol_control_Swipe, ol_control_Control);\n\n/**\n * Set the map instance the control associated with.\n * @param {_ol_Map_} map The map instance.\n */\nol_control_Swipe.prototype.setMap = function(map) {\n\tvar i;\n\tvar l;\n\n\tif (this.getMap()) {\n\t\tfor (i=0; i<this.layers.length; i++) {\n\t\t\tl = this.layers[i];\n\t\t\tif (l.right) l.layer.un(['precompose','prerender'], this.precomposeRight_);\n\t\t\telse l.layer.un(['precompose','prerender'], this.precomposeLeft_);\n\t\t\tl.layer.un(['postcompose','postrender'], this.postcompose_);\n\t\t}\n\t\tthis.getMap().renderSync();\n\t}\n\n\tol_control_Control.prototype.setMap.call(this, map);\n\n\tif (map) {\n    this._listener = [];\n\t\tfor (i=0; i<this.layers.length; i++) {\n      l = this.layers[i];\n\t\t\tif (l.right) l.layer.on(['precompose','prerender'], this.precomposeRight_);\n\t\t\telse l.layer.on(['precompose','prerender'], this.precomposeLeft_);\n\t\t\tl.layer.on(['postcompose','postrender'], this.postcompose_);\n\t\t}\n\t\tmap.renderSync();\n\t}\n};\n\n/** @private\n*/\nol_control_Swipe.prototype.isLayer_ = function(layer){\n  for (var k=0; k<this.layers.length; k++) {\n    if (this.layers[k].layer === layer) return k;\n\t}\n\treturn -1;\n};\n\n/** Add a layer to clip\n *\t@param {ol.layer|Array<ol.layer>} layer to clip\n*\t@param {bool} add layer in the right part of the map, default left.\n*/\nol_control_Swipe.prototype.addLayer = function(layers, right) {\n  if (!(layers instanceof Array)) layers = [layers];\n\tfor (var i=0; i<layers.length; i++) {\n\t\tvar l = layers[i];\n\t\tif (this.isLayer_(l) < 0) {\n      this.layers.push({ layer:l, right:right });\n\t\t\tif (this.getMap()) {\n        if (right) l.on(['precompose','prerender'], this.precomposeRight_);\n\t\t\t\telse l.on(['precompose','prerender'], this.precomposeLeft_);\n\t\t\t\tl.on(['postcompose','postrender'], this.postcompose_);\n\t\t\t\tthis.getMap().renderSync();\n\t\t\t}\n\t\t}\n\t}\n};\n\n/** Remove a layer to clip\n *\t@param {ol.layer|Array<ol.layer>} layer to clip\n */\nol_control_Swipe.prototype.removeLayer = function(layers) {\n  if (!(layers instanceof Array)) layers = [layers];\n\tfor (var i=0; i<layers.length; i++) {\n    var k = this.isLayer_(layers[i]);\n\t\tif (k >=0 && this.getMap()) {\n      if (this.layers[k].right) layers[i].un(['precompose','prerender'], this.precomposeRight_);\n\t\t\telse layers[i].un(['precompose','prerender'], this.precomposeLeft_);\n\t\t\tlayers[i].un(['postcompose','postrender'], this.postcompose_);\n\t\t\tthis.layers.splice(k,1);\n\t\t\tthis.getMap().renderSync();\n\t\t}\n\t}\n};\n\n/** @private\n*/\nol_control_Swipe.prototype.move = function(e) {\n\tvar self = this;\n\tvar l;\n\tswitch (e.type) {\n    case 'touchcancel':\n\t\tcase 'touchend':\n\t\tcase 'mouseup': {\n      self.isMoving = false;\n\t\t\t[\"mouseup\", \"mousemove\", \"touchend\", \"touchcancel\", \"touchmove\"]\n\t\t\t\t.forEach(function(eventName) {\n\t\t\t\t\tdocument.removeEventListener(eventName, self.move);\n\t\t\t\t});\n\t\t\tbreak;\n\t\t}\n\t\tcase 'mousedown':\n\t\tcase 'touchstart': {\n\t\t\tself.isMoving = true;\n\t\t\t[\"mouseup\", \"mousemove\", \"touchend\", \"touchcancel\", \"touchmove\"]\n\t\t\t\t.forEach(function(eventName) {\n\t\t\t\t\tdocument.addEventListener(eventName, self.move.bind(self));\n\t\t\t\t});\n\t\t}\n\t\t// fallthrough\n\t\tcase 'mousemove':\n\t\tcase 'touchmove': {\n      if (self.isMoving) {\n        if (self.get('orientation') === \"vertical\") {\n          var pageX = e.pageX\n\t\t\t\t\t\t|| (e.touches && e.touches.length && e.touches[0].pageX)\n\t\t\t\t\t\t|| (e.changedTouches && e.changedTouches.length && e.changedTouches[0].pageX);\n          if (!pageX) break;\n          pageX -= self.getMap().getTargetElement().getBoundingClientRect().left +\n            window.pageXOffset - document.documentElement.clientLeft;\n\n\t\t\t\t\tl = self.getMap().getSize()[0];\n\t\t\t\t\tl = Math.min(Math.max(0, 1-(l-pageX)/l), 1);\n\t\t\t\t\tself.set('position', l);\n\t\t\t\t} else {\n          var pageY = e.pageY\n\t\t\t\t\t\t|| (e.touches && e.touches.length && e.touches[0].pageY)\n\t\t\t\t\t\t|| (e.changedTouches && e.changedTouches.length && e.changedTouches[0].pageY);\n\t\t\t\t\tif (!pageY) break;\n\t\t\t\t\tpageY -= self.getMap().getTargetElement().getBoundingClientRect().top +\n\t\t\t\t\t\twindow.pageYOffset - document.documentElement.clientTop;\n\n\t\t\t\t\tl = self.getMap().getSize()[1];\n\t\t\t\t\tl = Math.min(Math.max(0, 1-(l-pageY)/l), 1);\n\t\t\t\t\tself.set('position', l);\n\t\t\t\t}\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t\tdefault: break;\n\t}\n};\n\n/** @private\n*/\nol_control_Swipe.prototype.precomposeLeft = function(e) {\n  var ctx = e.context;\n\tvar canvas = ctx.canvas;\n\tctx.save();\n\tctx.beginPath();\n\tif (this.get('orientation') === \"vertical\") ctx.rect (0,0, canvas.width*this.get('position'), canvas.height);\n\telse ctx.rect (0,0, canvas.width, canvas.height*this.get('position'));\n\tctx.clip();\n};\n\n/** @private\n*/\nol_control_Swipe.prototype.precomposeRight = function(e) {\n  var ctx = e.context;\n\tvar canvas = ctx.canvas;\n\tctx.save();\n\tctx.beginPath();\n\tif (this.get('orientation') === \"vertical\") ctx.rect (canvas.width*this.get('position'), 0, canvas.width, canvas.height);\n\telse ctx.rect (0,canvas.height*this.get('position'), canvas.width, canvas.height);\n\tctx.clip();\n};\n\n/** @private\n*/\nol_control_Swipe.prototype.postcompose = function(e) {\n  e.context.restore();\n};\n\nexport default ol_control_Swipe\n","/**\n * @module ol/Disposable\n */\n\n/**\n * @classdesc\n * Objects that need to clean up after themselves.\n */\nvar Disposable = function Disposable() {\n  /**\n   * The object has already been disposed.\n   * @type {boolean}\n   * @private\n   */\n  this.disposed_ = false;\n};\n\n/**\n * Clean up.\n */\nDisposable.prototype.dispose = function dispose () {\n  if (!this.disposed_) {\n    this.disposed_ = true;\n    this.disposeInternal();\n  }\n};\n\n/**\n * Extension point for disposable objects.\n * @protected\n */\nDisposable.prototype.disposeInternal = function disposeInternal () {};\n\nexport default Disposable;\n\n//# sourceMappingURL=Disposable.js.map","/**\n * @module ol/TileRange\n */\n\n/**\n * A representation of a contiguous block of tiles.  A tile range is specified\n * by its min/max tile coordinates and is inclusive of coordinates.\n */\nvar TileRange = function TileRange(minX, maxX, minY, maxY) {\n\n  /**\n   * @type {number}\n   */\n  this.minX = minX;\n\n  /**\n   * @type {number}\n   */\n  this.maxX = maxX;\n\n  /**\n   * @type {number}\n   */\n  this.minY = minY;\n\n  /**\n   * @type {number}\n   */\n  this.maxY = maxY;\n\n};\n\n/**\n * @param {import(\"./tilecoord.js\").TileCoord} tileCoord Tile coordinate.\n * @return {boolean} Contains tile coordinate.\n */\nTileRange.prototype.contains = function contains (tileCoord) {\n  return this.containsXY(tileCoord[1], tileCoord[2]);\n};\n\n/**\n * @param {TileRange} tileRange Tile range.\n * @return {boolean} Contains.\n */\nTileRange.prototype.containsTileRange = function containsTileRange (tileRange) {\n  return this.minX <= tileRange.minX && tileRange.maxX <= this.maxX &&\n     this.minY <= tileRange.minY && tileRange.maxY <= this.maxY;\n};\n\n/**\n * @param {number} x Tile coordinate x.\n * @param {number} y Tile coordinate y.\n * @return {boolean} Contains coordinate.\n */\nTileRange.prototype.containsXY = function containsXY (x, y) {\n  return this.minX <= x && x <= this.maxX && this.minY <= y && y <= this.maxY;\n};\n\n/**\n * @param {TileRange} tileRange Tile range.\n * @return {boolean} Equals.\n */\nTileRange.prototype.equals = function equals (tileRange) {\n  return this.minX == tileRange.minX && this.minY == tileRange.minY &&\n     this.maxX == tileRange.maxX && this.maxY == tileRange.maxY;\n};\n\n/**\n * @param {TileRange} tileRange Tile range.\n */\nTileRange.prototype.extend = function extend (tileRange) {\n  if (tileRange.minX < this.minX) {\n    this.minX = tileRange.minX;\n  }\n  if (tileRange.maxX > this.maxX) {\n    this.maxX = tileRange.maxX;\n  }\n  if (tileRange.minY < this.minY) {\n    this.minY = tileRange.minY;\n  }\n  if (tileRange.maxY > this.maxY) {\n    this.maxY = tileRange.maxY;\n  }\n};\n\n/**\n * @return {number} Height.\n */\nTileRange.prototype.getHeight = function getHeight () {\n  return this.maxY - this.minY + 1;\n};\n\n/**\n * @return {import(\"./size.js\").Size} Size.\n */\nTileRange.prototype.getSize = function getSize () {\n  return [this.getWidth(), this.getHeight()];\n};\n\n/**\n * @return {number} Width.\n */\nTileRange.prototype.getWidth = function getWidth () {\n  return this.maxX - this.minX + 1;\n};\n\n/**\n * @param {TileRange} tileRange Tile range.\n * @return {boolean} Intersects.\n */\nTileRange.prototype.intersects = function intersects (tileRange) {\n  return this.minX <= tileRange.maxX &&\n     this.maxX >= tileRange.minX &&\n     this.minY <= tileRange.maxY &&\n     this.maxY >= tileRange.minY;\n};\n\n\n/**\n * @param {number} minX Minimum X.\n * @param {number} maxX Maximum X.\n * @param {number} minY Minimum Y.\n * @param {number} maxY Maximum Y.\n * @param {TileRange=} tileRange TileRange.\n * @return {TileRange} Tile range.\n */\nexport function createOrUpdate(minX, maxX, minY, maxY, tileRange) {\n  if (tileRange !== undefined) {\n    tileRange.minX = minX;\n    tileRange.maxX = maxX;\n    tileRange.minY = minY;\n    tileRange.maxY = maxY;\n    return tileRange;\n  } else {\n    return new TileRange(minX, maxX, minY, maxY);\n  }\n}\n\n\nexport default TileRange;\n\n//# sourceMappingURL=TileRange.js.map","/**\n * @module ol/Object\n */\nimport {getUid} from './util.js';\nimport ObjectEventType from './ObjectEventType.js';\nimport Observable from './Observable.js';\nimport Event from './events/Event.js';\nimport {assign} from './obj.js';\n\n\n/**\n * @classdesc\n * Events emitted by {@link module:ol/Object~BaseObject} instances are instances of this type.\n */\nexport var ObjectEvent = /*@__PURE__*/(function (Event) {\n  function ObjectEvent(type, key, oldValue) {\n    Event.call(this, type);\n\n    /**\n     * The name of the property whose value is changing.\n     * @type {string}\n     * @api\n     */\n    this.key = key;\n\n    /**\n     * The old value. To get the new value use `e.target.get(e.key)` where\n     * `e` is the event object.\n     * @type {*}\n     * @api\n     */\n    this.oldValue = oldValue;\n\n  }\n\n  if ( Event ) ObjectEvent.__proto__ = Event;\n  ObjectEvent.prototype = Object.create( Event && Event.prototype );\n  ObjectEvent.prototype.constructor = ObjectEvent;\n\n  return ObjectEvent;\n}(Event));\n\n\n/**\n * @classdesc\n * Abstract base class; normally only used for creating subclasses and not\n * instantiated in apps.\n * Most non-trivial classes inherit from this.\n *\n * This extends {@link module:ol/Observable} with observable\n * properties, where each property is observable as well as the object as a\n * whole.\n *\n * Classes that inherit from this have pre-defined properties, to which you can\n * add your owns. The pre-defined properties are listed in this documentation as\n * 'Observable Properties', and have their own accessors; for example,\n * {@link module:ol/Map~Map} has a `target` property, accessed with\n * `getTarget()` and changed with `setTarget()`. Not all properties are however\n * settable. There are also general-purpose accessors `get()` and `set()`. For\n * example, `get('target')` is equivalent to `getTarget()`.\n *\n * The `set` accessors trigger a change event, and you can monitor this by\n * registering a listener. For example, {@link module:ol/View~View} has a\n * `center` property, so `view.on('change:center', function(evt) {...});` would\n * call the function whenever the value of the center property changes. Within\n * the function, `evt.target` would be the view, so `evt.target.getCenter()`\n * would return the new center.\n *\n * You can add your own observable properties with\n * `object.set('prop', 'value')`, and retrieve that with `object.get('prop')`.\n * You can listen for changes on that property value with\n * `object.on('change:prop', listener)`. You can get a list of all\n * properties with {@link module:ol/Object~BaseObject#getProperties}.\n *\n * Note that the observable properties are separate from standard JS properties.\n * You can, for example, give your map object a title with\n * `map.title='New title'` and with `map.set('title', 'Another title')`. The\n * first will be a `hasOwnProperty`; the second will appear in\n * `getProperties()`. Only the second is observable.\n *\n * Properties can be deleted by using the unset method. E.g.\n * object.unset('foo').\n *\n * @fires ObjectEvent\n * @api\n */\nvar BaseObject = /*@__PURE__*/(function (Observable) {\n  function BaseObject(opt_values) {\n    Observable.call(this);\n\n    // Call {@link module:ol/util~getUid} to ensure that the order of objects' ids is\n    // the same as the order in which they were created.  This also helps to\n    // ensure that object properties are always added in the same order, which\n    // helps many JavaScript engines generate faster code.\n    getUid(this);\n\n    /**\n     * @private\n     * @type {!Object<string, *>}\n     */\n    this.values_ = {};\n\n    if (opt_values !== undefined) {\n      this.setProperties(opt_values);\n    }\n  }\n\n  if ( Observable ) BaseObject.__proto__ = Observable;\n  BaseObject.prototype = Object.create( Observable && Observable.prototype );\n  BaseObject.prototype.constructor = BaseObject;\n\n  /**\n   * Gets a value.\n   * @param {string} key Key name.\n   * @return {*} Value.\n   * @api\n   */\n  BaseObject.prototype.get = function get (key) {\n    var value;\n    if (this.values_.hasOwnProperty(key)) {\n      value = this.values_[key];\n    }\n    return value;\n  };\n\n  /**\n   * Get a list of object property names.\n   * @return {Array<string>} List of property names.\n   * @api\n   */\n  BaseObject.prototype.getKeys = function getKeys () {\n    return Object.keys(this.values_);\n  };\n\n  /**\n   * Get an object of all property names and values.\n   * @return {Object<string, *>} Object.\n   * @api\n   */\n  BaseObject.prototype.getProperties = function getProperties () {\n    return assign({}, this.values_);\n  };\n\n  /**\n   * @param {string} key Key name.\n   * @param {*} oldValue Old value.\n   */\n  BaseObject.prototype.notify = function notify (key, oldValue) {\n    var eventType;\n    eventType = getChangeEventType(key);\n    this.dispatchEvent(new ObjectEvent(eventType, key, oldValue));\n    eventType = ObjectEventType.PROPERTYCHANGE;\n    this.dispatchEvent(new ObjectEvent(eventType, key, oldValue));\n  };\n\n  /**\n   * Sets a value.\n   * @param {string} key Key name.\n   * @param {*} value Value.\n   * @param {boolean=} opt_silent Update without triggering an event.\n   * @api\n   */\n  BaseObject.prototype.set = function set (key, value, opt_silent) {\n    if (opt_silent) {\n      this.values_[key] = value;\n    } else {\n      var oldValue = this.values_[key];\n      this.values_[key] = value;\n      if (oldValue !== value) {\n        this.notify(key, oldValue);\n      }\n    }\n  };\n\n  /**\n   * Sets a collection of key-value pairs.  Note that this changes any existing\n   * properties and adds new ones (it does not remove any existing properties).\n   * @param {Object<string, *>} values Values.\n   * @param {boolean=} opt_silent Update without triggering an event.\n   * @api\n   */\n  BaseObject.prototype.setProperties = function setProperties (values, opt_silent) {\n    for (var key in values) {\n      this.set(key, values[key], opt_silent);\n    }\n  };\n\n  /**\n   * Unsets a property.\n   * @param {string} key Key name.\n   * @param {boolean=} opt_silent Unset without triggering an event.\n   * @api\n   */\n  BaseObject.prototype.unset = function unset (key, opt_silent) {\n    if (key in this.values_) {\n      var oldValue = this.values_[key];\n      delete this.values_[key];\n      if (!opt_silent) {\n        this.notify(key, oldValue);\n      }\n    }\n  };\n\n  return BaseObject;\n}(Observable));\n\n\n/**\n * @type {Object<string, string>}\n */\nvar changeEventTypeCache = {};\n\n\n/**\n * @param {string} key Key name.\n * @return {string} Change name.\n */\nexport function getChangeEventType(key) {\n  return changeEventTypeCache.hasOwnProperty(key) ?\n    changeEventTypeCache[key] :\n    (changeEventTypeCache[key] = 'change:' + key);\n}\n\n\nexport default BaseObject;\n\n//# sourceMappingURL=Object.js.map","/**\n * @module ol/Collection\n */\nimport AssertionError from './AssertionError.js';\nimport CollectionEventType from './CollectionEventType.js';\nimport BaseObject from './Object.js';\nimport Event from './events/Event.js';\n\n\n/**\n * @enum {string}\n * @private\n */\nvar Property = {\n  LENGTH: 'length'\n};\n\n\n/**\n * @classdesc\n * Events emitted by {@link module:ol/Collection~Collection} instances are instances of this\n * type.\n */\nexport var CollectionEvent = /*@__PURE__*/(function (Event) {\n  function CollectionEvent(type, opt_element) {\n    Event.call(this, type);\n\n    /**\n     * The element that is added to or removed from the collection.\n     * @type {*}\n     * @api\n     */\n    this.element = opt_element;\n\n  }\n\n  if ( Event ) CollectionEvent.__proto__ = Event;\n  CollectionEvent.prototype = Object.create( Event && Event.prototype );\n  CollectionEvent.prototype.constructor = CollectionEvent;\n\n  return CollectionEvent;\n}(Event));\n\n\n/**\n * @typedef {Object} Options\n * @property {boolean} [unique=false] Disallow the same item from being added to\n * the collection twice.\n */\n\n/**\n * @classdesc\n * An expanded version of standard JS Array, adding convenience methods for\n * manipulation. Add and remove changes to the Collection trigger a Collection\n * event. Note that this does not cover changes to the objects _within_ the\n * Collection; they trigger events on the appropriate object, not on the\n * Collection as a whole.\n *\n * @fires CollectionEvent\n *\n * @template T\n * @api\n */\nvar Collection = /*@__PURE__*/(function (BaseObject) {\n  function Collection(opt_array, opt_options) {\n\n    BaseObject.call(this);\n\n    var options = opt_options || {};\n\n    /**\n     * @private\n     * @type {boolean}\n     */\n    this.unique_ = !!options.unique;\n\n    /**\n     * @private\n     * @type {!Array<T>}\n     */\n    this.array_ = opt_array ? opt_array : [];\n\n    if (this.unique_) {\n      for (var i = 0, ii = this.array_.length; i < ii; ++i) {\n        this.assertUnique_(this.array_[i], i);\n      }\n    }\n\n    this.updateLength_();\n\n  }\n\n  if ( BaseObject ) Collection.__proto__ = BaseObject;\n  Collection.prototype = Object.create( BaseObject && BaseObject.prototype );\n  Collection.prototype.constructor = Collection;\n\n  /**\n   * Remove all elements from the collection.\n   * @api\n   */\n  Collection.prototype.clear = function clear () {\n    while (this.getLength() > 0) {\n      this.pop();\n    }\n  };\n\n  /**\n   * Add elements to the collection.  This pushes each item in the provided array\n   * to the end of the collection.\n   * @param {!Array<T>} arr Array.\n   * @return {Collection<T>} This collection.\n   * @api\n   */\n  Collection.prototype.extend = function extend (arr) {\n    for (var i = 0, ii = arr.length; i < ii; ++i) {\n      this.push(arr[i]);\n    }\n    return this;\n  };\n\n  /**\n   * Iterate over each element, calling the provided callback.\n   * @param {function(T, number, Array<T>): *} f The function to call\n   *     for every element. This function takes 3 arguments (the element, the\n   *     index and the array). The return value is ignored.\n   * @api\n   */\n  Collection.prototype.forEach = function forEach (f) {\n    var array = this.array_;\n    for (var i = 0, ii = array.length; i < ii; ++i) {\n      f(array[i], i, array);\n    }\n  };\n\n  /**\n   * Get a reference to the underlying Array object. Warning: if the array\n   * is mutated, no events will be dispatched by the collection, and the\n   * collection's \"length\" property won't be in sync with the actual length\n   * of the array.\n   * @return {!Array<T>} Array.\n   * @api\n   */\n  Collection.prototype.getArray = function getArray () {\n    return this.array_;\n  };\n\n  /**\n   * Get the element at the provided index.\n   * @param {number} index Index.\n   * @return {T} Element.\n   * @api\n   */\n  Collection.prototype.item = function item (index) {\n    return this.array_[index];\n  };\n\n  /**\n   * Get the length of this collection.\n   * @return {number} The length of the array.\n   * @observable\n   * @api\n   */\n  Collection.prototype.getLength = function getLength () {\n    return this.get(Property.LENGTH);\n  };\n\n  /**\n   * Insert an element at the provided index.\n   * @param {number} index Index.\n   * @param {T} elem Element.\n   * @api\n   */\n  Collection.prototype.insertAt = function insertAt (index, elem) {\n    if (this.unique_) {\n      this.assertUnique_(elem);\n    }\n    this.array_.splice(index, 0, elem);\n    this.updateLength_();\n    this.dispatchEvent(\n      new CollectionEvent(CollectionEventType.ADD, elem));\n  };\n\n  /**\n   * Remove the last element of the collection and return it.\n   * Return `undefined` if the collection is empty.\n   * @return {T|undefined} Element.\n   * @api\n   */\n  Collection.prototype.pop = function pop () {\n    return this.removeAt(this.getLength() - 1);\n  };\n\n  /**\n   * Insert the provided element at the end of the collection.\n   * @param {T} elem Element.\n   * @return {number} New length of the collection.\n   * @api\n   */\n  Collection.prototype.push = function push (elem) {\n    if (this.unique_) {\n      this.assertUnique_(elem);\n    }\n    var n = this.getLength();\n    this.insertAt(n, elem);\n    return this.getLength();\n  };\n\n  /**\n   * Remove the first occurrence of an element from the collection.\n   * @param {T} elem Element.\n   * @return {T|undefined} The removed element or undefined if none found.\n   * @api\n   */\n  Collection.prototype.remove = function remove (elem) {\n    var arr = this.array_;\n    for (var i = 0, ii = arr.length; i < ii; ++i) {\n      if (arr[i] === elem) {\n        return this.removeAt(i);\n      }\n    }\n    return undefined;\n  };\n\n  /**\n   * Remove the element at the provided index and return it.\n   * Return `undefined` if the collection does not contain this index.\n   * @param {number} index Index.\n   * @return {T|undefined} Value.\n   * @api\n   */\n  Collection.prototype.removeAt = function removeAt (index) {\n    var prev = this.array_[index];\n    this.array_.splice(index, 1);\n    this.updateLength_();\n    this.dispatchEvent(new CollectionEvent(CollectionEventType.REMOVE, prev));\n    return prev;\n  };\n\n  /**\n   * Set the element at the provided index.\n   * @param {number} index Index.\n   * @param {T} elem Element.\n   * @api\n   */\n  Collection.prototype.setAt = function setAt (index, elem) {\n    var n = this.getLength();\n    if (index < n) {\n      if (this.unique_) {\n        this.assertUnique_(elem, index);\n      }\n      var prev = this.array_[index];\n      this.array_[index] = elem;\n      this.dispatchEvent(\n        new CollectionEvent(CollectionEventType.REMOVE, prev));\n      this.dispatchEvent(\n        new CollectionEvent(CollectionEventType.ADD, elem));\n    } else {\n      for (var j = n; j < index; ++j) {\n        this.insertAt(j, undefined);\n      }\n      this.insertAt(index, elem);\n    }\n  };\n\n  /**\n   * @private\n   */\n  Collection.prototype.updateLength_ = function updateLength_ () {\n    this.set(Property.LENGTH, this.array_.length);\n  };\n\n  /**\n   * @private\n   * @param {T} elem Element.\n   * @param {number=} opt_except Optional index to ignore.\n   */\n  Collection.prototype.assertUnique_ = function assertUnique_ (elem, opt_except) {\n    for (var i = 0, ii = this.array_.length; i < ii; ++i) {\n      if (this.array_[i] === elem && i !== opt_except) {\n        throw new AssertionError(58);\n      }\n    }\n  };\n\n  return Collection;\n}(BaseObject));\n\n\nexport default Collection;\n\n//# sourceMappingURL=Collection.js.map","/**\n * @module ol/colorlike\n */\nimport {toString} from './color.js';\n\n\n/**\n * A type accepted by CanvasRenderingContext2D.fillStyle\n * or CanvasRenderingContext2D.strokeStyle.\n * Represents a color, pattern, or gradient. The origin for patterns and\n * gradients as fill style is an increment of 512 css pixels from map coordinate\n * `[0, 0]`. For seamless repeat patterns, width and height of the pattern image\n * must be a factor of two (2, 4, 8, ..., 512).\n *\n * @typedef {string|CanvasPattern|CanvasGradient} ColorLike\n * @api\n */\n\n\n/**\n * @param {import(\"./color.js\").Color|ColorLike} color Color.\n * @return {ColorLike} The color as an {@link ol/colorlike~ColorLike}.\n * @api\n */\nexport function asColorLike(color) {\n  if (Array.isArray(color)) {\n    return toString(color);\n  } else {\n    return color;\n  }\n}\n\n//# sourceMappingURL=colorlike.js.map","/**\n * @module ol/ImageBase\n */\nimport {abstract} from './util.js';\nimport EventTarget from './events/Target.js';\nimport EventType from './events/EventType.js';\n\n/**\n * @abstract\n */\nvar ImageBase = /*@__PURE__*/(function (EventTarget) {\n  function ImageBase(extent, resolution, pixelRatio, state) {\n\n    EventTarget.call(this);\n\n    /**\n     * @protected\n     * @type {import(\"./extent.js\").Extent}\n     */\n    this.extent = extent;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.pixelRatio_ = pixelRatio;\n\n    /**\n     * @protected\n     * @type {number|undefined}\n     */\n    this.resolution = resolution;\n\n    /**\n     * @protected\n     * @type {import(\"./ImageState.js\").default}\n     */\n    this.state = state;\n\n  }\n\n  if ( EventTarget ) ImageBase.__proto__ = EventTarget;\n  ImageBase.prototype = Object.create( EventTarget && EventTarget.prototype );\n  ImageBase.prototype.constructor = ImageBase;\n\n  /**\n   * @protected\n   */\n  ImageBase.prototype.changed = function changed () {\n    this.dispatchEvent(EventType.CHANGE);\n  };\n\n  /**\n   * @return {import(\"./extent.js\").Extent} Extent.\n   */\n  ImageBase.prototype.getExtent = function getExtent () {\n    return this.extent;\n  };\n\n  /**\n   * @abstract\n   * @return {HTMLCanvasElement|HTMLImageElement|HTMLVideoElement} Image.\n   */\n  ImageBase.prototype.getImage = function getImage () {\n    return abstract();\n  };\n\n  /**\n   * @return {number} PixelRatio.\n   */\n  ImageBase.prototype.getPixelRatio = function getPixelRatio () {\n    return this.pixelRatio_;\n  };\n\n  /**\n   * @return {number} Resolution.\n   */\n  ImageBase.prototype.getResolution = function getResolution () {\n    return /** @type {number} */ (this.resolution);\n  };\n\n  /**\n   * @return {import(\"./ImageState.js\").default} State.\n   */\n  ImageBase.prototype.getState = function getState () {\n    return this.state;\n  };\n\n  /**\n   * Load not yet loaded URI.\n   * @abstract\n   */\n  ImageBase.prototype.load = function load () {\n    abstract();\n  };\n\n  return ImageBase;\n}(EventTarget));\n\n\nexport default ImageBase;\n\n//# sourceMappingURL=ImageBase.js.map","/**\n * @module ol/ImageCanvas\n */\nimport ImageBase from './ImageBase.js';\nimport ImageState from './ImageState.js';\n\n\n/**\n * A function that is called to trigger asynchronous canvas drawing.  It is\n * called with a \"done\" callback that should be called when drawing is done.\n * If any error occurs during drawing, the \"done\" callback should be called with\n * that error.\n *\n * @typedef {function(function(Error=))} Loader\n */\n\n\nvar ImageCanvas = /*@__PURE__*/(function (ImageBase) {\n  function ImageCanvas(extent, resolution, pixelRatio, canvas, opt_loader) {\n\n    var state = opt_loader !== undefined ? ImageState.IDLE : ImageState.LOADED;\n\n    ImageBase.call(this, extent, resolution, pixelRatio, state);\n\n    /**\n     * Optional canvas loader function.\n     * @type {?Loader}\n     * @private\n     */\n    this.loader_ = opt_loader !== undefined ? opt_loader : null;\n\n    /**\n     * @private\n     * @type {HTMLCanvasElement}\n     */\n    this.canvas_ = canvas;\n\n    /**\n     * @private\n     * @type {Error}\n     */\n    this.error_ = null;\n\n  }\n\n  if ( ImageBase ) ImageCanvas.__proto__ = ImageBase;\n  ImageCanvas.prototype = Object.create( ImageBase && ImageBase.prototype );\n  ImageCanvas.prototype.constructor = ImageCanvas;\n\n  /**\n   * Get any error associated with asynchronous rendering.\n   * @return {Error} Any error that occurred during rendering.\n   */\n  ImageCanvas.prototype.getError = function getError () {\n    return this.error_;\n  };\n\n  /**\n   * Handle async drawing complete.\n   * @param {Error=} err Any error during drawing.\n   * @private\n   */\n  ImageCanvas.prototype.handleLoad_ = function handleLoad_ (err) {\n    if (err) {\n      this.error_ = err;\n      this.state = ImageState.ERROR;\n    } else {\n      this.state = ImageState.LOADED;\n    }\n    this.changed();\n  };\n\n  /**\n   * @inheritDoc\n   */\n  ImageCanvas.prototype.load = function load () {\n    if (this.state == ImageState.IDLE) {\n      this.state = ImageState.LOADING;\n      this.changed();\n      this.loader_(this.handleLoad_.bind(this));\n    }\n  };\n\n  /**\n   * @return {HTMLCanvasElement} Canvas element.\n   */\n  ImageCanvas.prototype.getImage = function getImage () {\n    return this.canvas_;\n  };\n\n  return ImageCanvas;\n}(ImageBase));\n\n\nexport default ImageCanvas;\n\n//# sourceMappingURL=ImageCanvas.js.map","/**\n * @module ol/geom/GeometryType\n */\n\n/**\n * The geometry type. One of `'Point'`, `'LineString'`, `'LinearRing'`,\n * `'Polygon'`, `'MultiPoint'`, `'MultiLineString'`, `'MultiPolygon'`,\n * `'GeometryCollection'`, `'Circle'`.\n * @enum {string}\n */\nexport default {\n  POINT: 'Point',\n  LINE_STRING: 'LineString',\n  LINEAR_RING: 'LinearRing',\n  POLYGON: 'Polygon',\n  MULTI_POINT: 'MultiPoint',\n  MULTI_LINE_STRING: 'MultiLineString',\n  MULTI_POLYGON: 'MultiPolygon',\n  GEOMETRY_COLLECTION: 'GeometryCollection',\n  CIRCLE: 'Circle'\n};\n\n//# sourceMappingURL=GeometryType.js.map"],"sourceRoot":""}