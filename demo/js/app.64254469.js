(function(e){function t(t){for(var i,r,n=t[0],l=t[1],c=t[2],h=0,d=[];h<n.length;h++)r=n[h],a[r]&&d.push(a[r][0]),a[r]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);u&&u(t);while(d.length)d.shift()();return o.push.apply(o,c||[]),s()}function s(){for(var e,t=0;t<o.length;t++){for(var s=o[t],i=!0,n=1;n<s.length;n++){var l=s[n];0!==a[l]&&(i=!1)}i&&(o.splice(t--,1),e=r(r.s=s[0]))}return e}var i={},a={app:0},o=[];function r(t){if(i[t])return i[t].exports;var s=i[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=e,r.c=i,r.d=function(e,t,s){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(s,i,function(t){return e[t]}.bind(null,i));return s},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/openeo-web-editor/demo/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=t,n=n.slice();for(var c=0;c<n.length;c++)t(n[c]);var u=l;o.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"025e":function(e,t,s){"use strict";s("4917"),s("386d"),s("a481"),s("7f7f");var i=s("a1bc"),a=s("fbda"),o=s("2f62");t["a"]={exception:function(e,t,s){console.log(t);var i=null,a=s;this.isObject(t)&&"string"===typeof t.message?(i=t.code>0?"Error #"+t.code:s,a=t.message):"string"===typeof t&&(a=t,i=s),this.error(e,a,i)},error:function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.$snotify.error(t,s,i["a"].snotifyDefaults)},info:function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.$snotify.info(t,s,i["a"].snotifyDefaults)},ok:function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a={timeout:2e3};e.$snotify.success(t,s,Object.assign({},i["a"].snotifyDefaults,a))},confirm:function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a={timeout:1e4,closeOnClick:!1,buttons:s};e.$snotify.confirm(t,null,Object.assign({},i["a"].snotifyDefaults,a))},blobToText:function(e,t){var s=new FileReader;s.onload=t,s.readAsText(e)},isChildOfModal:function(e){return e.$parent&&"Modal"==e.$parent.$options.name},getFileNameFromURL:function(e){return e=e.substring(0,-1==e.indexOf("#")?e.length:e.indexOf("#")),e=e.substring(0,-1==e.indexOf("?")?e.length:e.indexOf("?")),e=e.substring(e.lastIndexOf("/")+1,e.length),e},formatDateTime:function(e){if(!e)return"";var t=new Date(e);return t.toISOString().replace("T"," ").replace("Z","").substring(0,19)},getMimeTypeForOutputFormat:function(e){if(!e.format)return null;var t=e.format.toLowerCase();switch(t){case"png":case"jpeg":case"jpg":case"gif":return"image/"+t;case"tif":case"tiff":case"gtiff":return"image/tiff";case"json":return"application/json";default:return null}},param:function(e){var t=new URLSearchParams(window.location.search);return t.get(e)},isUrl:function(e){return"string"===typeof e&&e.length>0&&null!==e.match(/^https?:\/\//i)},isObject:function(e){return a["Utils"].isObject(e)},size:function(e){return a["Utils"].size(e)},domBoundingBox:function(e){var t=e.getBoundingClientRect();return t.offsetTop=t.top+document.body.scrollTop,t.offsetLeft=t.left+document.body.scrollLeft,t},mapState:o["e"],mapGetters:o["c"],mapMutations:o["d"],mapActions:o["b"]}},"0750":function(e,t,s){},"0791":function(e,t,s){"use strict";var i=s("22f1"),a=s.n(i);a.a},"0b46":function(e,t,s){},"0df61":function(e,t,s){"use strict";var i=s("10b5"),a=s.n(i);a.a},"0f0f":function(e,t,s){},"10b5":function(e,t,s){},1190:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"sourceHeader"},[e.scriptName?s("h3",[e._v(e._s(e.scriptName))]):e._e(),s("div",{staticClass:"sourceToolbar"},[e._t("default"),s("span",{staticClass:"sepl"},[e.editable?s("button",{attrs:{type:"button",title:"Clear current script / New script"},on:{click:e.newScript}},[s("i",{staticClass:"fas fa-file"})]):e._e(),e.editable?s("button",{attrs:{type:"button",title:"Load script from local storage"},on:{click:e.openScriptChooser}},[s("i",{staticClass:"fas fa-folder-open"})]):e._e(),s("button",{attrs:{type:"button",title:"Save script to local storage"},on:{click:e.saveScript}},[s("i",{staticClass:"fas fa-save"})])]),e.editable&&this.supports("computeResult")?s("button",{staticClass:"sepl",attrs:{type:"button",title:"Run current process graph and view results"},on:{click:e.executeProcessGraph}},[s("i",{staticClass:"fas fa-play"})]):e._e()],2)])},a=[],o=(s("7f7f"),s("cebc")),r=s("6168"),n=s("025e"),l={name:"EditorToolbar",props:{editable:{type:Boolean,default:!0},onClear:{type:Function,required:!0},onInsert:{type:Function,required:!0},onStore:{type:Function,required:!0}},data:function(){return{scriptName:""}},computed:Object(o["a"])({},n["a"].mapState("server",["connection"]),n["a"].mapState("editor",["storedScripts"]),n["a"].mapGetters("server",["supports"])),methods:Object(o["a"])({},n["a"].mapMutations("editor",["addScript","removeScript"]),{newScript:function(){var e=confirm("Do you really want to clear the existing script to create a new one?");e&&(this.onClear(),this.scriptName=null)},loadScript:function(e){var t=this.storedScripts[e];return t?(this.onInsert(t),this.scriptName=e,!0):(n["a"].info(this,'No script with the name "'+e+'" found.'),!1)},openScriptChooser:function(){var e=this;r["a"].$emit("showListModal","Select script to load",this.storedScripts,[{callback:function(t){return e.loadScript(t)}},{callback:function(t){return e.removeScript(t)},icon:"trash",title:"Delete script"}])},saveScript:function(){var e=this,t=prompt("Name for the script:",this.scriptName);t&&this.onStore(function(s){e.addScript({name:t,script:s}),e.scriptName=t})},executeProcessGraph:function(){var e=this;r["a"].$emit("getProcessGraph",function(t){n["a"].info(e,"Data requested. Please wait..."),e.connection.computeResult(t).then(function(e){return r["a"].$emit("showInViewer",e)}).catch(function(t){return n["a"].exception(e,t,"Sorry, could not execute process graph.")})})}})},c=l,u=(s("f196"),s("2877")),h=Object(u["a"])(c,i,a,!1,null,null,null);t["a"]=h.exports},1677:function(e,t,s){"use strict";var i=s("0f0f"),a=s.n(i);a.a},1887:function(e,t,s){},"1aec":function(e,t,s){"use strict";var i=s("6313"),a=s.n(i);a.a},"22d7":function(e,t,s){"use strict";var i=s("b52e"),a=s.n(i);a.a},"22f1":function(e,t,s){},"2bd0":function(e,t,s){"use strict";var i=s("bfcb"),a=s.n(i);a.a},"2d07":function(e,t,s){"use strict";var i=s("5ebb"),a=s.n(i);a.a},"352f":function(e,t,s){"use strict";var i=s("82a7"),a=s.n(i);a.a},"39fd":function(e,t,s){},4371:function(e,t,s){},"468d":function(e,t,s){},"47b0":function(e,t,s){"use strict";var i=s("a6a9"),a=s.n(i);a.a},"4ab7":function(e,t,s){},"4d98":function(e,t,s){"use strict";var i=s("7b23"),a=s.n(i);a.a},5117:function(e,t,s){"use strict";var i=s("5740"),a=s.n(i);a.a},"56d7":function(e,t,s){"use strict";s.r(t);s("cadf"),s("551c"),s("f751"),s("097d");var i=s("2b0e"),a=s("f213"),o=(s("fbfd"),s("2f62")),r=(s("55dd"),s("ac6a"),s("5df3"),s("7f7f"),s("96cf"),s("3b8d")),n=s("e97b"),l=function(){return{connection:null,requireAuthentication:!0,userId:null,connectionError:null,discoveryErrors:[],outputFormats:{},serviceTypes:{},processes:[],collections:[]}},c={namespaced:!0,state:l(),getters:{capabilities:function(e){return null!==e.connection?e.connection.capabilities():null},supports:function(e){return function(t){return null!==e.connection&&null!==e.connection.capabilities()&&e.connection.capabilities().hasFeature(t)}},formatCurrency:function(e){return function(t){var s="";return e.connection&&null!==e.connection.capabilities().currency()&&(s=" "+e.connection.capabilities().currency()),t+s}},isConnected:function(e){return null!==e.connection&&(!e.requireAuthentication||null!==e.userId)}},actions:{connect:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t,s){var i,a,o,r,l,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return i=t.commit,a=s.url,o=s.requireAuthentication,i("reset"),e.prev=3,e.next=6,n["OpenEO"].connect(a);case 6:r=e.sent,i("connection",r),e.next=15;break;case 10:return e.prev=10,e.t0=e["catch"](3),"Network Error"!=e.t0.message&&"NetworkError"!=e.t0.name||(e.t0=new Error("Server is not available.")),i("setConnectionError",e.t0),e.abrupt("return",!1);case 15:return l=[],c=r.capabilities(),c.hasFeature("listCollections")?l.push(r.listCollections().then(function(e){return i("collections",e)}).catch(function(e){return i("addDiscoveryError",e)})):i("addDiscoveryError",new Error("Collections not supported by the back-end.")),c.hasFeature("listProcesses")?l.push(r.listProcesses().then(function(e){return i("processes",e)}).catch(function(e){return i("addDiscoveryError",e)})):i("addDiscoveryError",new Error("Processes not supported by the back-end.")),c.hasFeature("listFileTypes")&&l.push(r.listFileTypes().then(function(e){return i("outputFormats",e)}).catch(function(e){return i("addDiscoveryError",e)})),c.hasFeature("listServiceTypes")&&l.push(r.listServiceTypes().then(function(e){return i("serviceTypes",e)}).catch(function(e){return i("addDiscoveryError",e)})),e.next=23,Promise.all(l);case 23:return i("requireAuthentication",o),e.abrupt("return",!0);case 25:case"end":return e.stop()}},e,null,[[3,10]])}));function t(t,s){return e.apply(this,arguments)}return t}(),authenticateBasic:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t,s){var i,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(i=s.username,a=s.password,!t.getters.supports("authenticateBasic")){e.next=7;break}return e.next=4,t.state.connection.authenticateBasic(i,a);case 4:t.commit("userId",t.state.connection.getUserId()),e.next=8;break;case 7:throw"Sorry, Basic authentication is not supported.";case 8:case"end":return e.stop()}},e)}));function t(t,s){return e.apply(this,arguments)}return t}()},mutations:{requireAuthentication:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.requireAuthentication=t},connection:function(e,t){e.connection=t},userId:function(e,t){e.userId=t},outputFormats:function(e,t){e.outputFormats=t},serviceTypes:function(e,t){e.serviceTypes=t},processes:function(e,t){var s=[];for(var i in t.processes)"undefined"!==typeof t.processes[i].id&&s.push(t.processes[i]);s.sort(function(e,t){return e.id.localeCompare(t.id)}),e.processes=s},collections:function(e,t){var s=[];for(var i in t.collections)"undefined"!==typeof t.collections[i].id&&s.push(t.collections[i]);s.sort(function(e,t){return e.id.localeCompare(t.id)}),e.collections=s},setConnectionError:function(e,t){e.connectionError=t},addDiscoveryError:function(e,t){e.discoveryErrors.push(t)},reset:function(e){Object.assign(e,l())}}},u="serverUrls",h="savedScripts",d={namespaced:!0,state:{storedServers:JSON.parse(localStorage.getItem(u)||"[]"),storedScripts:JSON.parse(localStorage.getItem(h)||"{}")},getters:{getScriptByName:function(e){return function(t){return e.storedScripts[t]}}},actions:{},mutations:{addServer:function(e,t){-1===e.storedServers.indexOf(t)&&e.storedServers.push(t),localStorage.setItem(u,JSON.stringify(e.storedServers))},removeServer:function(e,t){e.storedServers.splice(e.storedServers.indexOf(t),1),localStorage.setItem(u,JSON.stringify(e.storedServers))},addScript:function(e,t){var s=t.name,i=t.script;e.storedScripts[s]=i,localStorage.setItem(h,JSON.stringify(e.storedScripts))},removeScript:function(e,t){i["a"].delete(e.storedScripts,t),localStorage.setItem(h,JSON.stringify(e.storedScripts))}}};i["a"].use(o["a"]);var p,f,v=new o["a"].Store({modules:{server:c,editor:d}}),m=s("a1bc"),b=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"container"}},[e.isConnected?s("IDE"):s("ConnectForm"),s("Modal",{ref:"modal",attrs:{maxWidth:"60%"}}),s("vue-snotify"),s("div",{ref:"webEditorInfo",staticStyle:{display:"none"}},[s("p",[e._v(e._s(e.pkg.description))]),e._m(0),s("h3",[e._v("Supported API versions:")]),s("ul",e._l(e.pkg.apiVersions,function(t){return s("li",{key:t},[e._v(e._s(t))])}),0)])],1)},g=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("p",[e._v("This software is published by the "),s("strong",[e._v("openEO Consortium")]),e._v(" under the "),s("strong",[e._v("Apache 2.0 license")]),e._v(". Please find more information about the openEO project on our "),s("a",{attrs:{href:"http://www.openeo.org",target:"_blank"}},[e._v("homepage")]),e._v(" and visit the "),s("a",{attrs:{href:"https://github.com/Open-EO/openeo-web-editor",target:"_blank"}},[e._v("GitHub repository")]),e._v(" for information about the Web Editor. Feel encouraged to "),s("strong",[e._v("report bugs, feature requests and other issues in the "),s("a",{attrs:{href:"https://github.com/Open-EO/openeo-web-editor/issues",target:"_blank"}},[e._v("GitHub issue tracker")])]),e._v(".")])}],y=s("cebc"),w=s("9224"),k=s("6168"),C=s("025e"),S=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"login"}},[i("form",{on:{submit:function(t){return t.preventDefault(),e.submitForm(t)}}},[i("header",{staticClass:"logo"},[i("img",{attrs:{src:s("cf05"),alt:"openEO"}}),i("h2",[e._v("Web Editor "),i("span",{staticClass:"version",on:{click:e.showWebEditorInfo}},[e._v(e._s(e.version))])])]),e.message?i("div",{staticClass:"message",domProps:{innerHTML:e._s(e.message)}}):e._e(),i("h3",[e._v("Connect to server")]),i("div",{staticClass:"row"},[i("label",{attrs:{for:"username"}},[e._v("Server:")]),i("div",{staticClass:"input"},[i("input",{directives:[{name:"model",rawName:"v-model.lazy.trim",value:e.serverUrl,expression:"serverUrl",modifiers:{lazy:!0,trim:!0}}],attrs:{id:"serverUrl"},domProps:{value:e.serverUrl},on:{change:function(t){e.serverUrl=t.target.value.trim()},blur:function(t){return e.$forceUpdate()}}}),i("button",{attrs:{type:"button",title:"Select previously used server"},on:{click:e.showServerSelector}},[i("i",{staticClass:"fas fa-book"})])])]),i("div",{staticClass:"row"},[i("label",{attrs:{for:"username"}},[e._v("Username:")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"input",attrs:{id:"username",type:"text"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}})]),i("div",{staticClass:"row"},[i("label",{attrs:{for:"password"}},[e._v("Password:")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"input",attrs:{id:"password",type:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),i("div",{staticClass:"row"},[i("button",{staticClass:"connectBtn",class:{connecting:e.connecting},attrs:{type:"submit"}},[i("i",{staticClass:"fas fa-spinner fa-spin fa-lg"}),e._v(" Connect")])])])])},_=[],x=(s("ac4d"),s("8a81"),s("8c7c")),P={name:"ConnectForm",mixins:[x["a"]],computed:Object(y["a"])({},C["a"].mapState("server",["connectionError","discoveryErrors"]),C["a"].mapState("editor",["storedServers"])),data:function(){return{serverUrl:m["a"].serverUrl,username:"",password:"",connecting:!1,version:w.version,message:m["a"].loginMessage}},created:function(){var e=C["a"].param("server");C["a"].isUrl(e)&&(this.serverUrl=e)},methods:Object(y["a"])({},C["a"].mapActions("server",["connect","authenticateBasic"]),C["a"].mapMutations("editor",["addServer","removeServer"]),{submitForm:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){var t,s,i,a,o,r,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if("string"===typeof this.serverUrl&&C["a"].isUrl(this.serverUrl)){e.next=5;break}return C["a"].error(this,"Please specify a valid server."),e.abrupt("return");case 5:if("https:"!==window.location.protocol||"https:"===this.serverUrl.toLowerCase().substr(0,6)){e.next=8;break}return C["a"].error(this,"You are trying to connect to a back-end with HTTP instead of HTTPS, which is insecure and prohibited by web browsers. Please use HTTPS instead."),e.abrupt("return");case 8:return t=this.username||this.password,this.connecting=!0,e.prev=10,e.next=13,this.connect({url:this.serverUrl,requireAuthentication:t});case 13:if(!e.sent){e.next=17;break}this.addServer(this.serverUrl),e.next=20;break;case 17:return this.connecting=!1,C["a"].exception(this,this.connectionError),e.abrupt("return");case 20:e.next=27;break;case 22:return e.prev=22,e.t0=e["catch"](10),this.connecting=!1,C["a"].exception(this,e.t0),e.abrupt("return");case 27:for(s=!0,i=!1,a=void 0,e.prev=30,o=this.discoveryErrors[Symbol.iterator]();!(s=(r=o.next()).done);s=!0)n=r.value,C["a"].exception(this,n);e.next=38;break;case 34:e.prev=34,e.t1=e["catch"](30),i=!0,a=e.t1;case 38:e.prev=38,e.prev=39,s||null==o.return||o.return();case 41:if(e.prev=41,!i){e.next=44;break}throw a;case 44:return e.finish(41);case 45:return e.finish(38);case 46:if(!t){e.next=66;break}if(e.prev=47,this.supports("authenticateBasic")||!this.supports("authenticateOIDC")){e.next=52;break}C["a"].error(this,"Sorry, the authentication methods supported by the back-end are not supported by the Web Editor."),e.next=59;break;case 52:if(!this.supports("authenticateBasic")){e.next=58;break}return e.next=55,this.authenticateBasic({username:this.username,password:this.password});case 55:C["a"].ok(this,"Login successful."),e.next=59;break;case 58:C["a"].error(this,"Sorry, the authentication methods is not supported by the Web Editor.");case 59:e.next=64;break;case 61:e.prev=61,e.t2=e["catch"](47),C["a"].error(this,"Sorry, credentials are wrong.");case 64:e.next=67;break;case 66:C["a"].info(this,"You are working as a guest. Your data will be publicly available!");case 67:this.connecting=!1;case 68:case"end":return e.stop()}},e,this,[[10,22],[30,34,38,46],[39,,41,45],[47,61]])}));function t(){return e.apply(this,arguments)}return t}(),showWebEditorInfo:function(){k["a"].$emit("showWebEditorInfo")},showServerSelector:function(){var e=this;k["a"].$emit("showListModal","Select previously used server",this.storedServers,[{callback:function(t){return e.serverUrl=t,!0}},{callback:function(t){return e.removeServer(t)},icon:"trash",title:"Delete entry from history"}])}})},E=P,M=(s("a986"),s("2877")),O=Object(M["a"])(E,S,_,!1,null,null,null),T=O.exports,D=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"wrapper"}},[i("div",{attrs:{id:"ide"},on:{mouseup:function(t){return e.stopMovingSeparator(t)},mousemove:function(t){return e.moveSeparator(t)}}},[i("header",{staticClass:"navbar"},[i("div",{staticClass:"logo"},[i("img",{attrs:{src:s("cf05"),alt:"openEO"}}),i("h2",[e._v("Web Editor "),i("span",{staticClass:"version",on:{click:e.showWebEditorInfo}},[e._v(e._s(e.version))])])]),i("ul",{attrs:{id:"menu"}},[i("li",[i("div",{staticClass:"menuItem",attrs:{title:"Get server information"},on:{click:e.showServerInfo}},[i("i",{staticClass:"fas fa-info fa-fw"}),e._v(" Server")])]),i("li",[i("UserMenu")],1)])]),i("main",{staticClass:"page"},[i("div",{ref:"workspace",attrs:{id:"workspace"}},[i("Editor",{ref:"editor",attrs:{id:"mainEditor"}}),i("UserWorkspace")],1),i("hr",{ref:"separator",attrs:{id:"separator"},on:{dblclick:function(t){return e.centerSeparator()},mousedown:function(t){return e.startMovingSeparator(t)}}}),i("div",{attrs:{id:"viewer"}},[i("Viewer")],1)])]),i("CollectionModal",{ref:"collectionModal"}),i("ProcessModal",{ref:"processModal"}),i("ServerInfoModal",{ref:"serverInfoModal"}),i("ServiceInfoModal",{ref:"serviceModal"}),i("JobInfoModal",{ref:"jobModal"}),i("ProcessGraphInfoModal",{ref:"pgModal"})],1)},j=[],A=(s("7514"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"UserMenu"}},[s("div",{staticClass:"menuItem"},[e._m(0),s("div",{staticClass:"data"},[s("span",{staticClass:"name nowrap"},[s("i",{staticClass:"fas fa-user"}),e._v(" "+e._s(e.userName))]),e.hasBudget?s("span",{staticClass:"credits nowrap"},[s("i",{staticClass:"fas fa-dollar-sign fa-fw"}),e._v(" "+e._s(e.budget))]):e._e(),e.hasStorage?s("span",{staticClass:"storage nowrap"},[s("i",{staticClass:"fas fa-database fa-fw"}),e._v(" "+e._s(e.storageUsedPercent)+"% used")]):e._e()])]),s("div",{staticClass:"dropdown"},[s("div",{staticClass:"item"},[e._v("\n\t\t\tWelcome, "+e._s(e.userName)+"!\n\t\t")]),e.hasStorage?s("div",{staticClass:"item"},[s("h4",[e._v("Storage")]),s("div",{staticClass:"storagePercent"},[s("div",{staticClass:"used",style:"width: "+this.storageUsedPercent+"%"})]),s("div",{staticClass:"nowrap"},[e._v("Used "+e._s(e.formatMegabyte(this.storageUsed))+" of "+e._s(e.formatMegabyte(this.me.storage.quota))+".")])]):e._e(),Array.isArray(e.me.links)&&e.me.links.length>0?s("div",{staticClass:"item"},[s("h4",[e._v("Additional resources")]),s("LinkList",{attrs:{links:e.me.links}})],1):e._e(),s("div",{staticClass:"item"},[s("button",{staticClass:"navButton",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.reset()}}},[s("i",{staticClass:"fas fa-sign-out-alt"}),e._v(" Logout")])])])])}),F=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"down"},[s("i",{staticClass:"fas fa-chevron-down"})])}],I=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"dataTable",attrs:{id:e.id}},[s("div",{staticClass:"dataTableMenu"},[s("div",{staticClass:"dataTableToolbar"},[e._t("toolbar")],2),e.data.length>0?s("div",{staticClass:"dataTableFilter"},[s("i",{staticClass:"fas fa-search filter-icon"}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.filterValue,expression:"filterValue"}],attrs:{type:"text",placeholder:"Search term"},domProps:{value:e.filterValue},on:{input:function(t){t.target.composing||(e.filterValue=t.target.value)}}}),s("button",{attrs:{type:"button",disabled:!e.hasFilter},on:{click:e.clearFilter}},[s("i",{staticClass:"fas fa-times-circle"})])]):e._e()]),e.data.length>0||"undefined"==typeof e.noDataMessage||""==e.noDataMessage?s("table",[s("tr",e._l(e.columns,function(t,i){return s("th",{directives:[{name:"show",rawName:"v-show",value:!t.hide,expression:"!col.hide"}],key:i,class:i},[e._v(e._s(t.name))])}),0),e._l(e.view,function(t,i){return s("tr",{key:i},e._l(e.columns,function(i,a){return s("td",{directives:[{name:"show",rawName:"v-show",value:!i.hide,expression:"!col.hide"}],key:a,class:[a,{edit:e.canEdit(i)}],attrs:{title:!!e.canEdit(i)&&"Double-click to change the value","data-value":!!i.stylable&&e.value(t,i,a)},on:{dblclick:function(s){return e.onDblClick(s,t,i,a)}}},[e._t(a,[e.showEditField(t,i,a)?[s("form",{on:{submit:function(s){return s.preventDefault(),s.stopPropagation(),e.saveEditField(s,t,i,a)}}},[s("input",{ref:"editField",refInFor:!0,attrs:{type:"text"},domProps:{value:e.value(t,i,a)},on:{blur:function(s){return e.saveEditField(s,t,i,a)},keyup:function(s){return e.resetEditFieldEsc(s,t,i,a)}}})])]:[e._v("\n\t\t\t\t\t\t"+e._s(e.formattedValue(t,i,a))+"\n\t\t\t\t\t")]],{row:t,col:i,id:a})],2)}),0)}),e.data.length>0&&0==e.view.length?s("tr",{staticClass:"noSearchResults"},[s("td",{attrs:{colspan:e.columnCount}},[e._v("Sorry, no element matches your search criteria.")])]):e._e()],2):e._e(),0==e.data.length?s("div",{staticClass:"noDataMessage"},[e._v(e._s(e.noDataMessage))]):e._e()])},L=[],$=(s("6b54"),s("20d6"),s("7618")),N=(s("456d"),{name:"DataTable",props:["id","columns","dataSource"],data:function(){return{data:[],view:[],filterValue:null,primaryKey:null,noDataMessage:"No data specified.",editField:null}},watch:{data:function(e,t){this.updateView()},filterValue:function(e,t){this.updateView()}},computed:{columnCount:function(){return Object.keys(this.columns).length},hasFilter:function(){return"string"===typeof this.filterValue&&this.filterValue.length>0}},created:function(){this.determinePrimaryKey()},methods:{canEdit:function(e){return"function"===typeof e.edit},showEditField:function(e,t,s){return this.canEdit(t)&&null!=this.editField&&this.editField[0]==e&&this.editField[1]==s},onDblClick:function(e,t,s,i){var a=this;if(!this.canEdit(s)){var o=this.value(t,s,i);if("boolean"===typeof o){var r=this.columns[i].edit;r(t)}else this.editField=[t,i],this.$nextTick(function(){return a.$refs.editField[0].focus()});e.preventDefault(),e.stopPropagation()}},saveEditField:function(e,t,s,i){if(null!==this.editField&&this.canEdit(s)){var a=this.columns[i].edit;a(t,this.$refs.editField[0].value),this.editField=null,e.preventDefault(),e.stopPropagation()}},resetEditFieldEsc:function(e,t,s,i){"Escape"==e.key&&(this.editField=null)},determinePrimaryKey:function(){for(var e in this.columns)if(this.columns[e].primaryKey){this.primaryKey=e;break}},setNoData:function(e){this.data=[],"string"!=typeof e?C["a"].isObject(e)&&("object"===Object($["a"])(e.data)&&"object"===Object($["a"])(e.config)&&"object"===Object($["a"])(e.headers)&&(e=e.data),C["a"].isObject(e)&&"string"===typeof e.message)?this.noDataMessage=e.message:(console.log(e),this.noDataMessage="Sorry, an unknown error has occured."):this.noDataMessage=e},retrieveData:function(){var e=this;this.setNoData("Loading data..."),this.data=[],"function"===typeof this.dataSource?this.dataSource().then(function(t){Array.isArray(t)?0==t.length?e.setNoData(""):e.setData(t):e.setNoData("Invalid response from data source.")}).catch(function(t){e.setNoData(t)}):Array.isArray(this.dataSource)?0==this.dataSource.length?this.setNoData(""):this.setData(this.dataSource):this.setNoData("No valid data source specified.")},setData:function(e){this.noDataMessage=void 0,this.data=e},removeData:function(e){var t=this;if(null===this.primaryKey)throw new Error("No primary key specified.");this.data=this.data.filter(function(s){return s[t.primaryKey]!=e}),0==this.data.length&&this.setNoData("")},addData:function(e){if(!e.hasOwnProperty(this.primaryKey))throw new Error("Object does not contain a value for the primary key.");this.data.push(e)},replaceData:function(e){var t=this;if(null===this.primaryKey)throw new Error("No primary key specified.");if(!e.hasOwnProperty(this.primaryKey))throw new Error("Object does not contain a value for the primary key.");var s=this.data.findIndex(function(s){return s[t.primaryKey]==e[t.primaryKey]});s>=0?this.$set(this.data,s,e):this.data.push(e)},value:function(e,t,s){var i;return i="object"===Object($["a"])(e)?e[s]:e,C["a"].isObject(t)&&"function"===typeof t.computedValue&&(i=t.computedValue(e,i)),i},formattedValue:function(e,t,s){return this.format(this.value(e,t,s),t)},sort:function(){},filter:function(){var e=this;if(this.hasFilter){var t=this.filterValue.toLowerCase();this.view=this.view.filter(function(s){for(var i in s){var a=e.columns[i];if(!("undefined"===typeof a||a.hasOwnProperty("filterable")&&!1===a.filterable)){var o=e.value(s,a,i);if(("number"===typeof o||"string"===typeof o||"boolean"===typeof o)&&(o=o.toString(),-1!==o.toLowerCase().indexOf(t)))return!0}}return!1})}},clearFilter:function(){this.filterValue="",this.updateView()},updateView:function(){Array.isArray(this.data)?(this.view=this.data,this.data.length>0&&(this.filter(),this.sort())):this.view=[]},format:function(e,t){return"string"===typeof t.format?"function"===typeof this["format"+t.format]?e=this["format"+t.format](e,t):console.log(t.format+" is an invalid formatter."):"function"===typeof t.format&&(e=t.format.call(this,e,t)),e},formatFileSize:function(e,t){if(!e)return"";var s=0==e?0:Math.floor(Math.log(e)/Math.log(1024));return 1*(e/Math.pow(1024,s)).toFixed(2)+" "+["B","kB","MB","GB","TB"][s]},formatDateTime:function(e,t){return C["a"].formatDateTime(e)},formatUpperCase:function(e,t){return"string"===typeof e?e.toUpperCase():e}}}),V=N,G=(s("6224"),Object(M["a"])(V,I,L,!1,null,null,null)),B=G.exports,J={mixins:[x["a"]],components:{DataTable:B},data:function(){return{columns:{}}},computed:{userId:{get:function(){return this.connection?this.connection.getUserId():null}}},watch:{userId:function(e,t){e!==t&&this.updateData()}},mounted:function(){this.updateData()},methods:{updateData:function(){},updateTable:function(e,t,s){this.$refs.table&&(this.supports("createJob")||this.supports("listJobs")?"string"!==typeof this.userId&&"number"!==typeof this.userId?this.$refs.table.setNoData("Please authenticate to use this feature."):this.$refs.table.retrieveData():this.$refs.table.setNoData("Sorry, this feature is not supported by the server."))}}},U=J,R=Object(M["a"])(U,p,f,!1,null,null,null),q=R.exports,H=s("4845"),Y={name:"UserMenu",mixins:[q],components:{LinkList:H["a"]},data:function(){return{me:{}}},computed:Object(y["a"])({},C["a"].mapGetters("server",["formatCurrency"]),{hasBudget:function(){return"number"===typeof this.me.budget&&this.me.budget>=0},hasStorage:function(){return C["a"].isObject(this.me.storage)&&"number"===typeof this.me.storage.quota&&"number"===typeof this.me.storage.free},budget:function(){return this.hasBudget?this.formatCurrency(this.me.budget):"Unknown"},userName:function(){return this.userId?this.userId:"Guest"},storageUsed:function(){return this.hasStorage?this.me.storage.quota-this.me.storage.free:null},storageUsedPercent:function(){return this.hasStorage?Math.round(this.storageUsed/this.me.storage.quota*100):null}}),methods:Object(y["a"])({},C["a"].mapMutations("server",["reset"]),{updateData:function(){var e=this;this.connection&&this.supports("describeAccount")&&this.userId&&this.connection.describeAccount().then(function(t){return e.me=t}).catch(function(t){C["a"].exception(e,t,"Sorry, could not load account information.")})},formatMegabyte:function(e){var t=1073741824;return e>t?Math.round(e/t)+" GB":Math.round(e/1048576)+" MB"}})},z=Y,W=(s("1aec"),Object(M["a"])(z,A,F,!1,null,"0cbac57a",null)),X=W.exports,Z=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Tabs",{directives:[{name:"show",rawName:"v-show",value:e.isConnected,expression:"isConnected"}],ref:"tabs",attrs:{id:"userContent"}},[e.supportsJobs?s("Tab",{attrs:{id:"jobs",name:"Batch Jobs",icon:"fa-tasks"},scopedSlots:e._u([{key:"tab",fn:function(){return[s("JobPanel")]},proxy:!0}],null,!1,251487246)}):e._e(),e.supportsServices?s("Tab",{attrs:{id:"services",name:"Web Services",icon:"fa-cloud"},scopedSlots:e._u([{key:"tab",fn:function(){return[s("ServicePanel")]},proxy:!0}],null,!1,2213934452)}):e._e(),e.supportsProcessGraphs?s("Tab",{attrs:{id:"storedProcessGraphs",name:"Process Graphs",icon:"fa-code-branch"},scopedSlots:e._u([{key:"tab",fn:function(){return[s("ProcessGraphPanel")]},proxy:!0}],null,!1,3010530414)}):e._e(),e.supportsFiles?s("Tab",{attrs:{id:"files",name:"Files",icon:"fa-file"},scopedSlots:e._u([{key:"tab",fn:function(){return[s("FilePanel")]},proxy:!0}],null,!1,3258260911)}):e._e()],1)},K=[],Q=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"tabs",attrs:{id:e.id}},[s("div",{staticClass:"tabsHeader"},e._l(e.tabs,function(t){return s("button",{directives:[{name:"show",rawName:"v-show",value:t.shown,expression:"tab.shown"}],key:t.id,class:{tabItem:!0,tabActive:t.active},attrs:{type:"button"},on:{click:function(s){return e.selectTab(t)}}},[s("i",{class:["fas",t.icon]}),e._v(" "+e._s(t.name)+"\n\t\t")])}),0),s("div",{staticClass:"tabsBody"},[e._t("default")],2)])},ee=[],te={name:"Tabs",props:{id:{type:String,required:!0}},data:function(){return{tabs:[]}},created:function(){this.tabs=this.$children},methods:{getActiveTab:function(){for(var e in this.tabs)if(this.tabs[e].active)return this.tabs[e].id;return null},selectTab:function(e){var t="string"===typeof e?e:e.id;this.tabs.forEach(function(e){e.active=e.id==t})},resetActiveTab:function(){this.selectTab(this.tabs[0])}}},se=te,ie=(s("47b0"),Object(M["a"])(se,Q,ee,!1,null,null,null)),ae=ie.exports,oe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"show",rawName:"v-show",value:e.shown&&e.active,expression:"shown && active"}],staticClass:"tabContent"},[e._t("tab",null,{tab:this})],2)},re=[],ne={name:"Tab",props:{id:{type:String,required:!0},name:{type:String,required:!0},icon:{type:String,required:!0},selected:{type:Boolean,default:!1},shown:{type:Boolean,default:!0},onActivate:{type:Function,default:null}},data:function(){return{active:!1}},watch:{active:function(){"function"===typeof this.onActivate&&this.onActivate()}},mounted:function(){this.active=this.selected}},le=ne,ce=Object(M["a"])(le,oe,re,!1,null,null,null),ue=ce.exports,he=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"FilePanel"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.supports("uploadFile"),expression:"supports('uploadFile')"}],staticClass:"addFile"},[s("input",{attrs:{type:"file",name:"uploadUserFile",id:"uploadUserFile"}}),s("button",{directives:[{name:"show",rawName:"v-show",value:!e.uploadProgress,expression:"!uploadProgress"}],attrs:{title:"Add new file",id:"uploadUserFileBtn"},on:{click:function(t){return e.uploadFile()}}},[s("i",{staticClass:"fas fa-upload"})])]),s("div",{staticClass:"percent"},[s("div",{staticClass:"used",class:{error:e.uploadErrored},style:"width: "+this.uploadProgress+"%; opacity: "+this.uploadFadeOut})]),s("DataTable",{ref:"table",attrs:{dataSource:e.listFiles,columns:e.columns},scopedSlots:e._u([{key:"actions",fn:function(t){return[s("button",{directives:[{name:"show",rawName:"v-show",value:e.supports("downloadFile"),expression:"supports('downloadFile')"}],attrs:{title:"Download"},on:{click:function(s){return e.downloadFile(t.row)}}},[s("i",{staticClass:"fas fa-download"})]),s("button",{directives:[{name:"show",rawName:"v-show",value:e.supports("deleteFile"),expression:"supports('deleteFile')"}],attrs:{title:"Delete"},on:{click:function(s){return e.deleteFile(t.row)}}},[s("i",{staticClass:"fas fa-trash"})])]}}])},[s("template",{slot:"toolbar"},[s("button",{attrs:{title:"Refresh files"},on:{click:function(t){return e.updateData()}}},[s("i",{staticClass:"fas fa-sync-alt"})]),s("button",{directives:[{name:"show",rawName:"v-show",value:!e.subscribed,expression:"!subscribed"}],attrs:{title:"Subscribe to all changes to the file directory"},on:{click:function(t){return e.subscribeToFileChanges()}}},[s("i",{staticClass:"fas fa-bell"})]),s("button",{directives:[{name:"show",rawName:"v-show",value:e.subscribed,expression:"subscribed"}],attrs:{title:"Unsubscribe from all changes to the file directory"},on:{click:function(t){return e.unsubscribeFromFileChanges()}}},[s("i",{staticClass:"fas fa-bell-slash"})])])],2)],1)},de=[],pe={name:"FilePanel",mixins:[q],data:function(){return{columns:{path:{name:"Path",primaryKey:!0},size:{name:"Size",format:"FileSize",filterable:!1},modified:{name:"Last modified",format:"DateTime"},actions:{name:"Actions",filterable:!1}},subscribed:!1,uploadProgress:0,uploadErrored:!1,uploadFadeOut:1}},methods:{listFiles:function(){return this.connection.listFiles()},updateData:function(){this.updateTable(this.$refs.table,"listFiles","uploadFile")},uploadFile:function(){var e=this,t=document.getElementById("uploadUserFile"),s=t.files[0],i=this.connection.openFile(s.name);i.uploadFile(s,function(t){return e.uploadProgress=t}).then(function(s){e.$refs.table.replaceData(s),e.uploadProgress=100,e.fadeOutUploadProgress(),t.value="",C["a"].ok(e,"File upload completed.")}).catch(function(t){console.log(t),e.fadeOutUploadProgress(),C["a"].exception(e,t,"Sorry, file upload failed.")})},fadeOutUploadProgress:function(){var e=this,t=setInterval(function(){e.uploadFadeOut-=.05,e.uploadFadeOut<0&&(e.uploadProgress=0,e.uploadFadeOut=1,clearInterval(t))},100)},downloadFile:function(e){C["a"].info(this,"File requested. Please wait..."),e.downloadFile(e.path)},deleteFile:function(e){var t=this;e.deleteFile().then(function(s){t.$refs.table.removeData(e.path)}).catch(function(e){C["a"].error(t,"Sorry, could not delete file.")})},subscribeToFileChanges:function(){this.connection.subscribe("openeo.files",{},function(e,t){console.log("File change: "+JSON.stringify(e))}),this.subscribed=!0},unsubscribeFromFileChanges:function(e){this.connection.unsubscribe("openeo.files",{}),this.subscribed=!1}}},fe=pe,ve=(s("9961"),Object(M["a"])(fe,he,de,!1,null,null,null)),me=ve.exports,be=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.connection?s("DataTable",{ref:"table",attrs:{dataSource:e.listJobs,columns:e.columns,id:"JobPanel"},scopedSlots:e._u([{key:"actions",fn:function(t){return[s("button",{directives:[{name:"show",rawName:"v-show",value:e.supports("describeJob"),expression:"supports('describeJob')"}],attrs:{title:"Details"},on:{click:function(s){return e.showJobInfo(t.row)}}},[s("i",{staticClass:"fas fa-info"})]),s("button",{directives:[{name:"show",rawName:"v-show",value:e.supports("describeJob"),expression:"supports('describeJob')"}],attrs:{title:"Show in Editor"},on:{click:function(s){return e.showInEditor(t.row)}}},[s("i",{staticClass:"fas fa-code-branch"})]),s("button",{directives:[{name:"show",rawName:"v-show",value:e.supports("estimateJob"),expression:"supports('estimateJob')"}],attrs:{title:"Estimate"},on:{click:function(s){return e.estimateJob(t.row)}}},[s("i",{staticClass:"fas fa-file-invoice-dollar"})]),s("button",{directives:[{name:"show",rawName:"v-show",value:e.supports("updateJob")&&e.isJobInactive(t.row),expression:"supports('updateJob') && isJobInactive(p.row)"}],attrs:{title:"Update process graph"},on:{click:function(s){return e.updateProcessGraph(t.row)}}},[s("i",{staticClass:"fas fa-edit"})]),s("button",{directives:[{name:"show",rawName:"v-show",value:e.supports("deleteJob"),expression:"supports('deleteJob')"}],attrs:{title:"Delete"},on:{click:function(s){return e.deleteJob(t.row)}}},[s("i",{staticClass:"fas fa-trash"})]),s("button",{directives:[{name:"show",rawName:"v-show",value:e.supports("startJob")&&e.isJobInactive(t.row),expression:"supports('startJob') && isJobInactive(p.row)"}],attrs:{title:"Start processing"},on:{click:function(s){return e.queueJob(t.row)}}},[s("i",{staticClass:"fas fa-play-circle"})]),s("button",{directives:[{name:"show",rawName:"v-show",value:e.supports("stopJob")&&e.isJobActive(t.row),expression:"supports('stopJob') && isJobActive(p.row)"}],attrs:{title:"Cancel processing"},on:{click:function(s){return e.cancelJob(t.row)}}},[s("i",{staticClass:"fas fa-stop-circle"})]),s("button",{directives:[{name:"show",rawName:"v-show",value:e.supports("downloadResults")&&e.hasResults(t.row),expression:"supports('downloadResults') && hasResults(p.row)"}],attrs:{title:"Download"},on:{click:function(s){return e.downloadResults(t.row)}}},[s("i",{staticClass:"fas fa-download"})]),s("button",{directives:[{name:"show",rawName:"v-show",value:e.supports("downloadResults")&&e.hasResults(t.row),expression:"supports('downloadResults') && hasResults(p.row)"}],attrs:{title:"View results"},on:{click:function(s){return e.viewResults(t.row,!0)}}},[s("i",{staticClass:"fas fa-eye"})]),s("button",{directives:[{name:"show",rawName:"v-show",value:e.supports("subscribe")&&!e.jobSubscriptions.includes(t.row),expression:"supports('subscribe') && !jobSubscriptions.includes(p.row)"}],attrs:{title:"Subscribe"},on:{click:function(s){return e.subscribeToJob(t.row)}}},[s("i",{staticClass:"fas fa-bell"})]),s("button",{directives:[{name:"show",rawName:"v-show",value:e.supports("unsubscribe")&&e.jobSubscriptions.includes(t.row),expression:"supports('unsubscribe') && jobSubscriptions.includes(p.row)"}],attrs:{title:"Unsubscribe"},on:{click:function(s){return e.unsubscribeFromJob(t.row)}}},[s("i",{staticClass:"fas fa-bell-slash"})])]}}],null,!1,282295475)},[s("template",{slot:"toolbar"},[s("button",{directives:[{name:"show",rawName:"v-show",value:e.supports("createJob"),expression:"supports('createJob')"}],attrs:{title:"Add new job"},on:{click:function(t){return e.createJobFromScript()}}},[s("i",{staticClass:"fas fa-plus"}),e._v(" Add")]),s("button",{directives:[{name:"show",rawName:"v-show",value:e.supports("listJobs"),expression:"supports('listJobs')"}],attrs:{title:"Refresh jobs"},on:{click:function(t){return e.updateData()}}},[s("i",{staticClass:"fas fa-sync-alt"})])])],2):e._e()},ge=[],ye={name:"JobPanel",mixins:[q],data:function(){return{columns:{jobId:{name:"ID",primaryKey:!0,hide:!0},title:{name:"Title",computedValue:function(e,t){return!t&&e.jobId?"Job #"+e.jobId.toUpperCase().substr(-6):t},edit:this.updateTitle},status:{name:"Status",stylable:!0},submitted:{name:"Submitted",format:"DateTime"},updated:{name:"Last update",format:"DateTime"},actions:{name:"Actions",filterable:!1}},jobSubscriptions:[],watchers:[]}},created:function(){k["a"].$on("jobCreated",this.jobCreated)},mounted:function(){window.setInterval(this.executeWatchers,1e4)},methods:{listJobs:function(){return this.connection.listJobs()},updateData:function(){this.updateTable(this.$refs.table,"listJobs","createJob")},refreshJob:function(e){var t=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=Object.assign({},e);e.describeJob().then(function(e){"function"===typeof s&&s(e,i),t.updateJobData(e)}).catch(function(e){return C["a"].exception(t,e,"Sorry, could not load job information.")})},showInEditor:function(e){this.refreshJob(e,function(e){k["a"].$emit("insertProcessGraph",e.processGraph)})},jobCreated:function(e){var t=this;if(this.$refs.table){this.$refs.table.addData(e);var s=[];this.supports("estimateJob")&&s.push({text:"Estimate",action:function(){return t.estimateJob(e)}}),this.supports("startJob")&&s.push({text:"Start processing",action:function(){return t.queueJob(e)}}),this.supports("deleteJob")&&s.push({text:"Delete",action:function(){return t.deleteJob(e)}}),C["a"].confirm(this,"Job created!",s)}},createJob:function(e){var t=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.connection.createJob(e,s).then(function(e){k["a"].$emit("jobCreated",e)}).catch(function(e){C["a"].exception(t,e,"Sorry, could not create a batch job.")})},createJobFromScript:function(){var e=this,t=prompt("Please specify a title for the job:");null!==t&&("string"===typeof t&&0!==t.length||(t=null),k["a"].$emit("getProcessGraph",function(s){e.createJob(s,t)}))},updateJobData:function(e){this.$refs.table.replaceData(e);var t=this.watchers.findIndex(function(t){return t.jobId==e.jobId});switch(e.status.toLowerCase()){case"running":case"queued":-1===t&&this.watchers.push(e);break;default:this.watchers.splice(t,1)}},deleteJob:function(e){var t=this;e.deleteJob().then(function(){t.$refs.table.removeData(e.jobId)}).catch(function(e){C["a"].exception(t,e,"Sorry, could not delete job.")})},executeWatchers:function(){var e=this;for(var t in this.watchers)this.refreshJob(this.watchers[t],function(t,s){if("finished"!==s.status&&"finished"===t.status){var i=[];e.supports("downloadResults")&&(i.push({text:"Download",action:function(){return e.downloadResults(t)}}),i.push({text:"View",action:function(){return e.viewResults(t)}})),C["a"].confirm(e,"Job has finished!",i)}else"error"!==s.status&&"error"===t.status&&C["a"].error(e,"Job has stopped due to an error or timeout.")})},showJobInfo:function(e){this.refreshJob(e,function(e){k["a"].$emit("showJobInfo",e.getAll())})},estimateJob:function(e){var t=this;e.estimateJob().then(function(e){k["a"].$emit("showModal","Job Estimate",e)}).catch(function(e){return C["a"].exception(t,e,"Sorry, could not load job estimate.")})},updateProcessGraph:function(e){var t=this;k["a"].$emit("getProcessGraph",function(s){e.updateJob(s).then(function(e){C["a"].ok(t,"Job successfully updated."),t.updateJobData(e)}).catch(function(e){return C["a"].exception(t,e,"Sorry, could not update job.")})})},updateTitle:function(e,t){var s=this;e.updateJob({title:t}).then(function(e){C["a"].ok(s,"Job title successfully updated."),s.updateJobData(e)}).catch(function(e){return C["a"].exception(s,e,"Sorry, could not update job title.")})},queueJob:function(e){var t=this;e.startJob().then(function(e){C["a"].ok(t,"Job successfully queued."),t.updateJobData(e)}).catch(function(e){return C["a"].exception(t,e,"Sorry, could not queue job.")})},cancelJob:function(e){var t=this;e.stopJob().then(function(e){C["a"].ok(t,"Job successfully canceled."),t.updateJobData(e)}).catch(function(e){return C["a"].exception(t,e,"Sorry, could not cancel job.")})},viewResults:function(e){var t=this;e.listResults().then(function(e){0!=e.links.length?e.links.length>1?C["a"].info(t,"Job resulted in multiple files, please download them individually."):(C["a"].info(t,"Data requested. Please wait..."),t.connection.download(e.links[0].href,!1).then(function(t){return k["a"].$emit("showInViewer",t.data,e.links[0].type)}).catch(function(e){C["a"].exception(t,e,"Sorry, can't download results.")})):C["a"].error(t,"No download available.")})},downloadResults:function(e){var t=this;e.listResults().then(function(e){if(0==e.links.length)C["a"].error(t,"No download available.");else{var s=e.links.map(function(e){return e.href});k["a"].$emit("showComponentModal","Download results"+(e.title?" for: "+e.title:""),"List",{dataSource:s,actions:[]})}})},subscribeToJob:function(e){var t={job_id:e};this.connection.subscribe("openeo.jobs.debug",t,function(t,s){console.log("Debugging information for job "+e+": "+JSON.stringify(t))}),this.connection.subscribe("openeo.jobs.output",t,function(t,s){console.log("Output from job "+e+": "+JSON.stringify(t))}),this.connection.subscribe("openeo.jobs.status",t,function(t,s){console.log("Status information for job "+e+": "+JSON.stringify(t))}),this.jobSubscriptions.push(e)},unsubscribeFromJob:function(e){var t={job_id:e};this.connection.unsubscribe("openeo.jobs.debug",t),this.connection.unsubscribe("openeo.jobs.output",t),this.connection.unsubscribe("openeo.jobs.status",t),this.jobSubscriptions.splice(this.jobSubscriptions.indexOf(e),1)},hasResults:function(e){return"string"!==typeof e.status||"finished"==e.status.toLowerCase()},isJobInactive:function(e){return"string"!==typeof e.status||!this.isActiveStatusCode(e.status)},isJobActive:function(e){return"string"!==typeof e.status||this.isActiveStatusCode(e.status)},isActiveStatusCode:function(e){switch(e.toLowerCase()){case"running":case"queued":return!0;default:return!1}}}},we=ye,ke=(s("0791"),Object(M["a"])(we,be,ge,!1,null,null,null)),Ce=ke.exports,Se=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("DataTable",{ref:"table",attrs:{dataSource:e.listProcessGraphs,columns:e.columns,id:"ProcessGraphPanel"},scopedSlots:e._u([{key:"actions",fn:function(t){return[s("button",{directives:[{name:"show",rawName:"v-show",value:e.supports("describeProcessGraph"),expression:"supports('describeProcessGraph')"}],attrs:{title:"Details"},on:{click:function(s){return e.graphInfo(t.row)}}},[s("i",{staticClass:"fas fa-info"})]),s("button",{directives:[{name:"show",rawName:"v-show",value:e.supports("describeProcessGraph"),expression:"supports('describeProcessGraph')"}],attrs:{title:"Show in Editor"},on:{click:function(s){return e.showInEditor(t.row)}}},[s("i",{staticClass:"fas fa-code-branch"})]),s("button",{directives:[{name:"show",rawName:"v-show",value:e.supports("updateProcessGraph"),expression:"supports('updateProcessGraph')"}],attrs:{title:"Update process graph"},on:{click:function(s){return e.updateProcessGraph(t.row)}}},[s("i",{staticClass:"fas fa-edit"})]),s("button",{directives:[{name:"show",rawName:"v-show",value:e.supports("deleteProcessGraph"),expression:"supports('deleteProcessGraph')"}],attrs:{title:"Delete"},on:{click:function(s){return e.deleteGraph(t.row)}}},[s("i",{staticClass:"fas fa-trash"})])]}}])},[s("template",{slot:"toolbar"},[s("button",{directives:[{name:"show",rawName:"v-show",value:e.supports("createProcessGraph"),expression:"supports('createProcessGraph')"}],attrs:{title:"Add new process graph"},on:{click:e.addGraph}},[s("i",{staticClass:"fas fa-plus"}),e._v(" Add")]),s("button",{attrs:{title:"Refresh process graphs"},on:{click:function(t){return e.updateData()}}},[s("i",{staticClass:"fas fa-sync-alt"})])])],2)},_e=[],xe={name:"ProcessGraphPanel",mixins:[q],data:function(){return{columns:{processGraphId:{name:"ID",primaryKey:!0,hide:!0},title:{name:"Title",edit:this.updateTitle},actions:{name:"Actions",filterable:!1}}}},methods:{listProcessGraphs:function(){return this.connection.listProcessGraphs()},updateData:function(){this.updateTable(this.$refs.table,"listProcessGraphs","createProcessGraph")},refreshProcessGraph:function(e){var t=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e.describeProcessGraph().then(function(e){"function"===typeof s&&s(e),t.updateProcessGraphData(e)}).catch(function(e){return C["a"].exception(t,e,"Sorry, could not load process graph.")})},showInEditor:function(e){this.refreshProcessGraph(e,function(e){k["a"].$emit("insertProcessGraph",e.processGraph)})},addGraph:function(){var e=this,t=prompt("Please specify a title for the process graph:");null!==t&&("string"===typeof t&&0!==t.length||(t=null),k["a"].$emit("getProcessGraph",function(s){e.connection.createProcessGraph(s,t).then(function(t){e.$refs.table.addData(t),C["a"].ok(e,"Process Graph stored at back-end!")}).catch(function(t){return C["a"].exception(e,t,"Sorry, could not save the process graph.")})}))},graphInfo:function(e){this.refreshProcessGraph(e,function(e){k["a"].$emit("showProcessGraphInfo",e.getAll())})},updateProcessGraph:function(e){var t=this;k["a"].$emit("getProcessGraph",function(s){e.updateProcessGraph({processGraph:s}).then(function(e){C["a"].ok(t,"Process Graph updated!"),t.updateProcessGraphData(e)}).catch(function(e){return C["a"].exception(t,e,"Sorry, could not update the process graph.")})})},updateTitle:function(e,t){var s=this;e.updateProcessGraph({title:t}).then(function(e){C["a"].ok(s,"Process graph title successfully updated."),s.updateProcessGraphData(e)}).catch(function(e){return C["a"].exception(s,e,"Sorry, could not update process graph title.")})},deleteGraph:function(e){var t=this;e.deleteProcessGraph().then(function(){t.$refs.table.removeData(e.processGraphId)}).catch(function(e){return C["a"].exception(t,e,"Sorry, could not delete process graph.")})},updateProcessGraphData:function(e){this.$refs.table.replaceData(e)}}},Pe=xe,Ee=Object(M["a"])(Pe,Se,_e,!1,null,null,null),Me=Ee.exports,Oe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("DataTable",{ref:"table",attrs:{dataSource:e.listServices,columns:e.columns,id:"ServicePanel"},scopedSlots:e._u([{key:"enabled",fn:function(e){return[s("span",{staticClass:"boolean"},[s("span",{directives:[{name:"show",rawName:"v-show",value:!0===e.row.enabled,expression:"p.row.enabled === true"}]},[s("i",{staticClass:"fas fa-check-circle"})]),s("span",{directives:[{name:"show",rawName:"v-show",value:!1===e.row.enabled,expression:"p.row.enabled === false"}]},[s("i",{staticClass:"fas fa-times-circle"})]),s("span",{directives:[{name:"show",rawName:"v-show",value:"boolean"!==typeof e.row.enabled,expression:"typeof p.row.enabled !== 'boolean'"}]},[s("i",{staticClass:"fas fa-question-circle"})])])]}},{key:"actions",fn:function(t){return[s("button",{directives:[{name:"show",rawName:"v-show",value:e.supports("describeService"),expression:"supports('describeService')"}],attrs:{title:"Details"},on:{click:function(s){return e.serviceInfo(t.row)}}},[s("i",{staticClass:"fas fa-info"})]),s("button",{directives:[{name:"show",rawName:"v-show",value:e.supports("describeService"),expression:"supports('describeService')"}],attrs:{title:"Show in Editorr"},on:{click:function(s){return e.showInEditor(t.row)}}},[s("i",{staticClass:"fas fa-code-branch"})]),s("button",{directives:[{name:"show",rawName:"v-show",value:e.supports("updateService"),expression:"supports('updateService')"}],attrs:{title:"Update process graph"},on:{click:function(s){return e.updateProcessGraph(t.row)}}},[s("i",{staticClass:"fas fa-edit"})]),s("button",{directives:[{name:"show",rawName:"v-show",value:e.supports("deleteService"),expression:"supports('deleteService')"}],attrs:{title:"Delete"},on:{click:function(s){return e.deleteService(t.row)}}},[s("i",{staticClass:"fas fa-trash"})]),s("button",{directives:[{name:"show",rawName:"v-show",value:t.row.enabled,expression:"p.row.enabled"}],attrs:{title:"View on map"},on:{click:function(s){return e.viewService(t.row)}}},[s("i",{staticClass:"fas fa-map"})])]}}])},[s("template",{slot:"toolbar"},[s("button",{directives:[{name:"show",rawName:"v-show",value:e.supports("createService"),expression:"supports('createService')"}],attrs:{title:"Add new service"},on:{click:function(t){return e.createServiceFromScript()}}},[s("i",{staticClass:"fas fa-plus"}),e._v(" Add")]),s("button",{attrs:{title:"Refresh services"},on:{click:function(t){return e.updateData()}}},[s("i",{staticClass:"fas fa-sync-alt"})])])],2)},Te=[],De=(s("6762"),s("2fdb"),{name:"ServicePanel",mixins:[q],computed:Object(y["a"])({},C["a"].mapState("server",["serviceTypes"])),data:function(){return{columns:{serviceId:{name:"ID",primaryKey:!0,hide:!0},title:{name:"Title",computedValue:function(e,t){return!t&&e.serviceId?"Service #"+e.serviceId.toUpperCase().substr(0,6):t},edit:this.updateTitle},type:{name:"Type",format:"UpperCase"},enabled:{name:"Enabled",edit:this.toggleEnabled},submitted:{name:"Submitted",format:"DateTime"},actions:{name:"Actions",filterable:!1}}}},created:function(){k["a"].$on("serviceCreated",this.serviceCreated)},methods:{listServices:function(){return this.connection.listServices()},updateData:function(){this.updateTable(this.$refs.table,"listServices","createService")},refreshService:function(e){var t=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e.describeService().then(function(e){"function"===typeof s&&s(e),t.updateServiceData(e)}).catch(function(e){return C["a"].exception(t,e,"Sorry, could not load service information.")})},showInEditor:function(e){this.refreshService(e,function(e){k["a"].$emit("insertProcessGraph",e.processGraph)})},serviceCreated:function(e){var t=this;if(this.$refs.table){this.$refs.table.addData(e);var s=[{text:"View on map",action:function(){return t.viewService(e)}}];this.supports("describeService")&&s.push({text:"Details",action:function(){return t.serviceInfo(e)}}),this.supports("deleteService")&&s.push({text:"Delete",action:function(){return t.deleteService(e)}}),C["a"].confirm(this,"Web Service created!",s)}},createService:function(e,t){var s=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.connection.createService(e,t,i).then(function(e){k["a"].$emit("serviceCreated",e)}).catch(function(e){C["a"].exception(s,e,"Sorry, could not create the web service.")})},createServiceFromScript:function(){var e=this,t=prompt("Please specify a title for the service:");if(null!==t){"string"===typeof t&&0!==t.length||(t=null);var s=Object.keys(this.serviceTypes).map(function(e){return e.toUpperCase()}),i="";if(1==s.length)i=s[0];else do{var a="";""!==i&&(a="Specified service type is invalid.\r\n");i=prompt(a+"Please specify the service type:\r\nOne of: ".serviceTypes.join(", "),i);if(null===i)return;"string"===typeof i?(i=i.toUpperCase(),s.includes(i)||(i="")):i=""}while(0==i.length);k["a"].$emit("getProcessGraph",function(s){return e.createService(s,i,t)})}},serviceInfo:function(e){this.refreshService(e,function(e){k["a"].$emit("showServiceInfo",e.getAll())})},updateProcessGraph:function(e){var t=this;k["a"].$emit("getProcessGraph",function(s){e.updateService({processGraph:s}).then(function(e){C["a"].ok(t,"Service process graph successfully updated."),t.updateServiceData(e)}).catch(function(e){return C["a"].exception(t,e,"Sorry, could not update service process graph.")})},!1)},updateTitle:function(e,t){var s=this;e.updateService({title:t}).then(function(e){C["a"].ok(s,"Service title successfully updated."),s.updateServiceData(e)}).catch(function(e){return C["a"].exception(s,e,"Sorry, could not update service title.")})},toggleEnabled:function(e){var t=this;e.updateService({enabled:!e.enabled}).then(function(e){C["a"].ok(t,"Service successfully changed service state."),t.updateServiceData(e)}).catch(function(e){return C["a"].exception(t,e,"Sorry, could not change service state.")})},deleteService:function(e){var t=this;e.deleteService().then(function(){t.$refs.table.removeData(e.serviceId),k["a"].$emit("removeWebService",e.serviceId)}).catch(function(e){C["a"].exception(t,e,"Sorry, could not delete service.")})},viewService:function(e){C["a"].info(this,"Requesting tiles from server. Please wait..."),k["a"].$emit("showWebService",e)},updateServiceData:function(e){this.$refs.table.replaceData(e)}}}),je=De,Ae=(s("916f"),Object(M["a"])(je,Oe,Te,!1,null,null,null)),Fe=Ae.exports,Ie={name:"UserWorkspace",mixins:[x["a"]],components:{FilePanel:me,JobPanel:Ce,ProcessGraphPanel:Me,ServicePanel:Fe,Tabs:ae,Tab:ue},computed:{supportsJobs:function(){return this.supports("listJobs")||this.supports("createJob")},supportsServices:function(){return this.supports("listServices")||this.supports("createService")},supportsProcessGraphs:function(){return this.supports("listProcessGraphs")||this.supports("createProcessGraph")},supportsFiles:function(){return this.supports("listFiles")||this.supports("uploadFile")}},mounted:function(){this.$refs.tabs.resetActiveTab()}},Le=Ie,$e=Object(M["a"])(Le,Z,K,!1,null,null,null),Ne=$e.exports,Ve=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Tabs",{ref:"tabs",attrs:{id:"viewerContent"}},[s("Tab",{attrs:{id:"mapView",name:"Map",icon:"fa-map",selected:!0},scopedSlots:e._u([{key:"tab",fn:function(){return[s("MapViewer",{ref:"mapViewer"})]},proxy:!0}])}),s("Tab",{attrs:{id:"imageView",name:"Images",icon:"fa-image"},scopedSlots:e._u([{key:"tab",fn:function(){return[s("ImageViewer",{ref:"imageViewer"})]},proxy:!0}])}),s("Tab",{attrs:{id:"dataView",name:"Data",icon:"fa-database"},scopedSlots:e._u([{key:"tab",fn:function(){return[s("DataViewer",{ref:"dataViewer"})]},proxy:!0}])})],1)},Ge=[],Be=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"dataViewer"}},[e.isText()?s("span",[e._v(e._s(e.nl2br(e.content)))]):s("ObjectTree",{attrs:{data:e.content}})],1)},Je=[],Ue=(s("a481"),s("0a37")),Re={name:"DataViewer",components:{ObjectTree:Ue["a"]},data:function(){return{content:null}},mounted:function(){this.reset()},methods:{isText:function(){return"string"===typeof this.content},reset:function(){this.content="Nothing to show."},showJson:function(e){this.content=e,k["a"].$emit("showDataViewer")},showText:function(e){this.content=e,k["a"].$emit("showDataViewer")},showBlob:function(e){var t=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;switch(null==s&&(s=e.type),s){case"application/json":C["a"].blobToText(e,function(e){var s=JSON.parse(e.target.result);t.showJson(s)});break;case"text/plain":C["a"].blobToText(e,function(e){t.showText(e.target.result)});break}},nl2br:function(e){return"undefined"===typeof e||null===e?"":(e+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1<br>$2")}}},qe=Re,He=(s("b285"),Object(M["a"])(qe,Be,Je,!1,null,"745d034a",null)),Ye=He.exports,ze=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{ref:"imageContainer",attrs:{id:"imageViewer"}},[s("span",{directives:[{name:"show",rawName:"v-show",value:"text"==e.visibleContent,expression:"visibleContent == 'text'"}],ref:"emptyMsg"}),s("img",{directives:[{name:"show",rawName:"v-show",value:"image"==e.visibleContent,expression:"visibleContent == 'image'"}],ref:"image",on:{click:e.resize}})])},We=[],Xe={name:"ImageViewer",data:function(){return{script:null,visibleContent:"text"}},mounted:function(){this.reset(),this.resize()},methods:{reset:function(){this.setMessage("Nothing to show.")},setMessage:function(e){this.$refs.emptyMsg.innerText=e,this.visibleContent="text"},showImage:function(e){var t=this;this.setMessage("Loading image..."),k["a"].$emit("showImageViewer"),this.$refs.image.onload=function(){t.visibleContent="image"},this.$refs.image.src=e},showImageBlob:function(e){this.showImage(URL.createObjectURL(e))},showImageBase64:function(e){contentType,btoa(e);this.showImage(e)},resize:function(){this.$refs.image&&(this.$refs.image.style.maxWidth?(this.$refs.image.style.maxWidth=null,this.$refs.image.style.cursor="zoom-out",this.$refs.image.title="Click to shrink (fit to screen)"):(this.$refs.image.style.maxWidth="100%",this.$refs.image.style.cursor="zoom-in",this.$refs.image.title="Click to enlarge"))}}},Ze=Xe,Ke=(s("2d07"),Object(M["a"])(Ze,ze,We,!1,null,null,null)),Qe=Ke.exports,et=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"mapCanvas"}})},tt=[],st=(s("6cc5"),s("e11e")),it=s.n(st),at=s("81b6"),ot=(s("b048"),s("6005"),s("9d1c"),{name:"MapViewer",data:function(){return{options:{fullscreenControl:!0,center:[50.1725,9.15],zoom:6},map:null,baseLayer:{osm:null},layer:{},layerControl:null,sideBySideComponent:null}},mounted:function(){this.$nextTick(this.createMap),k["a"].$on("showWebService",this.showWebService),k["a"].$on("removeWebService",this.removeWebService)},methods:{createMap:function(){this.map=new it.a.Map("mapCanvas",this.options),this.layerControl=it.a.control.layers(),this.layerControl.addTo(this.map),this.baseLayer.osm=it.a.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{name:"OpenStreetMap",attribution:'Map data &copy; <a href="http://www.osm.org">OpenStreetMap</a>'}),this.baseLayer.osm.addTo(this.map),this.layerControl.addBaseLayer(this.baseLayer.osm,this.baseLayer.osm.options.name),this.map.on("layeradd",this.onLayerAdd),this.map.on("overlayremove",this.onOverlayRemove)},onLayerAdd:function(e){var t=this.getShownLayers();2==t.length&&null===this.sideBySideComponent&&(this.sideBySideComponent=it.a.control.sideBySide(t[0],t[1]),this.sideBySideComponent.addTo(this.map))},onOverlayRemove:function(e){var t=this.getShownLayers();2!=t.length&&null!==this.sideBySideComponent&&(this.map.removeControl(this.sideBySideComponent),this.sideBySideComponent=null)},getShownLayers:function(){var e=[];for(var t in this.layer)this.map.hasLayer(this.layer[t])&&e.push(this.layer[t]);return e},showWebService:function(e){switch(k["a"].$emit("showMapViewer"),e.type.toLowerCase()){case"wms":this.updateWMSLayer(e);break;case"xyz":this.updateXYZLayer(e);break;default:C["a"].error(this,"Sorry, the service type is not supported by the map.")}},showGTiffBlob:function(e){k["a"].$emit("showMapViewer"),this.updateTiffLayerBlob(e)},removeWebService:function(e){this.layer[e]&&this.removeLayerFromMap(e)},addLayerToMap:function(e){this.layer[e].addTo(this.map),this.layerControl.addOverlay(this.layer[e],this.layer[e].options.name)},removeLayerFromMap:function(e){this.layer[e].removeFrom(this.map),this.layerControl.removeLayer(this.layer[e]),delete this.layer[e]},removeOldLayer:function(e){for(var t in this.layer)null!==this.layer[t]&&this.layer[t]!==e&&this.removeLayerFromMap(t)},updateTiffLayerBlob:function(e){this.updateTiffLayer(URL.createObjectURL(e))},updateTiffLayer:function(e){var t=C["a"].formatDateTime(Date.now());if("undefined"===typeof this.layer[t]){var s=new at["LeafletGeotiffRenderer"];s.name="openEO-geotiff-visualizer";var i={name:t+" (GeoTiff)",renderer:s};this.layer[t]=Object(at["leafletGeotiff"])(e,i),this.addLayerToMap(t)}else this.layer[t].setURL(e)},updateXYZLayer:function(e){var t=e.serviceId,s=e.url+"/{z}/{x}/{y}";if("undefined"===typeof this.layer[t]){var i={name:t.toUpperCase().substr(0,6)+" (XYZ)"};this.layer[t]=new it.a.TileLayer(s,i),this.addLayerToMap(t)}else this.layer[t].setUrl(s,!1)},updateWMSLayer:function(e){var t=e.serviceId;if("undefined"===typeof this.layer[t]){var s=e.attributes;C["a"].isObject(s)||(s={}),s.name=t.toUpperCase().substr(0,6)+" (WMS)",s.service=s.service||"WMS",s.format=s.format||"image/jpeg",this.layer[t]=it.a.tileLayer.wms(e.url,s),this.addLayerToMap(t)}else this.layer[t].setUrl(e.url,!1)}}}),rt=ot,nt=(s("ce23"),Object(M["a"])(rt,et,tt,!1,null,"65a16223",null)),lt=nt.exports,ct={name:"Viewer",components:{Tab:ue,Tabs:ae,DataViewer:Ye,ImageViewer:Qe,MapViewer:lt},mounted:function(){k["a"].$on("showInViewer",this.showInViewer),k["a"].$on("showMapViewer",this.showMapViewer),k["a"].$on("showImageViewer",this.showImageViewer),k["a"].$on("showDataViewer",this.showDataViewer)},methods:{showMapViewer:function(){this.$refs.tabs.selectTab("mapView")},showImageViewer:function(){this.$refs.tabs.selectTab("imageView")},showDataViewer:function(){this.$refs.tabs.selectTab("dataView")},showInViewer:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!(e instanceof Blob))throw"No blob specified.";var s=e.type;switch(null===t||s&&-1!==s.indexOf("/")&&-1===s.indexOf("*")||(s=C["a"].getMimeTypeForOutputFormat(t)),"string"===typeof s&&(s=s.toLowerCase()),s){case"image/png":case"image/jpg":case"image/jpeg":case"image/gif":this.$refs.imageViewer.showImageBlob(e);break;case"application/json":case"text/plain":this.$refs.dataViewer.showBlob(e,s);break;case"image/tif":case"image/tiff":this.$refs.mapViewer.showGTiffBlob(e);break;default:C["a"].error(this,"Sorry, the returned content type is not supported to view.")}}}},ut=ct,ht=Object(M["a"])(ut,Ve,Ge,!1,null,null,null),dt=ht.exports,pt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Tabs",{ref:"tabs",attrs:{id:"processGraphContent"}},[s("Tab",{attrs:{id:"visual",name:"Visual Model",icon:"fa-code-branch",selected:!0,onActivate:e.changeEditor},scopedSlots:e._u([{key:"tab",fn:function(t){var i=t.tab;return[s("VisualEditor",{ref:"graphBuilder",attrs:{active:i.active,editable:e.editable,value:e.processGraph,id:e.id+"_visual"}})]}}])}),s("Tab",{attrs:{id:"source",name:"Process Graph",icon:"fa-code",onActivate:e.changeEditor},scopedSlots:e._u([{key:"tab",fn:function(t){var i=t.tab;return[s("TextEditor",{ref:"sourceEditor",attrs:{active:i.active,editable:e.editable,value:e.processGraph,id:e.id+"_text"}})]}}])})],1)},ft=[],vt=s("8c66"),mt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"TextEditor"}},[s("EditorToolbar",{attrs:{editable:e.editable,onStore:e.getProcessGraph,onInsert:e.insertProcessGraph,onClear:e.clearProcessGraph}}),s("div",{staticClass:"sourceCodeEditor",attrs:{id:e.id}}),e.editable?s("DiscoveryToolbar",{attrs:{onAddCollection:e.insertToEditor,onAddProcess:e.insertToEditor}}):e._e()],1)},bt=[],gt=s("1190"),yt=s("cbd9"),wt=(s("a7be"),s("f9d4"),s("56b3")),kt=s.n(wt),Ct={name:"TextEditor",components:{EditorToolbar:gt["a"],DiscoveryToolbar:yt["a"]},props:{id:String,editable:{type:Boolean,default:!0},active:{type:Boolean,default:!1},value:{type:Object,default:null}},data:function(){return{editorOptions:{mode:"javascript",indentUnit:2,lineNumbers:!0,readOnly:!this.$props.editable},editor:null}},watch:{active:function(e){e&&this.editor.refresh()}},mounted:function(){this.editor=kt()(document.getElementById(this.id),this.editorOptions),this.editor.setSize(null,"100%"),this.insertProcessGraph(this.value)},methods:{clearProcessGraph:function(){this.insertToEditor("",!0)},getProcessGraph:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.editor.getValue(),a=null;if(i)try{a=JSON.parse(i)}catch(o){return console.log(o),void C["a"].error(this,"The source code must be valid JSON.")}null!==a||s?e(a):t||C["a"].error(this,"No valid source code specified.")},insertToEditor:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t?this.editor.setValue(e):this.editor.replaceSelection(e)},insertProcessGraph:function(e){e?this.insertToEditor(JSON.stringify(e,null,2),!0):this.insertToEditor("")}}},St=Ct,_t=(s("fff5"),Object(M["a"])(St,mt,bt,!1,null,"30d84aa5",null)),xt=_t.exports,Pt={name:"Editor",components:{VisualEditor:vt["default"],TextEditor:xt,Tabs:ae,Tab:ue},props:{id:String,editable:{type:Boolean,default:!0},processGraph:{type:Object,default:null}},computed:{activeEditor:function(){return"source"===this.$refs.tabs.getActiveTab()?this.$refs.sourceEditor:this.$refs.graphBuilder},inactiveEditor:function(){return"source"!==this.$refs.tabs.getActiveTab()?this.$refs.sourceEditor:this.$refs.graphBuilder}},methods:{getProcessGraph:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.activeEditor.getProcessGraph(e,t,s)},insertProcessGraph:function(e){this.activeEditor.insertProcessGraph(e)},changeEditor:function(){var e=this;this.editable&&this.inactiveEditor.getProcessGraph(function(t){return e.activeEditor.insertProcessGraph(t)},!0,!0)}}},Et=Pt,Mt=Object(M["a"])(Et,pt,ft,!1,null,null,null),Ot=Mt.exports,Tt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Modal",{ref:"modal",scopedSlots:e._u([{key:"main",fn:function(){return[s("div",{staticClass:"docgen"},[s("Collection",{attrs:{collectionData:e.collection,version:e.version}},[s("template",{slot:"collection-spatial-extent"},[s("div",{attrs:{id:"collectionMap"}})])],2)],1)]},proxy:!0}])})},Dt=[],jt=s("714b"),At=s("47ed"),Ft={name:"CollectionModal",components:{Modal:jt["a"],Collection:At["a"]},data:function(){return{version:null,collection:null}},methods:{show:function(e,t){this.version=t,this.collection=e,this.$refs.modal.show(e.id),this.$nextTick(this.initMap)},initMap:function(){var e=new it.a.Map("collectionMap"),t=it.a.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{name:"OpenStreetMap",attribution:'Map data &copy; <a href="http://www.osm.org">OpenStreetMap</a>'});t.addTo(e);var s=it.a.rectangle([[this.collection.extent.spatial[3],this.collection.extent.spatial[0]],[this.collection.extent.spatial[1],this.collection.extent.spatial[2]]]);s.addTo(e),e.fitBounds(s.getBounds())}}},It=Ft,Lt=(s("2bd0"),Object(M["a"])(It,Tt,Dt,!1,null,null,null)),$t=Lt.exports,Nt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Modal",{ref:"modal",scopedSlots:e._u([{key:"main",fn:function(){return[s("div",{staticClass:"docgen"},[s("Process",{attrs:{processData:e.process,version:e.version,provideDownload:!1}})],1)]},proxy:!0}])})},Vt=[],Gt=s("2b37"),Bt={name:"ProcessModal",components:{Modal:jt["a"],Process:Gt["a"]},data:function(){return{version:null,process:null}},methods:{show:function(e,t){this.version=t,this.process=e,this.$refs.modal.show(e.id)}}},Jt=Bt,Ut=(s("9b84"),Object(M["a"])(Jt,Nt,Vt,!1,null,null,null)),Rt=Ut.exports,qt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Modal",{ref:"modal",scopedSlots:e._u([{key:"main",fn:function(){return[s("div",{staticClass:"vue-component server-info"},[s("Capabilities",{attrs:{capabilities:e.capabilities,url:e.url}}),e.services?[s("h3",[e._v("Supported secondary web service types")]),s("SupportedServiceTypes",{attrs:{version:e.capabilities.version,services:e.services}})]:e._e(),e.formats?[s("h3",[e._v("Supported output file formats")]),s("SupportedFileFormats",{attrs:{version:e.capabilities.version,formats:e.formats}})]:e._e()],2)]},proxy:!0}])})},Ht=[],Yt=s("f0df"),zt=s("ca30"),Wt=s("48d5"),Xt={name:"ServerInfoModal",components:{Modal:jt["a"],Capabilities:Yt["a"],SupportedFileFormats:zt["a"],SupportedServiceTypes:Wt["a"]},data:function(){return{url:null,capabilities:null,formats:null,services:null}},methods:{show:function(e,t,s){this.url=e.getBaseUrl(),this.capabilities=e.capabilities().toPlainObject(),this.formats=t,this.services=s,this.$refs.modal.show(e.capabilities().title()||"Server information")}}},Zt=Xt,Kt=(s("7bde"),Object(M["a"])(Zt,qt,Ht,!1,null,null,null)),Qt=Kt.exports,es=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Modal",{ref:"modal",attrs:{minWidth:"80%"},scopedSlots:e._u([{key:"main",fn:function(){return[s("section",{staticClass:"vue-component basedata"},[s("div",{staticClass:"tabular"},[s("label",[e._v("ID:")]),s("code",{staticClass:"value"},[e._v(e._s(e.job.id))])])]),s("section",{staticClass:"vue-component progress"},[s("h3",[e._v("Progress")]),s("div",{staticClass:"tabular"},[s("label",[e._v("Submitted:")]),s("span",{staticClass:"value"},[e._v(e._s(e.submitted))])]),s("div",{staticClass:"tabular"},[s("label",[e._v("Updated:")]),s("span",{staticClass:"value"},[e._v(e._s(e.updated))])]),s("div",{staticClass:"tabular"},[s("label",[e._v("Status:")]),s("span",{staticClass:"value status",attrs:{"data-value":e.job.status}},[e._v(e._s(e.job.status))])]),"number"===typeof e.job.progress?s("div",{staticClass:"tabular"},[s("label",[e._v("Progress:")]),s("div",{staticClass:"value"},[s("div",{staticClass:"progressBar",class:{error:!!e.job.error}},[s("div",{staticClass:"completed",style:"width: "+e.progress},[e.job.progress>50?s("span",{staticClass:"number"},[e._v(e._s(e.progress))]):e._e(),e._v(" \n\t\t\t\t\t")]),e.job.progress<=50?s("span",{staticClass:"number"},[e._v(e._s(e.progress))]):e._e()])])]):e._e(),e.job.error?s("div",{staticClass:"tabular"},[s("label",[e._v("Error(s):")]),s("div",{staticClass:"value"},[s("div",{staticClass:"errorMessage"},[e._v(e._s(e.job.error.message))]),Array.isArray(e.job.error.links)&&e.job.error.links.length>0?s("div",{staticClass:"errorLinks"},[s("strong",[e._v("Further information:")]),s("br"),s("LinkList",{attrs:{links:e.job.error.links}})],1):e._e(),s("div",{staticClass:"errorInternals"},[e._v("\n\t\t\t\t\tCode: "),s("code",[e._v(e._s(e.job.error.code))]),e.job.error.id?s("span",{staticClass:"sepl"},[e._v("ID: "),s("code",[e._v(e._s(e.job.error.id))])]):e._e()])])]):e._e()]),e.job.plan||e.job.costs||e.job.budget?s("section",{staticClass:"vue-component billing"},[s("h3",[e._v("Billing")]),e.job.plan?s("div",{staticClass:"tabular"},[s("label",[e._v("Billing plan:")]),s("span",{staticClass:"value"},[e._v(e._s(e.job.plan))])]):e._e(),e.job.costs?s("div",{staticClass:"tabular"},[s("label",[e._v("Costs:")]),s("span",{staticClass:"value"},[e._v(e._s(e.formatCurrency(e.job.costs)))])]):e._e(),e.job.budget?s("div",{staticClass:"tabular"},[s("label",[e._v("Budget:")]),s("span",{staticClass:"value"},[e._v(e._s(e.formatCurrency(e.job.budget)))])]):e._e()]):e._e(),e.job.description?s("section",{staticClass:"vue-component description"},[s("h3",[e._v("Description")]),s("Description",{attrs:{description:e.job.description}})],1):e._e(),s("section",{staticClass:"process-graph"},[s("div",{staticClass:"vue-component"},[s("h3",[e._v("Process Graph")])]),s("Editor",{attrs:{processGraph:e.job.processGraph,editable:!1,id:"jobPgViewer"}})],1)]},proxy:!0}])})},ts=[],ss=s("8088"),is={name:"JobInfoModal",components:{Description:ss["a"],Editor:Ot,LinkList:H["a"],Modal:jt["a"]},computed:Object(y["a"])({},C["a"].mapGetters("server",["formatCurrency"]),{submitted:function(){return C["a"].formatDateTime(this.job.submitted)},updated:function(){return this.job.updated?C["a"].formatDateTime(this.job.updated):"N/A"},displayTitle:function(){return"Batch Job: "+(this.job.title||"#"+this.job.id)},progress:function(){return"number"===typeof this.job.progress?Math.round(10*this.job.progress)/10+"%":"0%"}}),data:function(){return{job:{}}},methods:{show:function(e){this.job=e,this.$refs.modal.show(this.displayTitle)}}},as=is,os=(s("1677"),Object(M["a"])(as,es,ts,!1,null,"49181d9a",null)),rs=os.exports,ns=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Modal",{ref:"modal",attrs:{minWidth:"80%"},scopedSlots:e._u([{key:"main",fn:function(){return[s("section",{staticClass:"vue-component basedata"},[s("div",{staticClass:"tabular"},[s("label",[e._v("ID:")]),s("code",{staticClass:"value"},[e._v(e._s(e.pg.id))])])]),e.pg.description?s("section",{staticClass:"vue-component description"},[s("h3",[e._v("Description")]),s("Description",{attrs:{description:e.pg.description}})],1):e._e(),s("section",{staticClass:"process-graph"},[s("div",{staticClass:"vue-component"},[s("h3",[e._v("Process Graph")])]),s("Editor",{attrs:{processGraph:e.pg.processGraph,editable:!1,id:"pgInfoViewer"}})],1)]},proxy:!0}])})},ls=[],cs={name:"ProcessGraphInfoModal",components:{Description:ss["a"],Editor:Ot,Modal:jt["a"]},computed:{displayTitle:function(){return"Process Graph: "+(this.pg.title||"#"+this.pg.id)}},data:function(){return{pg:{}}},methods:{show:function(e){this.pg=e,this.$refs.modal.show(this.displayTitle)}}},us=cs,hs=Object(M["a"])(us,ns,ls,!1,null,null,null),ds=hs.exports,ps=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Modal",{ref:"modal",attrs:{minWidth:"80%"},scopedSlots:e._u([{key:"main",fn:function(){return[s("section",{staticClass:"vue-component basedata"},[s("div",{staticClass:"tabular"},[s("label",[e._v("ID:")]),s("code",{staticClass:"value"},[e._v(e._s(e.service.id))])]),s("div",{staticClass:"tabular"},[s("label",[e._v("Type:")]),s("span",{staticClass:"value"},[e._v(e._s(e.type))])]),s("div",{staticClass:"tabular"},[s("label",[e._v("URL:")]),s("code",{staticClass:"value"},[e._v(e._s(e.service.url))])]),s("div",{staticClass:"tabular"},[s("label",[e._v("Enabled:")]),s("span",{staticClass:"value boolean"},[!0===e.service.enabled?s("span",[s("i",{staticClass:"fas fa-check-circle"})]):!1===e.service.enabled?s("span",[s("i",{staticClass:"fas fa-times-circle"})]):s("span",[s("i",{staticClass:"fas fa-question-circle"})])])]),e.service.submitted?s("div",{staticClass:"tabular"},[s("label",[e._v("Submitted:")]),s("code",{staticClass:"value"},[e._v(e._s(e.submitted))])]):e._e()]),e.service.plan||e.service.costs||e.service.budget?s("section",{staticClass:"vue-component billing"},[s("h3",[e._v("Billing")]),e.service.plan?s("div",{staticClass:"tabular"},[s("label",[e._v("Billing plan:")]),s("span",{staticClass:"value"},[e._v(e._s(e.service.plan))])]):e._e(),e.service.costs?s("div",{staticClass:"tabular"},[s("label",[e._v("Costs:")]),s("span",{staticClass:"value"},[e._v(e._s(e.formatCurrency(e.service.costs)))])]):e._e(),e.service.budget?s("div",{staticClass:"tabular"},[s("label",[e._v("Budget:")]),s("span",{staticClass:"value"},[e._v(e._s(e.formatCurrency(e.service.budget)))])]):e._e()]):e._e(),e.service.description?s("section",{staticClass:"vue-component description"},[s("h3",[e._v("Description")]),s("Description",{attrs:{description:e.service.description}})],1):e._e(),s("section",{staticClass:"process-graph"},[s("div",{staticClass:"vue-component"},[s("h3",[e._v("Process Graph")])]),s("Editor",{attrs:{processGraph:e.service.processGraph,editable:!1,id:"servicePgViewer"}})],1),e.hasParameters?s("section",{staticClass:"vue-component parameters"},[s("h3",[e._v("Parameters")]),e._l(e.service.parameters,function(t,i){return s("div",{key:i,staticClass:"tabular"},[s("label",[e._v(e._s(i)+":")]),s("div",{staticClass:"value"},["object"===typeof e.formattedValue?s("ObjectTree",{attrs:{data:t}}):[e._v(e._s(e.formattedValue))]],2)])})],2):e._e(),e.hasAttributes?s("section",{staticClass:"vue-component attributes"},[s("h3",[e._v("Attributes")]),e._l(e.service.attributes,function(t,i){return s("div",{key:i,staticClass:"tabular"},[s("label",[e._v(e._s(i)+":")]),s("div",{staticClass:"value"},["object"===typeof e.formattedValue?s("ObjectTree",{attrs:{data:t}}):[e._v(e._s(e.formattedValue))]],2)])})],2):e._e()]},proxy:!0}])})},fs=[],vs={name:"ServiceInfoModal",components:{Description:ss["a"],Editor:Ot,Modal:jt["a"],ObjectTree:Ue["a"]},computed:Object(y["a"])({},C["a"].mapGetters("server",["formatCurrency"]),{hasAttributes:function(){return C["a"].size(this.service.attributes)>0},hasParameters:function(){return C["a"].size(this.service.parameters)>0},submitted:function(){return C["a"].formatDateTime(this.service.submitted)},type:function(){return"string"===typeof this.service.type?this.service.type.toUpperCase():""},displayTitle:function(){return"Web Service: "+(this.service.title||this.type+" #"+this.service.id)}}),data:function(){return{service:{}}},methods:{show:function(e){this.service=e,this.$refs.modal.show(this.displayTitle)}}},ms=vs,bs=Object(M["a"])(ms,ps,fs,!1,null,null,null),gs=bs.exports,ys={name:"IDE",mixins:[x["a"]],components:{Editor:Ot,Viewer:dt,UserMenu:X,UserWorkspace:Ne,CollectionModal:$t,ProcessModal:Rt,ServerInfoModal:Qt,JobInfoModal:rs,ProcessGraphInfoModal:ds,ServiceInfoModal:gs},data:function(){return{moving:!1,movingOffset:0,version:w.version}},computed:Object(y["a"])({},C["a"].mapState("server",["collections","processes","outputFormats","serviceTypes"])),mounted:function(){k["a"].$on("showCollectionInfo",this.showCollectionInfo),k["a"].$on("showProcessInfo",this.showProcessInfo),k["a"].$on("showJobInfo",this.showJobInfo),k["a"].$on("showProcessGraphInfo",this.showProcessGraphInfo),k["a"].$on("showServiceInfo",this.showServiceInfo),k["a"].$on("getProcessGraph",this.getProcessGraph),k["a"].$on("insertProcessGraph",this.insertProcessGraph),this.updatePositions()},methods:{getProcessGraph:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.$refs.editor.getProcessGraph(e,t,s)},insertProcessGraph:function(e){this.$refs.editor.insertProcessGraph(e)},updatePositions:function(){var e=parseFloat(window.getComputedStyle(this.$refs.workspace).width),t=window.pageXOffset||document.documentElement.scrollLeft,s=this.$refs.separator.getBoundingClientRect().left+t;this.movingOffset=s-e},startMovingSeparator:function(e){this.moving=!1,1===e.which&&(this.moving=!0,this.updatePositions())},stopMovingSeparator:function(e){this.moving=!1},moveSeparator:function(e){this.moving&&(this.$refs.workspace.style.width=e.x-this.movingOffset+"px",e.preventDefault(),e.stopPropagation())},centerSeparator:function(){this.moving=!1,this.$refs.workspace.style.width="60%"},showCollectionInfo:function(e){var t=this;this.connection.describeCollection(e).then(function(e){t.$refs.collectionModal.show(e,t.apiVersion)}).catch(function(e){return C["a"].error(t,"Sorry, can't load collection details.")})},showProcessInfo:function(e){var t=this.processes.find(function(t){return t.id==e});this.$refs.processModal.show(t,this.apiVersion)},showServiceInfo:function(e){this.$refs.serviceModal.show(e)},showJobInfo:function(e){this.$refs.jobModal.show(e)},showProcessGraphInfo:function(e){this.$refs.pgModal.show(e)},showServerInfo:function(){this.$refs.serverInfoModal.show(this.connection,this.outputFormats,this.serviceTypes)},showWebEditorInfo:function(){k["a"].$emit("showWebEditorInfo")}}},ws=ys,ks=(s("352f"),Object(M["a"])(ws,D,j,!1,null,null,null)),Cs=ks.exports,Ss=s("bc3a"),_s=s.n(Ss);window.axios=_s.a;var xs={name:"openeo-web-editor",components:{ConnectForm:T,IDE:Cs,Modal:jt["a"]},data:function(){return{pkg:w}},mounted:function(){k["a"].$on("showMessageModal",this.showMessageModal),k["a"].$on("showHtmlModal",this.showHtmlModal),k["a"].$on("showListModal",this.showListModal),k["a"].$on("showWebEditorInfo",this.showWebEditorInfo)},computed:Object(y["a"])({},C["a"].mapGetters("server",["isConnected"])),methods:{showMessageModal:function(e,t){this.$refs.modal.showMessage(e,t)},showHtmlModal:function(e,t){this.$refs.modal.showHtml(e,t)},showListModal:function(e,t,s){this.$refs.modal.showList(e,t,s)},showWebEditorInfo:function(){this.showHtmlModal("openEO Web Editor "+w.version,this.$refs.webEditorInfo)}}},Ps=xs,Es=(s("5117"),Object(M["a"])(Ps,b,g,!1,null,null,null)),Ms=Es.exports;i["a"].use(a["a"]),i["a"].config.productionTip=!1,i["a"].config.errorHandler=function(e,t,s){console.log(e),t&&t.$snotify&&t.$snotify.error(e.message||e,"Fatal error",m["a"].snotifyDefaults)},new i["a"]({store:v,render:function(e){return e(Ms)}}).$mount("#app")},5740:function(e,t,s){},"5ebb":function(e,t,s){},6168:function(e,t,s){"use strict";var i=s("2b0e");t["a"]=new i["a"]},6224:function(e,t,s){"use strict";var i=s("468d"),a=s.n(i);a.a},6313:function(e,t,s){},"6c05":function(e,t,s){},"714b":function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.shown?s("div",{attrs:{id:"modal"},on:{mousedown:e.possiblyClose}},[s("div",{staticClass:"modal-container",style:{"min-width":e.minWidth,"max-width":e.maxWidth}},[s("header",[s("h2",[e._v(e._s(e.title))]),s("span",{staticClass:"close",on:{click:e.close}},[s("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),s("main",[e._t("main",["string"===typeof e.html?s("div",{domProps:{innerHTML:e._s(e.html)}}):null!==e.html&&"object"===typeof e.html?s("div",{domProps:{innerHTML:e._s(e.html.innerHTML)}}):null!==e.list?[0==e.listCount?s("strong",{staticClass:"listEmpty"},[e._v("Sorry, no data available.")]):s("ul",{staticClass:"list"},e._l(e.listItems,function(t,i){return s("li",{key:i,on:{click:function(s){return e.doMainListAction(t,i)}}},[s("strong",[e._v(e._s(Array.isArray(e.listItems)?t:i))]),e._l(e.otherListActions,function(a){return s("button",{key:a.icon,attrs:{type:"button",title:a.title},on:{click:function(s){return s.preventDefault(),s.stopPropagation(),e.doListAction(t,i,a.callback)}}},[s("i",{class:"fas fa-"+a.icon})])})],2)}),0)]:[e._v(e._s(e.message))]])],2),s("footer",[e._t("footer")],2)])]):e._e()},a=[],o=s("6168"),r=s("025e"),n=function(){return{title:"Sorry, no message passed!",message:null,html:null,list:null,listActions:[],shown:!1,onClose:null}},l={name:"Modal",props:{minWidth:{type:String,default:"30%"},maxWidth:{type:String,default:"80%"}},data:function(){return n()},mounted:function(){o["a"].$on("showModal",this.showModal),o["a"].$on("showComponentModal",this.showComponentModal),o["a"].$on("closeModal",this.close)},computed:{listCount:function(){return r["a"].size(this.listItems)},listItems:function(){return"function"==typeof this.list?this.list():this.list},otherListActions:function(){return Array.isArray(this.listActions)&&this.listActions.length>1?this.listActions.slice(1):[]}},methods:{escCloseListener:function(e){if("Escape"==e.key)return this.close(),e.preventDefault(),e.stopPropagation(),!1},show:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.reset(),this._show(e,t)},showMessage:function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.reset(),this.message=t,this._show(e,s)},showHtml:function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.reset(),this.html=t,this._show(e,s)},showList:function(e,t,s){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.reset(),this.list=t,this.listActions=s,this._show(e,i)},_show:function(e,t){this.onClose=t,this.title=e,window.addEventListener("keydown",this.escCloseListener),this.shown=!0},reset:function(){Object.assign(this,n())},close:function(){("function"!==typeof this.onClose||this.onClose())&&(this.shown=!1,window.removeEventListener("keydown",this.escCloseListener))},possiblyClose:function(e){e.target==document.getElementById("modal")&&this.close()},doListAction:function(e,t,s){var i=s(Array.isArray(this.listItems)?e:t);!0===i&&this.close()},doMainListAction:function(e,t){this.listActions.length>0&&this.doListAction(e,t,this.listActions[0].callback)}}},c=l,u=(s("22d7"),s("2877")),h=Object(u["a"])(c,i,a,!1,null,null,null);t["a"]=h.exports},"75ae":function(e,t,s){},"7b23":function(e,t,s){},"7bde":function(e,t,s){"use strict";var i=s("0b46"),a=s.n(i);a.a},"82a7":function(e,t,s){},"82eb":function(e,t,s){},"859c":function(e,t,s){},"8c66":function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{ref:"visualEditor",attrs:{id:"VisualEditor"}},[s("EditorToolbar",{attrs:{editable:e.editable,onStore:e.getProcessGraph,onInsert:e.insertProcessGraph,onClear:e.clearProcessGraph}},[s("button",{directives:[{name:"show",rawName:"v-show",value:e.editable&&e.blocks.canDelete(),expression:"editable && blocks.canDelete()"}],attrs:{type:"button",title:"Delete selected elements"},on:{click:function(t){return e.blocks.deleteEvent()}}},[s("i",{staticClass:"fas fa-trash"})]),s("button",{directives:[{name:"show",rawName:"v-show",value:e.editable&&e.blocks.hasUndo(),expression:"editable && blocks.hasUndo()"}],attrs:{type:"button",title:"Undo last change"},on:{click:function(t){return e.blocks.undo()}}},[s("i",{staticClass:"fas fa-undo-alt"})]),s("button",{class:{compactActive:e.blocks.compactMode},attrs:{type:"button",title:"Compact Mode"},on:{click:function(t){return e.blocks.toggleCompact()}}},[s("i",{staticClass:"fas fa-compress-arrows-alt"})]),s("button",{attrs:{type:"button",title:"Scale to perfect size"},on:{click:function(t){return e.perfectScale()}}},[s("i",{staticClass:"fas fa-arrows-alt"})]),s("button",{attrs:{type:"button",title:e.isFullScreen?"Close fullscreen":"Show fullscreen"},on:{click:function(t){return e.toggleFullScreen()}}},[s("span",{directives:[{name:"show",rawName:"v-show",value:e.isFullScreen,expression:"isFullScreen"}]},[s("i",{staticClass:"fas fa-compress"})]),s("span",{directives:[{name:"show",rawName:"v-show",value:!e.isFullScreen,expression:"!isFullScreen"}]},[s("i",{staticClass:"fas fa-expand"})])])]),s("div",{staticClass:"graphBuilder",attrs:{id:e.id}}),e.editable?s("DiscoveryToolbar",{attrs:{onAddCollection:e.insertCollection,onAddProcess:e.insertProcess}}):e._e(),s("SchemaModal",{ref:"schemaModal"}),s("ParameterModal",{ref:"parameterModal"})],1)},a=[],o=(s("7f7f"),s("cebc")),r=s("6168"),n=s("7618"),l=(s("8615"),s("ac4d"),s("8a81"),s("ac6a"),function(e){this.historySize=30,this.blocks=e,this.history=[],this.enabled=!0});l.prototype.enable=function(e){this.enabled=e},l.prototype.save=function(){this.enabled&&(this.history.push(this.blocks.export()),this.history.length>this.historySize&&this.history.shift())},l.prototype.size=function(){return this.history.length},l.prototype.restoreLast=function(){if(this.history.length){var e=this.history.pop();this.blocks.import(e)}};var c=l,u=s("d225"),h=s("b0b4"),d=s("308d"),p=s("6bb5"),f=s("2a88"),v=s("4e2b"),m=s("fbda"),b=function(){function e(t){if(Object(u["a"])(this,e),this.schema=t,t.allOf){var s=m["Utils"].mergeDeep({},t.allOf);this.schemas=[new g(s)]}else t.oneOf||t.anyOf?this.schemas=(t.oneOf||t.anyOf).map(function(e){return new g(e)}):Array.isArray(t.type)?this.schemas=t.type.map(function(e){return new g(Object.assign({},t,{type:e}))}):this.schemas=[new g(t)]}return Object(h["a"])(e,[{key:"hasDefaultValue",value:function(){if("undefined"!==typeof this.schema.default)return!0;for(var e in this.schemas)if("undefined"!==typeof this.schemas[e].default)return!0;return!1}},{key:"defaultValue",value:function(){if("undefined"!==typeof this.schema.default)return this.schema.default;for(var e in this.schemas)if("undefined"!==typeof this.schemas[e].default)return this.schemas[e].default}},{key:"isEditable",value:function(){return this.schemas.filter(function(e){return e.isEditable()&&!e.isNull()}).length>0}},{key:"is",value:function(e){var t=this.dataTypes();return 1===t.length&&t[0]===e}},{key:"dataType",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.dataTypes(!0,e),s=t.indexOf("null");return 1===t.length?t[0]:2===t.length&&-1!=s?t[0===s?1:0]:"mixed"}},{key:"dataTypes",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=this.schemas.map(function(e){return e.dataType(t)});return e||(s=s.filter(function(e){return"null"!==e})),s}},{key:"nullable",value:function(){return this.schemas.filter(function(e){return e.isNull()}).length>0}}]),e}(),g=function(){function e(t){Object(u["a"])(this,e),this.schema=t,"array"===this.schema.type?this.arrayItems=new b(this.schema.items||{}):this.arrayItems=null}return Object(h["a"])(e,[{key:"isNull",value:function(){return"null"===this.type}},{key:"isEditable",value:function(){return"raster-cube"!==this.dataType()&&"vector-cube"!==this.dataType()}},{key:"arrayOf",value:function(){return null===this.arrayItems?null:this.arrayItems.dataTypes()}},{key:"dataType",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.schema.type||"any";return e||(t=this.schema.format||t),t}},{key:"isEnum",value:function(){return Array.isArray(this.schema.enum)}},{key:"getEnumChoices",value:function(){return this.schema.enum}},{key:"getCallbackParameters",value:function(){return this.schema.parameters}},{key:"title",value:function(){var e=this.dataType();return this.schema.title&&(e+=" - "+this.schema.title),e}},{key:"description",value:function(){return this.schema.description||""}}]),e}(),y=function(e){function t(e,s,i){var a,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Object(u["a"])(this,t),a=Object(d["a"])(this,Object(p["a"])(t).call(this,e.schema)),a.meta=e,a.type=o?"output":"input",a.name=s,a.label=i,a.hasValue=!1,a.hasDefaultValue())return a.value=a.defaultValue(),a.hasValue=!0,Object(d["a"])(a);var r=a.dataType(!0);switch(r){case"array":a.value=[];break;case"string":a.value="";break;case"integer":case"number":a.value=0;break;case"boolean":a.value=!1;break;default:a.value=null}return a}return Object(v["a"])(t,e),Object(h["a"])(t,[{key:"isRequired",value:function(){return!0===this.meta.required}},{key:"isDefaultValue",value:function(){return!this.hasValue||this.hasDefaultValue()&&this.defaultValue()==this.getValue()}},{key:"isEditable",value:function(){return this.isInput()&&Object(f["a"])(Object(p["a"])(t.prototype),"isEditable",this).call(this)}},{key:"isOutput",value:function(){return"output"===this.type}},{key:"isInput",value:function(){return"input"===this.type}},{key:"description",value:function(){return this.meta.description}},{key:"getValue",value:function(){return this.value}},{key:"getLabel",value:function(){return this.label}},{key:"setValue",value:function(e){"boolean"==this.dataType(!0)&&(e=!!e),this.value=e,this.hasValue=!0}}]),t}(b),w=y,k=function(e,t){this.block=e;var s=new w(t.returns,"output",e.getDefaultOutputLabel(),!0);for(var i in this.output=s,this.inputs=[],this.editables=[],this.fields={output:s},t.parameters){var a=new w(t.parameters[i],i,i);this.inputs.push(a),a.isEditable()&&this.editables.push(a),this.fields[a.name]=a}};k.prototype.getField=function(e){return e in this.fields?this.fields[e]:null},k.prototype.show=function(){this.block.blocks.showParameters(this)},k.prototype.save=function(e){var t={};for(var s in this.fields)"boolean"==this.fields[s].type&&(t[s]=this.fields[s]);for(var i in e){var a=i,o=!1;"[]"==a.substr(a.length-2,2)&&(a=a.substr(0,a.length-2),o=!0),null==e[i]&&o&&(e[i]=[]),a in t&&delete t[a],this.getField(a).setValue(e[i])}for(var i in t)this.getField(i).setValue(!1);this.block.render(),this.block.redraw()};var C=k,S=s("60a2"),_=s("025e"),x=function(e,t,s,i,a){this.blocks=e,this.meta=i,this.name=t,this.type=s,this.defaultFont=10,this.historySaved=!1,this.id=a,this.hasFocus=!1,this.div=null,this.drag=null,this.lastScale=null,this.fields=new C(this,i),this.x=0,this.y=0,this.focusedField=null,this.edges={},this.result=!1};x.prototype.setResult=function(e){this.result=e,this.render()},x.prototype.getHeight=function(){return 20+15*this.fields.inputs.length},x.prototype.getWidth=function(){return this.hasInputs()?this.blocks.compactMode?110:170:this.blocks.compactMode?60:110},x.prototype.hasInputs=function(){return this.fields.inputs.length>0},x.prototype.getEdgeCount=function(e){return Array.isArray(this.edges[e])?this.edges[e].length:0},x.prototype.hasOutputEdges=function(){return this.getEdgeCount(this.fields.output.name)>0},x.prototype.getDefaultOutputLabel=function(){return this.isCallbackArgument()?"Callback Argument":"Output"},x.prototype.setValues=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(var s in e){var i=this.fields.getField(s);null!==i&&i.setValue(t?JSON.parse(e[s]):e[s])}},x.prototype.getValue=function(e){var t=this.fields.getField(e);return t?t.getValue():null},x.prototype.isCollection=function(){return"load_collection"===this.name},x.prototype.isCallbackArgument=function(){return"callback-argument"===this.type},x.prototype.getCollectionName=function(){return this.fields.getField("id").getValue()},x.prototype.getHtml=function(){var e=this,t=this.name;this.isCollection()&&(t=this.getCollectionName());var s=t,i=t;this.isCallbackArgument()||(s+=' <span class="blockId">#'+this.id+"</span>",i+=" #"+this.id);var a='<div class="blockTitle"><span class="titleText" title="'+i+'">'+s+"</span>";a+='<div class="blockicon">',this.blocks.compactMode||(this.blocks.editable&&!this.isCallbackArgument()&&(a+='<span class="delete" title="Remove (DEL)"><i class="fas fa-trash"></i></span>'),a+='<span class="info" title="Details"><i class="fas fa-info"></i></span>'),"function"===typeof this.blocks.openParameterEditor&&this.fields.editables.length>0&&!this.isCallbackArgument()&&(a+='<span class="settings" title="Change parameter values"><i class="fas fa-sliders-h"></i></span>'),a+="</div></div>",a+='<div class="inout">';var o=function(t,s){for(var i in a+='<div class="'+t+'s">',s){var o=s[i],r="";if(o&&o.isEditable()&&!e.blocks.compactMode){var l=o.getValue();e.getEdgeCount(o.name)>0?r="":"object"===Object(n["a"])(l)?null===l?r="N/A":(r=Array.isArray(l)?"List("+l.length+")":l.callback instanceof m["ProcessGraph"]?"Callback":"Object",r='<span title="'+S["a"].htmlentities(r)+'">'+r+"</span>"):r="string"===typeof l&&l.length>10?'<span title="'+S["a"].htmlentities(l)+'">'+l.substr(0,10)+"...</span>":"boolean"===typeof l?l?"✔️":"❌":l,r.length>0&&(r=": "+r)}var c='<div class="circle"></div>',u="";o.isOutput()&&(u=c,c="");var h,d=[t,"connector","field_"+o.name,o.hasValue||!o.isRequired()||o.isOutput()?"hasValue":"noValue"];e.isCollection()&&"id"===o.name&&d.push("hide_collection_id"),h=o.isOutput()&&e.blocks.compactMode?"":o.isOutput()&&e.result?"Result":S["a"].htmlentities(o.getLabel()),a+='<div class="'+d.join(" ")+'" rel="'+o.name+'">'+c+h+r+u+"</div>"}a+="</div>"};return o("input",this.fields.inputs),o("output",[this.fields.output]),a+="</div>",a},x.prototype.render=function(){this.lastScale=null,this.hasFocus=!1,this.div.innerHTML=this.getHtml(),this.initListeners(),this.redraw()},x.prototype.create=function(e){this.div=document.createElement("div"),this.div.id="block"+this.id,this.div.classList.add("block"),this.isCollection()?this.div.classList.add("block_collection"):this.isCallbackArgument()&&this.div.classList.add("block_argument"),e.appendChild(this.div),this.render()},x.prototype.redraw=function(e){for(var t in this.div.style.marginLeft=this.blocks.center.x+this.x*this.blocks.scale+"px",this.div.style.marginTop=this.blocks.center.y+this.y*this.blocks.scale+"px",this.blocks.showIcons&&this.blocks.scale>.8?this.div.querySelector(".blockicon").style.display="":this.div.querySelector(".blockicon").style.display="none",this.lastScale!=this.blocks.scale&&(this.div.style.fontSize=Math.round(this.blocks.scale*this.defaultFont)+"px",this.div.style.width=Math.round(this.blocks.scale*this.getWidth())+"px",this.lastScale=this.blocks.scale),this.fields.fields){var s=this.fields.fields[t],i=this.div.querySelector(".field_"+t);if(i){var a=i.querySelector(".circle");if(a.classList.remove("io_active"),a.classList.remove("io_selected"),a.classList.remove("result"),i.classList.contains("hasValue")||i.classList.add("noValue"),t in this.edges&&this.getEdgeCount(t)>0)for(var o in a.classList.add("io_active"),i.classList.remove("noValue"),this.edges[t])this.edges[t][o].selected&&a.classList.add("io_selected");s.isOutput()&&this.result&&a.classList.add("result")}}this.div.classList.remove("block_selected"),e&&this.div.classList.add("block_selected")},x.prototype.initListeners=function(){var e=this;this.div.querySelector(".blockTitle").addEventListener("mousedown",function(t){1==t.which&&(e.historySaved=!1,e.drag=[e.blocks.mouseX/e.blocks.scale-e.x,e.blocks.mouseY/e.blocks.scale-e.y])});var t=document.querySelector("html");t.addEventListener("mousemove",function(){e.drag&&(e.historySaved||(e.blocks.history.save(),e.historySaved=!0),e.x=e.blocks.mouseX/e.blocks.scale-e.drag[0],e.y=e.blocks.mouseY/e.blocks.scale-e.drag[1],e.blocks.redraw())}),t.addEventListener("mouseup",function(){return e.drag=null}),this.div.addEventListener("mouseover",function(){return e.hasFocus=!0}),this.div.addEventListener("mouseout",function(){return e.hasFocus=!1});var s=this.div.querySelectorAll(".connector"),i=!0,a=!1,o=void 0;try{for(var n,l=function(){var t=n.value;e.blocks.editable&&(t.addEventListener("mousedown",function(s){1==s.which&&(e.blocks.beginLink(e,t.getAttribute("rel")),s.preventDefault(),s.stopPropagation())}),t.addEventListener("click",function(t){if(1==t.which){if(e.hasOutputEdges())return void e.blocks.showError("A result node can't have outgoing edges.");e.blocks.setResultNode(e),e.blocks.history.save()}})),t.addEventListener("mouseover",function(){return e.focusedField=t.getAttribute("rel")}),t.addEventListener("mouseout",function(){return e.focusedField=null})},c=s[Symbol.iterator]();!(i=(n=c.next()).done);i=!0)l()}catch(p){a=!0,o=p}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}var u=this.div.querySelector(".settings");u&&u.addEventListener("click",function(t){e.fields.show(),t.preventDefault(),t.stopPropagation()});var h=this.div.querySelector(".delete");h&&h.addEventListener("click",function(t){e.blocks.removeBlock(e.id),t.preventDefault(),t.stopPropagation()});var d=this.div.querySelector(".info");d&&d.addEventListener("click",function(t){e.isCallbackArgument()?r["a"].$emit("showSchemaModal",e.name,e.meta.returns.schema):e.isCollection()?r["a"].$emit("showCollectionInfo",e.getCollectionName()):r["a"].$emit("showProcessInfo",e.name),t.preventDefault(),t.stopPropagation()})},x.prototype.linkPositionFor=function(e){try{var t=this.div.querySelector(".field_"+e+" .circle"),s=_["a"].domBoundingBox(t),i=_["a"].domBoundingBox(this.blocks.div),a=s.offsetLeft-i.offsetLeft+s.width/2,o=s.offsetTop-i.offsetTop+s.height/2}catch(r){throw"Unable to find link position for "+e+" ("+r+")"}return{x:a,y:o}},x.prototype.addEdge=function(e,t){var s=[];void 0!=this.edges[e]&&(s=this.edges[e]),s.push(t),this.edges[e]=s},x.prototype.eraseEdge=function(e,t){if(void 0!=this.edges[e])for(var s in this.edges[e])if(this.edges[e][s]==t){this.edges[e].splice(s,1);break}},x.prototype.erase=function(){this.div.parentNode.removeChild(this.div)},x.prototype.allSuccessors=function(){var e={},t=[this],s=[this.id];e[this.id]=!0;while(t.length>0){var i=t.pop();for(var a in i.edges)for(var o in i.edges[a]){var r=i.edges[a][o],n=r.fromTo();if(n[0]==i){var l=n[1];l.id in e||(e[l.id]=!0,t.push(l),s.push(l.id))}}}return s},x.prototype.export=function(){var e={};for(var t in this.fields.editables){var s=this.fields.editables[t];e[s.name]=JSON.stringify(s.getValue())}return{id:this.id,x:this.x,y:this.y,type:this.type,name:this.name,values:e}},x.prototype.exportProcessGraph=function(){if(this.isCallbackArgument())return null;var e={};for(var t in this.fields.inputs){var s=this.fields.inputs[t];if(this.getEdgeCount(s.name)>0){var i=[];for(var a in this.edges[s.name]){var o=this.edges[s.name][a].getOtherBlock(this);o.isCallbackArgument()?i.push({from_argument:o.name}):i.push({from_node:o.id})}e[s.name]=1===i.length?i[0]:i}else if(s.hasValue){if(!s.isRequired()&&s.isDefaultValue())continue;e[s.name]=s.getValue()}}var r={process_id:this.name,arguments:e};return this.result&&(r.result=!0),r},x.prototype.getField=function(e){return this.fields.getField(e)};var P=x,E=function(e,t,s,i){this.x=e,this.y=t,this.dx=s,this.dy=i};E.prototype.distance=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},E.prototype.distanceP=function(e){var t=this.normal();t.x=e.x,t.y=e.y;var s=this.intersection(t);return[s[0],this.distance(t.alpha(s[1]),e)]},E.prototype.normal=function(){return new E(this.x,this.y,this.dy,-this.dx)},E.prototype.intersection=function(e){var t=this.dx,s=-e.dx,i=this.dy,a=-e.dy,o=e.x-this.x,r=e.y-this.y,n=t*a-s*i;if(0==n)return null;var l=(a*o-s*r)/n,c=(-i*o+t*r)/n;return[l,c]},E.prototype.alpha=function(e){var t={};return t.x=this.x+this.dx*e,t.y=this.y+this.dy*e,t};var M=E,O=function(e,t,s,i,a,o){if(this.blocks=o,this.id=parseInt(e),this.block1=t,this.field1=s,this.block2=i,this.field2=a,this.selected=!1,this.defaultSize=3,this.defaultFontSize=10,this.position1=null,this.position2=null,this.segment=null,!t.getField(s.name)||!i.getField(a.name))throw"Can't create edge because the field doesn't exist"};O.prototype.fromTo=function(){return[this.block1,this.block2]},O.prototype.getOtherBlock=function(e){return e===this.block1?this.block2:e===this.block2?this.block1:null},O.prototype.getOtherField=function(e){return e===this.field1?this.field2:e===this.field2?this.field1:null},O.prototype.draw=function(e){this.position1=this.block1.linkPositionFor(this.field1.name),this.position2=this.block2.linkPositionFor(this.field2.name),this.segment=new M(this.position1.x,this.position1.y,this.position2.x-this.position1.x,this.position2.y-this.position1.y);var t=this.defaultSize*this.blocks.scale;if(this.selected)var s="rgba(0, 200, 0, 1)";else s="rgba(255, 200, 0, 1)";e.line(this.position1.x,this.position1.y,this.position2.x,this.position2.y,{stroke:s,"stroke-width":t});var i=(this.position1.x+this.position2.x)/2,a=(this.position1.y+this.position2.y)/2,o=Math.sqrt(Math.pow(this.position1.x-this.position2.x,2)+Math.pow(this.position1.y-this.position2.y,2)),r=30;r=r*Math.PI/180;var n=Math.cos(r),l=Math.sin(r),c=Math.cos(-r),u=Math.sin(-r),h=(this.position1.x-i)*this.blocks.scale*10/(o/2),d=(this.position1.y-a)*this.blocks.scale*10/(o/2);t=this.defaultSize*this.blocks.scale/3;e.line(i,a,i+(h*n-d*l),a+(d*n+h*l),{stroke:s,"stroke-width":t}),e.line(i,a,i+(h*c-d*u),a+(d*c+h*u),{stroke:s,"stroke-width":t})},O.prototype.collide=function(e,t){if(!this.segment)return!1;var s=this.segment.distanceP({x:e,y:t});return s[0]>=0&&s[0]<=1&&s[1]<this.defaultSize*this.blocks.scale*2&&s[0]},O.prototype.create=function(){if(this.block1==this.block2)throw"You can't link a block to itself";if(this.field1.type==this.field2.type)throw"You have to link an input with an output";this.block1.addEdge(this.field1.name,this),this.block2.addEdge(this.field2.name,this),this.block1.render(),this.block2.render()},O.prototype.getDataTypes=function(){return[this.field1.dataTypes(),this.field2.dataTypes()]},O.prototype.erase=function(){this.block1.eraseEdge(this.field1.name,this),this.block2.eraseEdge(this.field2.name,this),this.block1.render(),this.block2.render()},O.prototype.same=function(e){return this.block1==e.block1&&this.block2==e.block2&&this.field1.name==e.field1.name&&this.field2.name==e.field2.name||this.block1==e.block1&&this.block2==e.block2&&this.field1.name==e.field2.name&&this.field2.name==e.field1.name},O.prototype.export=function(){return{id:this.id,block1:this.block1.id,field1:this.field1.name,block2:this.block2.id,field2:this.field2.name}};var T=O,D=function(){function e(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Object(u["a"])(this,e),this.svgNS="http://www.w3.org/2000/svg",this.element="string"===typeof t?document.querySelector(t):t,null!==s&&(this.element.style.width=s),null!==i&&(this.element.style.height=i)}return Object(h["a"])(e,[{key:"clear",value:function(){while(this.element.firstChild)this.element.removeChild(this.element.firstChild);return this}},{key:"line",value:function(e,t,s,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return this._makeNode("line",Object.assign({x1:e,y1:t,x2:s,y2:i},a))}},{key:"_makeNode",value:function(e,t){var s=this.element.ownerDocument.createElementNS(this.svgNS,e);for(var e in t){var i=t[e];null==i||"string"===typeof i&&""===i||s.setAttribute(e,i)}return this.element.appendChild(s),s}}]),e}(),j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.errorHandler=e,this.openParameterEditor=t,this.active=!0,this.editable=!0,this.center={},this.newBlockOffset=0,this.scale=1.3,this.redrawTimeout=null,this.history=null,this.moving=null,this.isReady=!1,this.compactMode=!1,this.mouseX=0,this.mouseY=0,this.linking=null,this.selectedLink=null,this.selectedSide=null,this.selectedBlock=null,this.div=null,this.innerDiv=null,this.svg=null,this.moduleTypes={},this.blocks={},this.edges=[],this.id=1,this.edgeId=1,this.clear=function(){this.edges=[],this.blocks={},this.id=1,this.edgeId=1,this.innerDiv.innerHTML="",this.redraw()},this.showIcons=!0};j.prototype.run=function(e){var t=this,s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.div=document.querySelector(e),this.editable=s,this.div||alert("blocks.js: Unable to find "+e),this.div.innerHTML='<div class="blocks_js_editor"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" class="canvas"></svg><div class="blocks"></div></div>',this.innerDiv=this.div.querySelector(".blocks"),this.svg=new D(this.div.querySelector("svg"),"100%","100%");var i=_["a"].domBoundingBox(this.div);this.center.x=i.width/2,this.center.y=i.height/2,this.newBlockOffset=0,this.div.addEventListener("mousemove",function(e){var s=_["a"].domBoundingBox(t.div);t.mouseX=e.pageX-s.offsetLeft,t.mouseY=e.pageY-s.offsetTop,t.move()}),document.querySelector("html").addEventListener("mouseup",function(e){t.editable&&t.linking&&1==e.which&&(t.tryEndLink(),t.linking=null,t.redraw()),!t.moving||2!=e.which&&1!=e.which||(t.moving=null)}),this.div.addEventListener("mousedown",function(e){t.canvasClicked()&&e.preventDefault(),2!=e.which&&(t.selectedLink||t.selectedBlock||1!=e.which)||(t.moving=[t.mouseX,t.mouseY])}),document.addEventListener("keydown",function(e){var s=document.querySelectorAll("input, textarea, button, select, datalist"),i=!0,a=!1,o=void 0;try{for(var r,n=s[Symbol.iterator]();!(i=(r=n.next()).done);i=!0){var l=r.value;if(l===document.activeElement)return}}catch(c){a=!0,o=c}finally{try{i||null==n.return||n.return()}finally{if(a)throw o}}t.editable&&46==e.keyCode&&t.active&&t.deleteEvent()}),this.div.addEventListener("mousewheel",function(e){var s=t.mouseX-t.center.x,i=t.mouseY-t.center.y,a=Math.pow(1.1,e.deltaY/40*-1);t.center.x-=s*(a-1),t.center.y-=i*(a-1),t.newBlockOffset=0,t.scale*=a,t.redraw(),e.preventDefault()}),this.history=new c(this),this.isReady||this.postReady()},j.prototype.postReady=function(){if(this.isReady=!0,void 0!=this.readyQueue)for(var e in this.readyQueue)this.readyQueue[e]()},j.prototype.ready=function(e){if(this.isReady)e();else{var t=[];void 0!=this.readyQueue&&(t=this.readyQueue),t.push(e),this.readyQueue=t}},j.prototype.showParameters=function(e){"function"===typeof this.openParameterEditor&&this.openParameterEditor(this,e,this.editable)},j.prototype.getPosition=function(){var e={};return e.x=(this.mouseX-this.center.x)/this.scale,e.y=(this.mouseY-this.center.y)/this.scale,e},j.prototype.hasUndo=function(){return null===this.history?0:this.history.size()>0},j.prototype.undo=function(){null!==this.history&&(this.history.restoreLast(),this.blocks[this.selectedBlock]||(this.selectedBlock=null),this.edges[this.selectedLink]||(this.selectedLink=null))},j.prototype.setResultNode=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.result!==t){e.setResult(t);var s=!1;for(var i in this.blocks){var a=this.blocks[i];if(a!==e)if(t)a.setResult(!1);else if(!a.hasOutputEdges()){a.setResult(!0),s=!0;break}}t||s||this.showError("No result node available, please specify one."),this.redraw()}},j.prototype.addCollection=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.addBlock("load_collection","process",t,s,{id:e,spatial_extent:null,temporal_extent:null})},j.prototype.addProcess=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.addBlock(e,"process",t,s)},j.prototype.addCallbackArgument=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.addBlock(e,"callback-argument",t,s)},j.prototype.addBlock=function(e,t,s,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(!(t in this.moduleTypes))throw"Invalid module type specified.";if(!(e in this.moduleTypes[t]))throw"'"+e+"' not available.";var o=new P(this,e,t,this.moduleTypes[t][e],this.id);return o.x=null===s?-o.getWidth()/2+this.newBlockOffset:s,o.y=null===i?-o.getHeight()/2+this.newBlockOffset:i,this.newBlockOffset<150&&(this.newBlockOffset+=10),0!==this.getProcessBlockCount()||o.isCallbackArgument()||(o.result=!0),o.setValues(a),o.create(this.innerDiv),o.isCallbackArgument()||this.history.save(),this.blocks[this.id]=o,this.id++,o},j.prototype.unregisterProcesses=function(){this.moduleTypes["process"]={}},j.prototype.unregisterCallbackArguments=function(){this.moduleTypes["callback-arguments"]={}},j.prototype.registerProcess=function(e){this.register(e,"process",e.id)},j.prototype.registerCallbackArgument=function(e,t){var s=m["Utils"].mergeDeep({},t);s.returns={name:e,attrs:"output",schema:t},this.register(s,"callback-argument",e)},j.prototype.register=function(e,t,s){t in this.moduleTypes||(this.moduleTypes[t]={}),this.moduleTypes[t][s]=e},j.prototype.beginLink=function(e,t){this.linking=[e,t]},j.prototype.move=function(){if(this.editable&&this.selectedSide){var e=Math.sqrt(Math.pow(this.mouseX-this.selectedSide[1],2)+Math.pow(this.mouseY-this.selectedSide[2],2));if(e>15){var t=this.edges[this.selectedLink];2==this.selectedSide[0]?this.linking=[t.block1,t.field1.name]:this.linking=[t.block2,t.field2.name],this.removeEdge(this.selectedLink),this.selectedSide=null,null!=this.selectedLink&&this.selectedLink in this.edges&&(this.edges[this.selectedLink].selected=!1),this.selectedLink=null,this.redraw()}}this.moving&&(this.center.x+=this.mouseX-this.moving[0],this.center.y+=this.mouseY-this.moving[1],this.newBlockOffset=0,this.moving=[this.mouseX,this.mouseY],this.redraw()),this.editable&&this.linking&&this.redraw()},j.prototype.canvasClicked=function(){var e=!1;for(var t in this.selectedBlock=null,null!=this.selectedLink&&(this.edges[this.selectedLink].selected=!1),this.selectedLink=null,this.selectedSide=null,this.blocks)this.blocks[t].hasFocus&&(this.selectedBlock=t);if(!this.selectedBlock)for(var t in this.edges){var s=this.edges[t].collide(this.mouseX,this.mouseY);if(0!=s){s<.2?this.selectedSide=[1,this.mouseX,this.mouseY]:s>.8&&(this.selectedSide=[2,this.mouseX,this.mouseY]),this.selectedLink=t,this.edges[t].selected=!0,e=!0;break}}return this.redraw(),e},j.prototype.removeEdge=function(e){this.history.save(),this.edges[e].erase(),this.edges.splice(e,1)},j.prototype.getEdgeId=function(e){for(var t in this.edges)if(e==this.edges[t])return t;return!1},j.prototype.removeBlock=function(e){var t=this.blocks[e],s=[];for(var i in this.edges){var a=this.edges[i];a.block1==t||a.block2==t?a.erase():s.push(a)}this.edges=s,t.erase(),t.id==this.selectedBlock&&(this.selectedBlock=null),delete this.blocks[e],this.redraw()},j.prototype.getBlockById=function(e){return this.blocks[e]?this.blocks[e]:null},j.prototype.getCallbackArgumentBlockByName=function(e){for(var t in this.blocks){var s=this.blocks[t];if(s.isCallbackArgument()&&s.name===e)return s}return null},j.prototype.getBlockCount=function(){return _["a"].size(this.blocks)},j.prototype.getProcessBlockCount=function(){return _["a"].size(Object.values(this.blocks).filter(function(e){return!e.isCallbackArgument()}))},j.prototype.canDelete=function(){if(null!=this.selectedBlock){var e=this.getBlockById(this.selectedBlock);if(e&&e.isCallbackArgument())return!1}return null!=this.selectedBlock||null!=this.selectedLink},j.prototype.deleteEvent=function(){this.canDelete()&&(null!=this.selectedBlock&&(this.history.save(),this.removeBlock(this.selectedBlock),this.selectedBlock=null),null!=this.selectedLink&&(this.history.save(),this.removeEdge(this.selectedLink),this.selectedLink=null,this.redraw()))},j.prototype.doRedraw=function(){for(var e in this.blocks)this.blocks[e].redraw(this.selectedBlock==e);for(var e in this.svg.clear(),this.edges)this.edges[e].draw(this.svg);if(this.linking)try{var t=this.linking[0].linkPositionFor(this.linking[1]);this.svg.line(t.x,t.y,this.mouseX,this.mouseY,{stroke:"rgba(0,0,0,0.4)","stroke-width":3*this.scale})}catch(s){console.log(s),this.linking=null}this.redrawTimeout=null},j.prototype.redraw=function(){var e=this;this.redrawTimeout||(this.redrawTimeout=setTimeout(function(){return e.doRedraw()},25))},j.prototype.tryEndLink=function(){for(var e in this.blocks){var t=this.blocks[e];if(t.hasFocus&&t.focusedField){this.endLink(t,t.focusedField);break}}},j.prototype.addEdge=function(e,t,s,i){e instanceof P||(e=this.getBlockById(e)),s instanceof P||(s=this.getBlockById(s));var a=this.edgeId++;if(t instanceof w||(t=e.getField(t)),i instanceof w||(i=s.getField(i)),t.isOutput())var o=new T(a,e,t,s,i,this);else o=new T(a,s,i,e,t,this);var r=o.fromTo();if(r[0]!==r[1]){if(-1!=r[1].allSuccessors().indexOf(r[0].id))throw"You can not create a loop";if(this.setResultNode(t.isOutput()?e:s,!1),!this.areTypesCompatible(o.field1,o.field2))throw"Types are not compatible";for(var n in this.edges){var l=this.edges[n];if(l.same(o))throw"This edge already exists"}this.history.save(),o.create(),this.edges.push(o),s.redraw(),e.redraw(),this.redraw()}},j.prototype.endLink=function(e,t){try{this.addEdge(this.linking[0],this.linking[1],e,t)}catch(s){this.showError(s)}this.linking=null,this.selectedBlock=null},j.prototype.areTypesCompatible=function(e,t){return m["JsonSchemaValidator"].isSchemaCompatible(e.schema,t.schema)},j.prototype.showError=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;"function"===typeof this.errorHandler?this.errorHandler(e,t):console.log(t,e)},j.prototype.toggleCompact=function(){for(var e in this.compactMode=!this.compactMode,this.blocks)this.blocks[e].render();this.redraw()},j.prototype.export=function(){var e=[],t=[];for(var s in this.blocks)e.push(this.blocks[s].export());for(var s in this.edges)t[s]=this.edges[s].export();return{edges:t,blocks:e}},j.prototype.exportProcessGraph=function(){if(0===this.getProcessBlockCount())return null;var e={};for(var t in this.blocks){var s=this.blocks[t].exportProcessGraph();null!==s&&(e[t]=s)}return e},j.prototype.importProcessGraph=function(e){var t=new m["ProcessGraph"](e);t.parse(),this.importNodesFromProcessGraph(t.getStartNodes());var s=t.getNodes();for(var i in s){var a=s[i],o=a.getArgumentNames();for(var r in o)switch(a.getArgumentType(o[r])){case"result":var n=t.getNode(a.getRawArgumentValue(o[r]));this.addEdge(n.blockId,"output",a.blockId,o[r]);break;case"callback-argument":var l=this.getCallbackArgumentBlockByName(a.getRawArgumentValue(o[r]));this.addEdge(l,"output",a.blockId,o[r]);break}}},j.prototype.importNodesFromProcessGraph=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;for(var i in e){var a=e[i];if(!(a.blockId>0)){var o=this.addProcess(a.process_id,t,s);o&&(o.setValues(a.arguments),o.render()),o.result=a.isResultNode,a.blockId=o.id,this.importNodesFromProcessGraph(a.getNextNodes(),t+o.getWidth()+20,s,o),s+=o.getHeight()+20}}},j.prototype.import=function(e){var t=this;this.clear(),this.ready(function(){try{var s=[];if(t.id=1,t.edgeId=1,"object"!=Object(n["a"])(e)||e instanceof Array)throw"Scene is not an object";if(!("blocks"in e)||!(e.blocks instanceof Array))throw"Scene has no blocks section";if(!("edges"in e)||!(e.edges instanceof Object))throw"Scene has no edges section";for(var i in e.blocks){var a=e.blocks[i];if(a.type in t.moduleTypes&&a.name in t.moduleTypes[a.type]){var o=new P(t,a.name,a.type,t.moduleTypes[a.type][a.name],a.id);o.x=a.x,o.y=a.y,o.setValues(a.values,!0),t.id=Math.max(t.id,o.id+1),o.create(t.innerDiv),t.blocks[a.id]=o}else s.push("Block #"+i+": Unable to create a block of type "+a.type)}for(var i in e.edges){a=e.edges[i];if(!1 in a)s.push("Edge #"+i+": The edge does not have an id");else{var r=t.getBlockById(a.block1),l=t.getBlockById(a.block2);if(r&&l){var c=new T(a.id,r,r.getField(a.field1),l,l.getField(a.field2),t);t.edgeId=Math.max(t.edgeId,c.id+1),c.create(),t.edges.push(c)}else s.push("Edge #"+i+": Corresponsing block does not exist")}}if(s.length)for(var i in s)t.showError(s[i],"Import failed");t.redraw()}catch(u){t.showError(u,"Import failed")}})},j.prototype.perfectScale=function(){if(this.div&&0!==this.getBlockCount()){var e=null,t=null,s=null,i=null;for(var a in this.blocks){var o=this.blocks[a];null==e?(e=o.x-15,t=o.x+o.getWidth()+18,s=o.y-15,i=o.y+115):(e=Math.min(e,o.x-15),t=Math.max(t,o.x+o.getWidth()+18),s=Math.min(s,o.y-15),i=Math.max(i,o.y+115))}var r=this.div.getBoundingClientRect(),n=r.width/(t-e),l=r.height/(i-s),c=Math.min(n,l);this.scale=c,this.center.x=r.width/2-c*(e+t)/2,this.center.y=r.height/2-c*(s+i)/2,this.newBlockOffset=0,this.redraw()}};var A=j,F=s("1190"),I=s("cbd9"),$=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Modal",{ref:"__modal",scopedSlots:e._u([{key:"main",fn:function(){return[0===e.editableFields.length?s("p",[e._v("No editable parameters available.")]):s("form",{attrs:{id:"parameterModal"},on:{submit:function(t){return t.preventDefault(),e.save(t)}}},e._l(e.editableFields,function(t,i){return s("div",{key:i,staticClass:"fieldRow"},[s("label",[e._v("\n\t\t\t\t\t"+e._s(t.label)),t.isRequired()?s("strong",{staticClass:"required",attrs:{title:"required"}},[e._v("*")]):e._e(),t.description()?s("div",{staticClass:"description"},[s("Description",{attrs:{description:t.description()}})],1):e._e()]),s("ParameterFields",{ref:t.name,refInFor:!0,attrs:{editable:e.editable,field:t,pass:t.getValue()}})],1)}),0)]},proxy:!0},"function"===typeof this.saveCallback?{key:"footer",fn:function(){return[s("div",{staticClass:"footer"},[s("button",{staticClass:"save",on:{click:e.save}},[e._v("Save")])])]},proxy:!0}:null],null,!0)})},N=[],V=s("714b"),G=s("8088"),B=function(){var e=this,t=e.$createElement,s=e._self._c||t;return null!==e.type?s("div",{staticClass:"fieldContainer"},[e.field.schemas.length>1?s("div",{staticClass:"dataTypeChooser"},[e._v("\n\t\tData type:\n\t\t"),s("select",{directives:[{name:"model",rawName:"v-model",value:e.type,expression:"type"}],attrs:{name:"dataType",disabled:!e.editable},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.type=t.target.multiple?s:s[0]}}},e._l(e.field.schemas,function(t,i){return s("option",{key:i,domProps:{value:i}},[e._v(e._s(t.title()))])}),0),e.field.schemas[e.type].description()?s("div",{staticClass:"description"},[s("i",{staticClass:"fas fa-info-circle"}),e._v(" "+e._s(e.field.schemas[e.type].description())+"\n\t\t")]):e._e()]):e._e(),s("ParameterField",{ref:"field",attrs:{editable:e.editable,field:e.field,schema:e.field.schemas[e.type],pass:e.pass}})],1):e._e()},J=[],U=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"fieldEditorContainer"},[e.schema.isEnum()?s("select",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"fieldValue",attrs:{name:e.fieldName,disabled:!e.editable},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.value=t.target.multiple?s:s[0]}}},e._l(e.schema.getEnumChoices(),function(t,i){return s("option",{key:i,domProps:{value:t}},[e._v(e._s(t))])}),0):"collection-id"===e.type?s("select",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"fieldValue",attrs:{name:e.fieldName,disabled:!e.editable},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.value=t.target.multiple?s:s[0]}}},e._l(e.collections,function(t){return s("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.id))])}),0):"output-format"===e.type?s("select",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"fieldValue",attrs:{name:e.fieldName,disabled:!e.editable},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.value=t.target.multiple?s:s[0]}}},e._l(e.outputFormats,function(t,i){return s("option",{key:i,domProps:{value:i.toUpperCase()}},[e._v(e._s(i.toUpperCase()))])}),0):"temporal-interval"===e.type?[s("VueCtkDateTimePicker",{attrs:{disabled:!e.editable,range:!0,label:"Select start and end time",format:"YYYY-MM-DD[T]HH:mm:ss[Z]"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})]:"date-time"===e.type?[s("VueCtkDateTimePicker",{attrs:{disabled:!e.editable,label:"Select date and time",format:"YYYY-MM-DD[T]HH:mm:ss[Z]","no-button":"true"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})]:"date"===e.type?[s("VueCtkDateTimePicker",{attrs:{disabled:!e.editable,label:"Select date","only-date":"true",format:"YYYY-MM-DD","no-button":"true"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})]:"time"===e.type?[s("VueCtkDateTimePicker",{attrs:{disabled:!e.editable,label:"Select time","only-time":"true",format:"HH:mm:ss[Z]","no-button":"true"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})]:"bounding-box"===e.type?[s("div",{staticClass:"areaSelector",attrs:{id:e.fieldName}})]:"callback"===e.type?s("div",{staticClass:"border"},[s("VisualEditor",{ref:"callbackBuilder",attrs:{id:"inlinePgEditor",editable:e.editable,callbackArguments:e.schema.getCallbackParameters(),value:e.value}})],1):"null"===e.type?[e._v("\n\t\tThe field will be set to "),s("strong",[s("tt",[e._v("null")])],1),e._v(".\n\t")]:"array"===e.type||"temporal-intervals"===e.type?s("div",{staticClass:"arrayEditor"},[s("draggable",{model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[s("transition-group",{attrs:{name:"arrayElements"}},e._l(e.value,function(t,i){return s("div",{key:t.id,staticClass:"fieldValue arrayElement"},[s("ParameterField",{ref:"arrayFields",refInFor:!0,attrs:{editable:e.editable,field:e.field,schema:e.schema,pass:t.value,isItem:!0}}),e.editable?s("button",{attrs:{type:"button"},on:{click:function(t){return e.removeField(i)}}},[s("i",{staticClass:"fas fa-trash"})]):e._e(),e.editable?s("div",{staticClass:"mover"},[s("i",{staticClass:"fas fa-arrows-alt"})]):e._e()],1)}),0)],1),e.editable?s("button",{attrs:{type:"button"},on:{click:function(t){return e.addField()}}},[s("i",{staticClass:"fas fa-plus"}),e._v(" Add")]):e._e()],1):e.useTextarea?s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"fieldValue textarea",attrs:{disabled:!e.editable},domProps:{value:e.value},on:{input:function(t){t.target.composing||(e.value=t.target.value)}}}):"boolean"===e.type?s("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"fieldValue",attrs:{type:"checkbox",name:e.fieldName,disabled:!e.editable},domProps:{checked:!!e.value,checked:Array.isArray(e.value)?e._i(e.value,null)>-1:e.value},on:{change:function(t){var s=e.value,i=t.target,a=!!i.checked;if(Array.isArray(s)){var o=null,r=e._i(s,o);i.checked?r<0&&(e.value=s.concat([o])):r>-1&&(e.value=s.slice(0,r).concat(s.slice(r+1)))}else e.value=a}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"fieldValue",attrs:{type:"text",name:e.fieldName,disabled:!e.editable},domProps:{value:e.value},on:{input:function(t){t.target.composing||(e.value=t.target.value)}}})],2)},R=[],q=(s("04ff"),s("c5f6"),s("5df2"),s("456d"),s("310e")),H=s.n(q),Y=s("e30a"),z=s.n(Y),W=(s("b40d"),s("6cc5"),s("e11e")),X=s.n(W);L.AreaSelect=L.Evented.extend({includes:L.Evented,options:{width:300,height:200,enabled:!0},initialize:function(e){L.Util.setOptions(this,e),this._width=this.options.width,this._height=this.options.height},addTo:function(e){return this.map=e,this._createElements(),this._render(),this},setBounds:function(e){this.map.fitBounds(e);var t=this.map.latLngToContainerPoint(e.getSouthWest()),s=this.map.latLngToContainerPoint(e.getNorthEast());this.setDimensions({width:Math.abs(t.x-s.x),height:Math.abs(t.y-s.y)})},getBounds:function(){var e=this.map.getSize(),t=new L.Point,s=new L.Point;s.x=Math.round((e.x-this._width)/2),t.y=Math.round((e.y-this._height)/2),t.x=e.x-s.x,s.y=e.y-t.y;var i=this.map.containerPointToLatLng(s),a=this.map.containerPointToLatLng(t);return new L.LatLngBounds(i,a)},remove:function(){this.map.off("moveend",this._onMapChange),this.map.off("zoomend",this._onMapChange),this.map.off("resize",this._onMapResize),this._container.parentNode.removeChild(this._container)},setDimensions:function(e){e&&(this._height=parseInt(e.height)||this._height,this._width=parseInt(e.width)||this._width,this._render(),this.fire("change"))},_createElements:function(){this._container||(this._container=L.DomUtil.create("div","leaflet-areaselect-container",this.map._controlContainer),this._topShade=L.DomUtil.create("div","leaflet-areaselect-shade leaflet-control",this._container),this._bottomShade=L.DomUtil.create("div","leaflet-areaselect-shade leaflet-control",this._container),this._leftShade=L.DomUtil.create("div","leaflet-areaselect-shade leaflet-control",this._container),this._rightShade=L.DomUtil.create("div","leaflet-areaselect-shade leaflet-control",this._container),this.options.editable&&(this._nwHandle=L.DomUtil.create("div","leaflet-areaselect-handle leaflet-control",this._container),this._swHandle=L.DomUtil.create("div","leaflet-areaselect-handle leaflet-control",this._container),this._neHandle=L.DomUtil.create("div","leaflet-areaselect-handle leaflet-control",this._container),this._seHandle=L.DomUtil.create("div","leaflet-areaselect-handle leaflet-control",this._container),this._setUpHandlerEvents(this._nwHandle),this._setUpHandlerEvents(this._neHandle,-1,1),this._setUpHandlerEvents(this._swHandle,1,-1),this._setUpHandlerEvents(this._seHandle,-1,-1),this.map.on("moveend",this._onMapChange,this),this.map.on("zoomend",this._onMapChange,this),this.map.on("resize",this._onMapResize,this)),this.fire("change"))},_setUpHandlerEvents:function(e,t,s){t=t||1,s=s||1;var i=this;function a(o){o.stopPropagation(),i.map.dragging.disable(),L.DomEvent.removeListener(this,"mousedown",a);var r=o.pageX,n=o.pageY,l=i.map.getSize();function c(e){i._width+=2*(r-e.originalEvent.pageX)*t,i._height+=2*(n-e.originalEvent.pageY)*s,i._width=Math.max(30,i._width),i._height=Math.max(30,i._height),i._width=Math.min(l.x-30,i._width),i._height=Math.min(l.y-30,i._height),r=e.originalEvent.pageX,n=e.originalEvent.pageY,i._render()}function u(t){i.map.dragging.enable(),L.DomEvent.removeListener(i.map,"mouseup",u),L.DomEvent.removeListener(i.map,"mousemove",c),L.DomEvent.addListener(e,"mousedown",a),i.fire("change")}L.DomEvent.addListener(i.map,"mousemove",c),L.DomEvent.addListener(i.map,"mouseup",u)}L.DomEvent.addListener(e,"mousedown",a)},_onMapResize:function(){this._render()},_onMapChange:function(){this.fire("change")},_render:function(){var e=this.map.getSize(),t=Math.round((e.y-this._height)/2),s=Math.round((e.x-this._width)/2);function i(e,t){e.style.width=t.width+"px",e.style.height=t.height+"px",e.style.top=t.top+"px",e.style.left=t.left+"px",e.style.bottom=t.bottom+"px",e.style.right=t.right+"px"}if(i(this._topShade,{width:e.x,height:t,top:0,left:0}),i(this._bottomShade,{width:e.x,height:t,bottom:0,left:0}),i(this._leftShade,{width:s,height:e.y-2*t,top:t,left:0}),i(this._rightShade,{width:s,height:e.y-2*t,top:t,right:0}),this.options.editable){var a=Math.round(this._nwHandle.offsetWidth/2);i(this._nwHandle,{left:s-a,top:t-7}),i(this._neHandle,{right:s-a,top:t-7}),i(this._swHandle,{left:s-a,bottom:t-7}),i(this._seHandle,{right:s-a,bottom:t-7})}}}),L.areaSelect=function(e){return new L.AreaSelect(e)};L.areaSelect,s("39fd");var Z={name:"ParameterField",components:{draggable:H.a,VisualEditor:function(){return Promise.resolve().then(s.bind(null,"8c66"))},VueCtkDateTimePicker:z.a},props:{field:Object,editable:{type:Boolean,default:!0},schema:Object,pass:{},isItem:{type:Boolean,default:!1}},data:function(){return{value:null}},computed:Object(o["a"])({},_["a"].mapState("server",["collections","outputFormats"]),{type:function(){return this.isItem?this.schema.arrayOf():this.schema.dataType()},useTextarea:function(){return"geojson"===this.type||"proj-definition"===this.type||"output-format-options"===this.type||"process-graph-variables"===this.type},fieldName:function(){return this.field.name+(Array.isArray(this.field.value)?"[]":"")}}),watch:{schema:function(){this.$nextTick(this.initView)}},created:function(){this.value=this.initValue()},mounted:function(){this.$nextTick(this.initView)},methods:{initView:function(){var e=this;if("bounding-box"===this.type){var t=new X.a.Map(this.fieldName,{zoomControl:this.editable}),s=X.a.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{name:"OpenStreetMap",attribution:'Map data &copy; <a href="http://www.osm.org">OpenStreetMap</a>'});s.addTo(t);var i=X.a.areaSelect({editable:this.editable});i.addTo(t),_["a"].isObject(this.value)&&Object.keys(this.value).length>=4?(this.value=X.a.latLngBounds(X.a.latLng(this.value.south,this.value.west),X.a.latLng(this.value.north,this.value.east)),i.setBounds(this.value)):(t.setView([0,0],1),this.value=i.getBounds()),i.on("change",function(){e.value=i.getBounds()}),this.editable||(t.touchZoom.disable(),t.doubleClickZoom.disable(),t.scrollWheelZoom.disable(),t.boxZoom.disable(),t.keyboard.disable(),t.dragging.disable())}},initValue:function(){var e;if("temporal-interval"===this.type)e=Array.isArray(this.$props.pass)&&this.$props.pass.length>=2?{start:this.$props.pass[0],end:this.$props.pass[1]}:"";else if("output-format"===this.type)e="string"===typeof this.$props.pass?this.$props.pass.toUpperCase():this.$props.pass;else if("callback"===this.type)e=_["a"].isObject(this.$props.pass)&&this.$props.pass.callback?_["a"].isObject(this.$props.pass)&&this.$props.pass.callback instanceof m["ProcessGraph"]?this.$props.pass.callback.toJSON():this.$props.pass.callback:null;else if("array"===this.type||"temporal-intervals"===this.type){if(e=[],Array.isArray(this.$props.pass))for(var t in this.$props.pass)e.push({id:t,value:this.$props.pass[t]})}else e=this.useTextarea&&"object"===Object(n["a"])(this.$props.pass)?_["a"].size()>0?JSON.stringify(this.$props.pass,null,2):"":this.$props.pass;return e},getValue:function(){if("temporal-interval"===this.type)return[this.value.start,this.value.end];if("callback"===this.type){var e=this.$refs.callbackBuilder.makeProcessGraph(),t=new m["ProcessGraph"](e);return t.parse(),{callback:t}}if("bounding-box"===this.type)return{west:+this.value.getWest().toFixed(6),south:+this.value.getSouth().toFixed(6),east:+this.value.getEast().toFixed(6),north:+this.value.getNorth().toFixed(6)};if("array"===this.type||"temporal-intervals"===this.type){var s=[];for(var i in this.$refs.arrayFields)s.push(this.$refs.arrayFields[i].getValue());return s}return"number"===this.type?Number.parseFloat(this.value):"integer"===this.type?Number.parseInt(this.value):"null"===this.type?null:this.useTextarea?"string"===typeof this.value&&this.value.length>0?JSON.parse(this.value):null:this.value},addField:function(){return this.value.push({id:this.value.length,value:null}),!1},removeField:function(e){return this.value.splice(e,1),!1}}},K=Z,Q=(s("e6ae"),s("e4da"),s("2877")),ee=Object(Q["a"])(K,U,R,!1,null,"40a295d8",null),te=ee.exports,se={name:"ParameterFields",components:{ParameterField:te},props:{field:Object,editable:{type:Boolean,default:!0},pass:{}},data:function(){return{type:null}},created:function(){var e=this;this.field.schemas.length>1?m["JsonSchemaValidator"].getTypeForValue(this.field.schemas.map(function(e){return e.schema}),this.pass).then(function(t){Array.isArray(t)?(Utils.info("Data type can't be detected, please select it yourself."),console.log("Parameter schema is ambiguous. Potential types: "+t.join(", ")+". Value: "+JSON.stringify(e.pass)),e.type=t[0]):e.type=t}).catch(function(t){e.type=0}):this.type=0},methods:{getValue:function(){return this.$refs.field.getValue()}}},ie=se,ae=(s("d1fe"),Object(Q["a"])(ie,B,J,!1,null,"0e18d308",null)),oe=ae.exports,re={name:"ParameterModal",components:{Modal:V["a"],Description:G["a"],ParameterFields:oe},data:function(){return{editableFields:[],editable:!0,saveCallback:null}},methods:{save:function(){try{if("function"===typeof this.saveCallback){var e={};for(var t in this.$refs)Array.isArray(this.$refs[t])&&this.$refs[t].length>0&&_["a"].isObject(this.$refs[t][0])&&"function"==typeof this.$refs[t][0].getValue&&(e[t]=this.$refs[t][0].getValue());this.saveCallback(e)}this.$refs.__modal.close()}catch(s){_["a"].exception(this,s)}},show:function(e,t){var s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.editableFields=t,this.editable=s,this.saveCallback=i,this.$refs.__modal.show(e,a)}}},ne=re,le=(s("9cab"),s("e0b0"),Object(Q["a"])(ne,$,N,!1,null,"0acda922",null)),ce=le.exports,ue=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Modal",{ref:"modal",scopedSlots:e._u([{key:"main",fn:function(){return[s("div",{attrs:{id:"schemaModal"}},[e.message?s("p",{staticClass:"message"},[e._v(e._s(e.message))]):e._e(),s("JsonSchema",{attrs:{schema:e.schema}})],1)]},proxy:!0}])})},he=[],de=s("6e45"),pe={name:"SchemaModal",components:{Modal:V["a"],JsonSchema:de["a"]},data:function(){return{schema:null,message:null}},methods:{show:function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.schema=t,this.message=s,this.$refs.modal.show(e)}}},fe=pe,ve=(s("0df61"),Object(Q["a"])(fe,ue,he,!1,null,null,null)),me=ve.exports,be={name:"VisualEditor",components:{EditorToolbar:F["a"],DiscoveryToolbar:I["a"],ParameterModal:ce,SchemaModal:me},props:{id:String,editable:{type:Boolean,default:!0},active:{type:Boolean,default:!0},value:{type:Object,default:null},callbackArguments:{type:Object}},computed:Object(o["a"])({},_["a"].mapState("server",["processes","collections"])),data:function(){return{blocks:null,isFullScreen:!1}},beforeMount:function(){var e=this;this.blocks=new A(this.errorHandler,function(t,s,i){return e.openParameterEditor(t,s,i)})},mounted:function(){this.$nextTick(this.initBlocks),r["a"].$on("showSchemaModal",this.showSchemaModal)},watch:{processes:function(){this.registerProcesses()}},methods:{initBlocks:function(){this.blocks.run("#"+this.id,this.editable),this.registerProcesses(),this.makeCallbackArguments(),this.insertProcessGraph(this.value,!1)},perfectScale:function(){this.blocks.perfectScale(),this.$forceUpdate()},toggleFullScreen:function(){var e=this.$refs.visualEditor;this.isFullScreen?(this.isFullScreen=!1,e.classList.remove("fullscreen"),this.perfectScale()):(this.isFullScreen=!0,e.classList.add("fullscreen"),this.perfectScale())},errorHandler:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;_["a"].exception(this,e,t)},showSchemaModal:function(e,t){this.$refs.schemaModal&&this.$refs.schemaModal.show(e,t,"This is a callback argument. It is a value made available by the process executing this sub-processes for further use. The value will comply to the following data type(s):")},openParameterEditor:function(e,t,s){e.active=!1;var i=t.block.name+" #"+t.block.id;this.$refs.parameterModal.show(i,t.editables,s,s?function(e){return t.save(e)}:null,function(){return e.active=!0,!0})},clearProcessGraph:function(){this.blocks.clear()},registerProcesses:function(){for(var e in this.blocks.unregisterProcesses(),this.processes)this.blocks.registerProcess(this.processes[e]);for(var t in this.blocks.unregisterCallbackArguments(),this.callbackArguments)this.blocks.registerCallbackArgument(t,this.callbackArguments[t])},getProcessGraph:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.makeProcessGraph(t);null!==i||s?e(i):t||_["a"].error(this,"No valid model specified.")},makeModel:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=!0;t&&this.blocks.history.save(),this.blocks.clear(),this.blocks.history.enable(!1);try{this.makeCallbackArguments(),this.blocks.importProcessGraph(e),this.blocks.perfectScale()}catch(i){_["a"].exception(this,i,"Process graph invalid"),this.blocks.history.restoreLast(),s=!1}return this.blocks.history.enable(!0),s},makeProcessGraph:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{return this.blocks.exportProcessGraph()}catch(t){return e?console.log(t):_["a"].exception(this,t),null}},makeCallbackArguments:function(){var e=0;for(var t in this.callbackArguments)this.insertCallbackArgument(t,e++)},insertProcessGraph:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e&&this.makeModel(e,t)},insertCollection:function(e){try{this.blocks.addCollection(e)}catch(t){_["a"].exception(this,t)}},insertProcess:function(e){try{this.blocks.addProcess(e)}catch(t){_["a"].exception(this,t)}},insertCallbackArgument:function(e,t){try{this.blocks.addCallbackArgument(e,-150,50*t)}catch(s){_["a"].exception(this,s)}}}},ge=be,ye=(s("4d98"),Object(Q["a"])(ge,i,a,!1,null,null,null));t["default"]=ye.exports},"8c7c":function(e,t,s){"use strict";var i,a,o=s("cebc"),r=s("025e"),n={computed:Object(o["a"])({},r["a"].mapState("server",["connection"]),r["a"].mapGetters("server",["supports","isConnected"]),{apiVersion:function(){return this.connection.capabilities().apiVersion()}})},l=n,c=s("2877"),u=Object(c["a"])(l,i,a,!1,null,null,null);t["a"]=u.exports},"916f":function(e,t,s){"use strict";var i=s("a36c"),a=s.n(i);a.a},9215:function(e,t,s){},9224:function(e){e.exports={name:"@openeo/web-editor",version:"0.4.0-beta.1",apiVersions:["0.4.0"],author:"openEO Consortium",contributors:[{name:"Matthias Mohr"},{name:"Gustav Jv Rensburg"},{name:"Miha Kadunc"},{name:"Christoph Friedrich"}],description:"An interactive and easy to use web-based editor for the OpenEO API.",license:"Apache-2.0",homepage:"http://openeo.org",bugs:{url:"https://github.com/Open-EO/openeo-web-editor/issues"},repository:{type:"git",url:"https://github.com/Open-EO/openeo-web-editor.git"},scripts:{serve:"vue-cli-service serve",build:"vue-cli-service build"},dependencies:{"@openeo/js-client":"^0.4.0-beta.1","@openeo/js-commons":"^0.4.0-beta.2","@openeo/vue-components":"^0.3.5",ajv:"^6.10.0",codemirror:"^5.42.2",leaflet:"^1.4.0","leaflet-fullscreen":"^1.0.2","leaflet-geotiff":"^0.2.0","leaflet-side-by-side":"github:digidem/leaflet-side-by-side",vue:"^2.5.22","vue-ctk-date-time-picker":"^2.1.0","vue-snotify":"^3.2.1",vuedraggable:"^2.17.0",vuex:"^3.1.1"},devDependencies:{"@vue/cli-plugin-babel":"^3.5.5","@vue/cli-service":"^3.5.3","vue-cli-plugin-webpack-bundle-analyzer":"^1.3.0","vue-template-compiler":"^2.5.22"},browserslist:["> 1%","last 2 versions","not ie <= 8"]}},"95b8":function(e,t,s){"use strict";var i=s("859c"),a=s.n(i);a.a},9961:function(e,t,s){"use strict";var i=s("9215"),a=s.n(i);a.a},"9b84":function(e,t,s){"use strict";var i=s("f93f"),a=s.n(i);a.a},"9cab":function(e,t,s){"use strict";var i=s("a853"),a=s.n(i);a.a},a1bc:function(e,t,s){"use strict";t["a"]={serverUrl:"",loginMessage:"",snotifyDefaults:{timeout:5e3,titleMaxLength:30,showProgressBar:!0,closeOnClick:!0,pauseOnHover:!0}}},a36c:function(e,t,s){},a6a9:function(e,t,s){},a769:function(e,t,s){},a853:function(e,t,s){},a986:function(e,t,s){"use strict";var i=s("4ab7"),a=s.n(i);a.a},b285:function(e,t,s){"use strict";var i=s("82eb"),a=s.n(i);a.a},b52e:function(e,t,s){},bfcb:function(e,t,s){},cb37:function(e,t,s){},cbd9:function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.showCollectionSelector||e.showProcessSelector?s("div",{staticClass:"discovery-toolbar"},[e.showCollectionSelector?s("div",{staticClass:"collections-toolbar"},[s("span",[e._v("Collections:")]),s("select",{ref:"collection",attrs:{id:"collection"}},e._l(e.collections,function(t){return s("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.id))])}),0),s("button",{attrs:{type:"button",id:"insertCollection",title:"Insert into script"},on:{click:e.insertCollection}},[s("i",{staticClass:"fas fa-plus"})]),s("button",{directives:[{name:"show",rawName:"v-show",value:e.supports("describeCollection"),expression:"supports('describeCollection')"}],attrs:{type:"button",title:"Show details"},on:{click:e.showSelectedCollectionInfo}},[s("i",{staticClass:"fas fa-info"})])]):e._e(),e.showProcessSelector?s("div",{staticClass:"processes-toolbar"},[s("span",[e._v("Processes:")]),s("select",{ref:"process",attrs:{id:"processes"}},e._l(e.processes,function(t){return s("option",{key:t.id,attrs:{title:t.summary?t.summary:""},domProps:{value:t.id}},[e._v(e._s(t.id))])}),0),s("button",{attrs:{type:"button",id:"insertProcesses",title:"Insert into script"},on:{click:e.insertProcess}},[s("i",{staticClass:"fas fa-plus"})]),s("button",{directives:[{name:"show",rawName:"v-show",value:e.supports("listProcesses"),expression:"supports('listProcesses')"}],attrs:{type:"button",title:"Show details"},on:{click:e.showSelectedProcessInfo}},[s("i",{staticClass:"fas fa-info"})])]):e._e()]):e._e()},a=[],o=s("cebc"),r=(s("a1bc"),s("6168")),n=s("8c7c"),l=s("025e"),c={name:"DiscoveryToolbar",mixins:[n["a"]],props:{onAddCollection:{type:Function,required:!0},onAddProcess:{type:Function,required:!0}},computed:Object(o["a"])({},l["a"].mapState("server",["processes","collections"]),{showCollectionSelector:function(){return this.supports("listCollections")&&this.collections.length>0},showProcessSelector:function(){return this.supports("listProcesses")&&this.processes.length>0}}),methods:{showSelectedCollectionInfo:function(){r["a"].$emit("showCollectionInfo",this.$refs.collection.value)},showSelectedProcessInfo:function(){r["a"].$emit("showProcessInfo",this.$refs.process.value)},insertCollection:function(){this.onAddCollection(this.$refs.collection.value)},insertProcess:function(){this.onAddProcess(this.$refs.process.value)}}},u=c,h=(s("95b8"),s("2877")),d=Object(h["a"])(u,i,a,!1,null,"5654444a",null);t["a"]=d.exports},ce23:function(e,t,s){"use strict";var i=s("0750"),a=s.n(i);a.a},cf05:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFkAAAA8CAMAAAA67OZ0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMAUExURRUlWBkoWhoqXBwrXR0tXiAvXyAvYCEwYCQzYiU0YyU0ZCg2ZSk4Zis5aCw6aC48ajA/bDNBbTRCbjZEbzZEcDhFcTpIczxKdD5MdWVCH2VCIGZEIWhFI2lHJGpIJmtJKGxKKW5OLXFRMXNTNHNUNHRVNXZXOHdYOXhZO3laPHpcPkBNd0FOeENQeURQeUdTfEdUfEFadEhUfEpWfktYf0xYf0dgeXxeQH5hQ39jRk1agFBcglJehFVhhlhjiFlkiVxnil1oi15pjFRxj1p4l2FsjmRukGZwkmhyk2hzlGp0lGx2lm54mHB6mXJ8mnV/nXeAnniBn3mCoHuEoX2FoXKi03Sj03Sj1HWk1Him1Xuo1n2p1oBjRoJmSYRnS4VpTodrUIdsUIhtUYpvVIpwVY1zWY10Wo91XJB3XpN6YZV9ZZiBapqDbJuEbZyGcKCKdaGMd6OOeaSPeqSQe6WQfICJpIGKpYOLpoSMp4ePqYmRqouTrI2VrpKZsZSbs5Scs5iftpqgtp6luqmWgquYhayah62biLCfjbGgjrOhkLSikrallbiombusnbytnqCnu6KovaSrvqasv76voL6woYWu14Gs2Iew2Yqx2Iiw2qaswKiuwaqwwq60xbC2x7K3yLK4yLW6yrm+zbzAz77C0KPC4qTD47XO6LjQ6bzT6r7U68Cxo8GzpcO1p8S3qsW4qsa6rci7rsq+ssu/tMvAtM3Ct9DGu9HGvNPJv8HF0sPH1MXJ1srN2czP2s7R3NTKwNXMwtjPx9jQx9nRyNzUzdDT3dHU3t/Y0cPX7MPY7MbZ7cjb7src7szd79PW4NbZ4tja49nb5Nnc5Nve5tze5t/h6NHg8Nbk8t7p9eDZ0uLb1Obg2unk3+Hj6eLk6uTl6+Xm7Ofp7url4Ozn4+3p5ejp7urr8Ors8O3u8u/w8+/w9O/0+vDt6fLv7PTx7vDx9PXy8Pb08vX19vX2+Pf4+fj29fn5+fn6/Pv8/fz7+vz8+/z8/P39/v7+/f7+/gAAAJVn57cAAAEAdFJOU////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////wBT9wclAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGHRFWHRTb2Z0d2FyZQBwYWludC5uZXQgNC4xLjb9TgnoAAAGcUlEQVRYR9WYC1QUVRiAL7iygDw2ZbXZVUJKyWellYYgaakV+ICoJCV7qCkYmmIPHxXYg5TKSnv5SBd72MPUsiQxS8jKNK1jJaFmBEJFoeaz1f/0//+9szsLi9AW5+R3DnPv/Wfmmzv/3Ll7BwHNxdlqfmGh5DuOVD0QF9IysPc933ALYH5Em57gXNS/VcuwhEXHVBBgw7B2geY2g5fJVq3Vai2EXcnnmlu2Td3HoXp9fsgkFMP+5MBsIYKqe6tY250cgwP9VUD0PkDtaqwtz/WXoYACCpH5uILaqbzP7EfbftxDNJt7CeEXHkSx4F0Uq4rAasBFvYKx6EZHkXkY7WfM+zFE5lE3S7YDLMF4cO4vcMTRDmvXkwXNQgQ+dRjg03is9aIY9rhFzhHs09N4h7MxQGYh2uUUOlKo49Mx5JkNp0WIkG+5epj6SRkjs3kHx5yDsO4A+BCLlzkCy4SwYMHma/iuC7HWDUsyn1DIU16i3chOrFN3yDxLhqA6QIhEgCQhYlUErEJggshswZsgBuItYsHZSJNsh1lCmNR+gIuFGIgFmX+UEYDBeMtsS9mpSMBHJ833q2PwBBMWntkYzicqsGc9sFAHSmZgZgDM6DGAd0nmpeqYXG/mZKMZn3V3LBo3PyPN2HXGYE4bKdnGFn4MRD8hrsSCsrFXRgDwEVo5GwlL3OBzbsDsZgMeoN4q2I9jWn+CM2UIqnCQDQG4TogIpwpJGjU7zxGidTVXT+CjcY0601cccw7A+hIABxb6cFlRS9uGsnGjZJt8UyIc2J8tcVhLoQPJLMw5v4KzCPMjrDg4gV72ZHqt9w4XsTQJNNpngBT2WFtREcsDEM3mHtgK4QklYAvF9oVh1a/7pfSSs7EJZuOMJEc2moMqe6pYeBHHYK8+RYlQFjaUjRskmA2kcvZlwX7mbqlqVmMzHJ8fG+QfFJsjpz/CcW1rk19IfK6M1FoslhVcA1hsseD4qd/nerDZB5rXrL8pXvjCZX5VRZrEKGU+M//TbKg3xQufAxQkJo7Ag15RkSbRtGz4SvOazzA2fETPxtGSVXlTszKzsvNWlRyly/0nkDlK07QuWR1vG98nUrOnP7zZc+r1FTJHale8dxqK4djqYryGpl3wSDmsVPflG3o2prx1GtcX2RmbDy1gs6bZM8vosv8KMs8tByjve1f77GwlRuzTDsoDfIbMSElMelmMTVkl538Au9XN/WP0bJRtgtLMyXCHUrqY8xdf1UfInL8W3i4vmah8Bu48JA/yCTJPXnOhZvdMheKWg/C6mgqIlZCKK3ADcnGJVOUOsgYHRQzMqQT40p2NjI5KVJ8xdd6cIfLHT0d9F1SPcP14+iVVyRibI1FBf96YiAPSgFfzxnDVZIILOcjmrvnrxuZ3Vaq6PA7fqwc+cuRKMocVuOGf1w3UYf8hi4s2Lh2Kq2Dh79itZ8MJa09OftMWo1ye2EvobB00t1ZVnUpam8SrdXA13VQAf3GQGd+TQ6trOuelK5kno41jz4sZl9Qi0T3VTMdmHFXIHN0h42QFlG6u+eyPaUpnZAG8qBYkr3kx70JTd9f6FeAULdFovSOfYHQxwDG67jplM9LJ/RHoxYwraqGemeQjDNDPmzRrHdbA7X2e+KEig1Vd2KhjW8NnMGi27Nf5iSLYxXDe5QJX17S8V2abFo0Oe1QkvTDpNaOxaC+1nTRtLGy9ieGx4cafPPg1NoBKN7i6xu8C3awzZx5t+5Q9Nu/Jn58l99TfozV7DZ9B1DcH8teWEVzO6itGgzmqYjwV0bYOewDeHadp82BuR+0dPoPwMLegSFP7rGWWqxbO2bBJ0z7B6VubAqP4TZFjw+mCPI3l2YWt+FEuM/igMdp6gD3aGG4QZFZVxUzsvL6+ZWhsJGNZ16z1reiM23FyJlqvrcXt+GhuEPXNPJ4N47LOeDYyYZNNm6Qfeutq3GTbncZsyD0uKPVJp1QD4F5s9qNKfbO2IGuuUzeXfoybCTZXn7yYK+lfEQk4LxO1idgwueaNOubzSuHufNqnM8numjrQHKrmOYIVPNeZhi7b8bUjla7it/y3NzDsxaxFxWjv0yk6q9obx4aR+3h/UahqMoEF0KAZV0wey6RijydoRJqhOon/h8MMpv/HEGS+/JK6XPW8kYVXq8pWSDR5MENK8FP6wfgwkyk0bhZ+oW9LS3sOQ2RuHs4+M8DfKQaa4/sLxwQAAAAASUVORK5CYII="},d1fe:function(e,t,s){"use strict";var i=s("6c05"),a=s.n(i);a.a},e0b0:function(e,t,s){"use strict";var i=s("a769"),a=s.n(i);a.a},e4da:function(e,t,s){"use strict";var i=s("75ae"),a=s.n(i);a.a},e6ae:function(e,t,s){"use strict";var i=s("cb37"),a=s.n(i);a.a},f196:function(e,t,s){"use strict";var i=s("1887"),a=s.n(i);a.a},f93f:function(e,t,s){},fff5:function(e,t,s){"use strict";var i=s("4371"),a=s.n(i);a.a}});
//# sourceMappingURL=app.64254469.js.map