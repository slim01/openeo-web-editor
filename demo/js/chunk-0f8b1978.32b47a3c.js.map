{"version":3,"sources":["webpack:///./node_modules/ol/layer/VectorRenderType.js","webpack:///./node_modules/ol/layer/VectorTileRenderType.js","webpack:///./node_modules/ol/layer/Layer.js","webpack:///./node_modules/ol/pointer/EventSource.js","webpack:///./node_modules/ol/proj/Projection.js","webpack:///./node_modules/ol/proj/epsg3857.js","webpack:///./node_modules/ol/proj/epsg4326.js","webpack:///./node_modules/ol/proj/projections.js","webpack:///./node_modules/ol/proj/transforms.js","webpack:///./node_modules/ol/proj.js","webpack:///./node_modules/ol/interaction/Select.js","webpack:///./node_modules/ol/obj.js","webpack:///./node_modules/ol/interaction/DoubleClickZoom.js","webpack:///./node_modules/ol/interaction/DragPan.js","webpack:///./node_modules/ol/interaction/DragRotate.js","webpack:///./node_modules/ol/interaction/DragBox.js","webpack:///./node_modules/ol/interaction/DragZoom.js","webpack:///./node_modules/ol/interaction/KeyboardPan.js","webpack:///./node_modules/ol/interaction/KeyboardZoom.js","webpack:///./node_modules/ol/interaction/MouseWheelZoom.js","webpack:///./node_modules/ol/interaction/PinchRotate.js","webpack:///./node_modules/ol/interaction/PinchZoom.js","webpack:///./node_modules/ol/interaction.js","webpack:///./node_modules/ol/layer/Vector.js","webpack:///./node_modules/ol/interaction/Pointer.js","webpack:///./node_modules/ol/interaction/Interaction.js","webpack:///./node_modules/ol/layer/Heatmap.js","webpack:///./node_modules/ol/layer/Tile.js","webpack:///./node_modules/ol/layer/Base.js","webpack:///./node_modules/ol/pointer/MouseSource.js","webpack:///./node_modules/ol/has.js","webpack:///./node_modules/ol/loadingstrategy.js","webpack:///./node_modules/ol/math.js","webpack:///./node_modules/ol/layer/VectorTile.js","webpack:///./node_modules/ol/layer/Group.js","webpack:///./node_modules/ol/layer/TileProperty.js","webpack:///./node_modules/ol/interaction/Draw.js","webpack:///./node_modules/ol/pointer/MsSource.js","webpack:///./node_modules/ol/pointer/NativeSource.js","webpack:///./node_modules/ol/pointer/PointerEvent.js","webpack:///./node_modules/ol/pointer/TouchSource.js","webpack:///./node_modules/ol/pointer/PointerEventHandler.js","webpack:///./node_modules/ol/interaction/Snap.js","webpack:///./node_modules/ol/interaction/Property.js","webpack:///./node_modules/ol/layer/Image.js","webpack:///./node_modules/ol/pointer/EventType.js","webpack:///./node_modules/ol/layer/Property.js","webpack:///./node_modules/ol/net.js","webpack:///./node_modules/ol/proj/Units.js"],"names":["__webpack_exports__","IMAGE","VECTOR","HYBRID","__webpack_require__","d","visibleAtResolution","_events_js__WEBPACK_IMPORTED_MODULE_0__","_events_EventType_js__WEBPACK_IMPORTED_MODULE_1__","_util_js__WEBPACK_IMPORTED_MODULE_2__","_Object_js__WEBPACK_IMPORTED_MODULE_3__","_Base_js__WEBPACK_IMPORTED_MODULE_4__","_Property_js__WEBPACK_IMPORTED_MODULE_5__","_obj_js__WEBPACK_IMPORTED_MODULE_6__","_render_EventType_js__WEBPACK_IMPORTED_MODULE_7__","_source_State_js__WEBPACK_IMPORTED_MODULE_8__","Layer","BaseLayer","options","baseOptions","Object","source","call","this","mapPrecomposeKey_","mapRenderKey_","sourceChangeKey_","map","setMap","SOURCE","handleSourcePropertyChange_","setSource","__proto__","prototype","create","constructor","getLayersArray","opt_array","array","push","getLayerStatesArray","opt_states","states","getLayerState","getSource","get","getSourceState","getState","UNDEFINED","handleSourceChange_","changed","CHANGE","PRECOMPOSE","evt","renderEvent","layerState","managed","undefined","getZIndex","zIndex","Infinity","frameState","layerStatesArray","layerStates","render","set","resolution","visible","minResolution","maxResolution","EventSource","dispatcher","mapping","mapping_","getEvents","keys","getHandlerForEvent","eventType","Projection_Projection","code_","code","units_","extent_","extent","worldExtent_","worldExtent","axisOrientation_","axisOrientation","global_","global","canWrapX_","getPointResolutionFunc_","getPointResolution","defaultTileGrid_","metersPerUnit_","metersPerUnit","canWrapX","getCode","getExtent","getUnits","getMetersPerUnit","Units","getWorldExtent","getAxisOrientation","isGlobal","setGlobal","getDefaultTileGrid","setDefaultTileGrid","tileGrid","setExtent","setWorldExtent","setGetPointResolution","func","getPointResolutionFunc","proj_Projection","RADIUS","HALF_SIZE","Math","PI","EXTENT","WORLD_EXTENT","epsg3857_EPSG3857Projection","Projection","EPSG3857Projection","units","METERS","point","math","PROJECTIONS","fromEPSG4326","input","opt_output","opt_dimension","length","dimension","output","slice","Array","halfSize","i","y","log","tan","epsg3857_toEPSG4326","atan","exp","epsg4326_RADIUS","epsg4326_EXTENT","METERS_PER_UNIT","epsg4326_EPSG4326Projection","EPSG4326Projection","opt_axisOrientation","DEGREES","epsg4326_PROJECTIONS","cache","add","projection","transforms","transforms_add","destination","transformFn","sourceCode","destinationCode","transforms_get","transform","cloneTransform","ii","identityTransform","addProjection","addProjections","projections","forEach","proj_get","projectionLike","opt_units","pointResolution","getter","toEPSG4326","getTransformFromProjections","vertices","width","sphere","height","addEquivalentProjections","addEquivalentTransforms","projections1","projections2","forwardTransform","inverseTransform","projection1","projection2","createProjection","defaultCode","fromLonLat","coordinate","opt_projection","proj_transform","toLonLat","lonLat","lon","equivalent","equalUnits","transformFunc","sourceProjection","destinationProjection","getTransform","transformExtent","ol_extent","addCommon","_util_js__WEBPACK_IMPORTED_MODULE_0__","_CollectionEventType_js__WEBPACK_IMPORTED_MODULE_1__","_array_js__WEBPACK_IMPORTED_MODULE_2__","_events_js__WEBPACK_IMPORTED_MODULE_3__","_events_Event_js__WEBPACK_IMPORTED_MODULE_4__","_events_condition_js__WEBPACK_IMPORTED_MODULE_5__","_functions_js__WEBPACK_IMPORTED_MODULE_6__","_geom_GeometryType_js__WEBPACK_IMPORTED_MODULE_7__","_Interaction_js__WEBPACK_IMPORTED_MODULE_8__","_layer_Vector_js__WEBPACK_IMPORTED_MODULE_9__","_obj_js__WEBPACK_IMPORTED_MODULE_10__","_source_Vector_js__WEBPACK_IMPORTED_MODULE_11__","_style_Style_js__WEBPACK_IMPORTED_MODULE_12__","SelectEventType","SELECT","SelectEvent","Event","type","selected","deselected","mapBrowserEvent","Select","Interaction","opt_options","handleEvent","condition_","condition","addCondition_","addCondition","removeCondition_","removeCondition","toggleCondition_","toggleCondition","multi_","multi","filter_","filter","hitTolerance_","hitTolerance","layerFilter","featureOverlay","useSpatialIndex","features","wrapX","style","getDefaultStyleFunction","updateWhileAnimating","updateWhileInteracting","featureOverlay_","layers","layer","layerFilter_","featureLayerAssociation_","getFeatures","ADD","addFeature_","REMOVE","removeFeature_","addFeatureLayerAssociation_","feature","getFeaturesCollection","getHitTolerance","getLayer","getOverlay","setHitTolerance","currentMap","getMap","selectedFeatures","unskipFeature","bind","skipFeature","removeFeatureLayerAssociation_","remove","toggle","forEachFeatureAtPixel","pixel","getLength","item","index","indexOf","splice","extend","getArray","j","dispatchEvent","styles","POLYGON","LINE_STRING","GEOMETRY_COLLECTION","getGeometry","getType","assign","clear","getValues","isEmpty","target","var_sources","arguments$1","arguments","TypeError","key","hasOwnProperty","object","property","values","DoubleClickZoom","DoubleClickZoom_handleEvent","delta_","delta","duration_","duration","interaction_Interaction","stopEvent","MapBrowserEventType","DBLCLICK","browserEvent","anchor","shiftKey","view","getView","preventDefault","interaction_DoubleClickZoom","DragPan_DragPan","PointerInteraction","DragPan","stopDown","functions","kinetic_","kinetic","lastCentroid","lastPointersCount_","panning_","events_condition","noKinetic_","handleDragEvent","setHint","ViewHint","INTERACTING","targetPointers","centroid","Pointer","update","deltaX","deltaY","center","getResolution","getRotation","getCenter","constrainCenter","setCenter","begin","handleUpEvent","end","distance","getDistance","angle","getAngle","centerpx","getPixelFromCoordinate","dest","getCoordinateFromPixel","cos","sin","animate","easing","handleDownEvent","getAnimating","viewState","interaction_DragPan","DragRotate_DragRotate","DragRotate","lastAngle_","getConstraints","rotation","rotationconstraint","size","getSize","offset","theta","atan2","interaction_DragRotate","DragBoxEventType","BOXSTART","BOXDRAG","BOXEND","DragBoxEvent","DragBox_DragBox","DragBox","box_","Box","className","minArea_","minArea","onBoxEnd_","onBoxEnd","startPixel_","boxEndCondition_","boxEndCondition","defaultBoxEndCondition","startPixel","endPixel","setPixels","interaction_DragBox","DragZoom_DragZoom","DragZoom","out_","out","mapExtent","calculateExtent","boxPixelExtent","factor","getResolutionForExtent","constrainResolution","interaction_DragZoom","KeyboardPan_KeyboardPan","KeyboardPan","KeyboardPan_handleEvent","defaultCondition_","pixelDelta_","pixelDelta","EventType","KEYDOWN","keyEvent","keyCode","KeyCode","DOWN","LEFT","RIGHT","UP","mapUnitsDelta","interaction_KeyboardPan","KeyboardZoom_KeyboardZoom","KeyboardZoom","KeyboardZoom_handleEvent","KEYPRESS","charCode","charCodeAt","interaction_KeyboardZoom","MAX_DELTA","Mode","TRACKPAD","WHEEL","MouseWheelZoom_MouseWheelZoom","MouseWheelZoom","timeout_","timeout","useAnchor_","useAnchor","constrainResolution_","lastAnchor_","startTime_","timeoutId_","mode_","trackpadEventGap_","trackpadTimeoutId_","trackpadDeltaPerZoom_","trackpadZoomBuffer_","decrementInteractingHint_","MOUSEWHEEL","wheelEvent","has","deltaMode","WheelEvent","DOM_DELTA_PIXEL","DOM_DELTA_LINE","wheelDeltaY","now","Date","abs","clearTimeout","setTimeout","pow","getMinResolution","getMaxResolution","rebound","max","min","calculateCenterZoom","setResolution","timeLeft","handleWheelZoom_","cancelAnimations","maxDelta","setMouseAnchor","interaction_MouseWheelZoom","PinchRotate_PinchRotate","PinchRotate","pointerOptions","anchor_","rotating_","rotationDelta_","threshold_","threshold","rotationDelta","touch0","touch1","clientY","clientX","viewportPosition","getViewport","getBoundingClientRect","left","top","handlingDownUpSequence","interaction_PinchRotate","PinchZoom_PinchZoom","PinchZoom","lastDistance_","lastScaleDelta_","scaleDelta","dx","dy","sqrt","newResolution","direction","interaction_PinchZoom","defaults","interactions","Collection","Kinetic","altShiftDragRotate","doubleClickZoom","zoomDelta","zoomDuration","dragPan","onFocusOnly","pinchRotate","pinchZoom","keyboard","mouseWheelZoom","shiftDragZoom","_LayerType_js__WEBPACK_IMPORTED_MODULE_0__","_Layer_js__WEBPACK_IMPORTED_MODULE_1__","_VectorRenderType_js__WEBPACK_IMPORTED_MODULE_2__","_obj_js__WEBPACK_IMPORTED_MODULE_3__","_style_Style_js__WEBPACK_IMPORTED_MODULE_4__","Property","RENDER_ORDER","VectorLayer","renderBuffer","declutter_","declutter","renderBuffer_","style_","styleFunction_","setStyle","updateWhileAnimating_","updateWhileInteracting_","renderMode_","renderMode","getDeclutter","setDeclutter","getRenderBuffer","getRenderOrder","getStyle","getStyleFunction","getUpdateWhileAnimating","getUpdateWhileInteracting","setRenderOrder","renderOrder","getRenderMode","_MapBrowserEventType_js__WEBPACK_IMPORTED_MODULE_0__","_Interaction_js__WEBPACK_IMPORTED_MODULE_1__","_obj_js__WEBPACK_IMPORTED_MODULE_2__","handleMoveEvent","trackedPointers_","updateTrackedPointers_","POINTERDRAG","POINTERUP","handledUp","POINTERDOWN","handled","POINTERMOVE","isPointerDraggingEvent","event","pointerEvent","id","pointerId","toString","pointerEvents","pan","rotate","rotateWithoutConstraints","zoom","zoomByDelta","zoomWithoutConstraints","_Object_js__WEBPACK_IMPORTED_MODULE_0__","_easing_js__WEBPACK_IMPORTED_MODULE_1__","_Property_js__WEBPACK_IMPORTED_MODULE_2__","_math_js__WEBPACK_IMPORTED_MODULE_3__","BaseObject","map_","setActive","getActive","ACTIVE","active","opt_duration","currentCenter","opt_anchor","constrainRotation","currentRotation","opt_direction","currentResolution","resolutions","getResolutions","_Object_js__WEBPACK_IMPORTED_MODULE_1__","_dom_js__WEBPACK_IMPORTED_MODULE_2__","_Vector_js__WEBPACK_IMPORTED_MODULE_3__","_math_js__WEBPACK_IMPORTED_MODULE_4__","_obj_js__WEBPACK_IMPORTED_MODULE_5__","_render_EventType_js__WEBPACK_IMPORTED_MODULE_6__","_style_Icon_js__WEBPACK_IMPORTED_MODULE_7__","_style_Style_js__WEBPACK_IMPORTED_MODULE_8__","BLUR","GRADIENT","DEFAULT_GRADIENT","Heatmap","gradient","radius","blur","shadow","weight","gradient_","shadow_","circleImage_","styleCache_","handleGradientChanged_","setGradient","setBlur","setRadius","handleStyleChanged_","weightFunction","opacity","image","src","RENDER","handleRender_","createCircle_","getRadius","getBlur","context","shadowOffsetX","shadowOffsetY","shadowBlur","shadowColor","beginPath","arc","fill","canvas","toDataURL","getGradient","createGradient","getImageData","view8","data","alpha","putImageData","colors","createLinearGradient","step","addColorStop","fillStyle","fillRect","_TileProperty_js__WEBPACK_IMPORTED_MODULE_2__","TileLayer","preload","useInterimTilesOnError","setPreload","setUseInterimTilesOnError","TILE","getPreload","PRELOAD","getUseInterimTilesOnError","USE_INTERIM_TILES_ON_ERROR","_obj_js__WEBPACK_IMPORTED_MODULE_4__","properties","OPACITY","VISIBLE","Z_INDEX","MAX_RESOLUTION","MIN_RESOLUTION","setProperties","state_","state","getOpacity","sourceState","getVisible","setMaxResolution","setMinResolution","setOpacity","setVisible","setZIndex","zindex","POINTER_ID","POINTER_TYPE","prepareEvent","_EventSource_js__WEBPACK_IMPORTED_MODULE_0__","DEDUP_DIST","mousedown","inEvent","isEventSimulatedFromTouch_","pointerMap","cancel","e","down","mousemove","move","mouseup","p","button","up","cleanupMouse","mouseover","enterOver","mouseout","leaveOut","MouseSource","lastTouches","lts","x","l","t","cloneEvent","pd","isPrimary","pointerType","FIREFOX","SAFARI","WEBKIT","MAC","DEVICE_PIXEL_RATIO","CANVAS_LINE_DASH","TOUCH","POINTER","MSPOINTER","ua","navigator","userAgent","toLowerCase","window","devicePixelRatio","document","createElement","getContext","setLineDash","all","clamp","cosh","squaredSegmentDistance","squaredDistance","solveLinearSystem","toDegrees","toRadians","modulo","lerp","value","x1","y1","x2","y2","mat","n","maxRow","maxEl","r","absValue","tmp","coef","k","m","angleInRadians","angleInDegrees","a","b","_asserts_js__WEBPACK_IMPORTED_MODULE_1__","_VectorTileRenderType_js__WEBPACK_IMPORTED_MODULE_4__","VectorTileLayer","VECTOR_TILE","_Collection_js__WEBPACK_IMPORTED_MODULE_1__","_CollectionEventType_js__WEBPACK_IMPORTED_MODULE_2__","_ObjectEventType_js__WEBPACK_IMPORTED_MODULE_4__","_asserts_js__WEBPACK_IMPORTED_MODULE_5__","_events_js__WEBPACK_IMPORTED_MODULE_6__","_events_EventType_js__WEBPACK_IMPORTED_MODULE_7__","_extent_js__WEBPACK_IMPORTED_MODULE_8__","_Base_js__WEBPACK_IMPORTED_MODULE_9__","_source_State_js__WEBPACK_IMPORTED_MODULE_11__","LAYERS","LayerGroup","layersListenerKeys_","listenerKeys_","handleLayersChanged_","isArray","unique","setLayers","handleLayerChange_","getLayers","handleLayersAdd_","handleLayersRemove_","layersArray","PROPERTYCHANGE","collectionEvent","pos","ownLayerState","READY","_events_EventType_js__WEBPACK_IMPORTED_MODULE_0__","_Feature_js__WEBPACK_IMPORTED_MODULE_1__","_MapBrowserEventType_js__WEBPACK_IMPORTED_MODULE_2__","_MapBrowserPointerEvent_js__WEBPACK_IMPORTED_MODULE_3__","_Object_js__WEBPACK_IMPORTED_MODULE_4__","_coordinate_js__WEBPACK_IMPORTED_MODULE_5__","_events_Event_js__WEBPACK_IMPORTED_MODULE_7__","_events_condition_js__WEBPACK_IMPORTED_MODULE_8__","_functions_js__WEBPACK_IMPORTED_MODULE_10__","_geom_Circle_js__WEBPACK_IMPORTED_MODULE_11__","_geom_GeometryType_js__WEBPACK_IMPORTED_MODULE_12__","_geom_LineString_js__WEBPACK_IMPORTED_MODULE_13__","_geom_MultiLineString_js__WEBPACK_IMPORTED_MODULE_14__","_geom_MultiPoint_js__WEBPACK_IMPORTED_MODULE_15__","_geom_MultiPolygon_js__WEBPACK_IMPORTED_MODULE_16__","_pointer_MouseSource_js__WEBPACK_IMPORTED_MODULE_17__","_geom_Point_js__WEBPACK_IMPORTED_MODULE_18__","_geom_Polygon_js__WEBPACK_IMPORTED_MODULE_19__","_Pointer_js__WEBPACK_IMPORTED_MODULE_20__","_Property_js__WEBPACK_IMPORTED_MODULE_21__","_layer_Vector_js__WEBPACK_IMPORTED_MODULE_22__","_source_Vector_js__WEBPACK_IMPORTED_MODULE_23__","_style_Style_js__WEBPACK_IMPORTED_MODULE_24__","POINT","CIRCLE","DrawEventType","DRAWSTART","DRAWEND","DrawEvent","Draw","shouldHandle_","downPx_","downTimeout_","lastDragTime_","freehand_","source_","features_","snapTolerance_","snapTolerance","type_","getMode","stopClick_","stopClick","minPoints_","minPoints","maxPoints_","maxPoints","finishCondition_","finishCondition","geometryFunction","coordinates","opt_geometry","circle","NaN","squaredLength","setCenterAndRadius","Constructor","mode","geometry","setCoordinates","concat","geometryFunction_","dragVertexDelay_","dragVertexDelay","finishCoordinate_","sketchFeature_","sketchPoint_","sketchCoords_","sketchLine_","sketchLineCoords_","squaredClickTolerance_","clickTolerance","overlay_","geometryName_","geometryName","freehandCondition_","freehand","freehandCondition","updateState_","originalEvent","CONTEXTMENU","pass","addToDrawing_","handlePointerMove_","startDrawing_","circleMode","finishDrawing","atFinish_","abortDrawing_","stopPropagation","downPx","clickPx","modifyDrawing_","createOrUpdateSketchPoint_","at","potentiallyDone","potentiallyFinishCoordinates","sketchCoords","finishCoordinate","finishPixel","sketchPointGeom","updateSketchFeatures_","start","setGeometryName","setGeometry","last","sketchLineGeom","ring","getLinearRing","setFlatCoordinates","getLayout","getFlatCoordinates","done","pop","removeLastPoint","sketchFeature","getCoordinates","MULTI_POINT","MULTI_LINE_STRING","MULTI_POLYGON","addFeature","lineString","sketchFeatures","overlaySource","addFeatures","POINTER_TYPES","msPointerDown","prepareEvent_","msPointerMove","msPointerUp","cleanup","msPointerOut","msPointerOver","msPointerCancel","msLostPointerCapture","makeEvent","msGotPointerCapture","MsSource","MSPointerDown","MSPointerMove","MSPointerUp","MSPointerOut","MSPointerOver","MSPointerCancel","MSGotPointerCapture","MSLostPointerCapture","pointer_EventSource","pointer_MsSource","pointerDown","fireNativeEvent","pointerMove","pointerUp","pointerOut","pointerOver","pointerCancel","lostPointerCapture","gotPointerCapture","NativeSource","pointerdown","pointermove","pointerup","pointerout","pointerover","pointercancel","gotpointercapture","lostpointercapture","pointer_NativeSource","HAS_BUTTONS","PointerEvent","_Event","opt_eventDict","eventDict","buttons","getButtons","pressure","getPressure","bubbles","cancelable","detail","screenX","screenY","ctrlKey","altKey","metaKey","relatedTarget","tiltX","tiltY","hwTimestamp","which","ev","MouseEvent","pointer_PointerEvent","CLICK_COUNT_TIMEOUT","touchstart","vacuumTouches_","setPrimaryTouch_","changedTouches","dedupSynthMouse_","clickCount_","processTouches_","overDown_","touchmove","moveOverOut_","touchend","upOut_","touchcancel","cancelOut_","TouchSource_TouchSource","TouchSource","mouseSource","firstTouchId_","resetId_","dedupTimeout_","isPrimaryTouch_","inTouch","identifier","count","cancelResetClickCount_","removePrimaryPointer_","inPointer","resetClickCount_","resetClickCountHandler_","touchToPointer_","radiusX","radiusY","force","inFunction","touches","pointer","findTouch_","touchList","searchId","touch","Number","i$1","outTarget","over","enter","outEvent","leave","cleanUpPointer_","lt","pointer_TouchSource","CLONE_PROPS","PointerEventHandler_PointerEventHandler","EventTarget","PointerEventHandler","element","element_","eventMap_","eventSourceList_","registerSources","registerSource","register_","name","s","newEvents","handler","eventSource","addEvents_","unregister_","removeEvents_","eventHandler_","events","eventName","ol_events","eventCopy","fireEvent","POINTERENTER","POINTERLEAVE","POINTEROVER","POINTEROUT","POINTERCANCEL","contains_","container","contained","contains","inType","wrapMouseEvent","disposeInternal","Target","_coordinate_js__WEBPACK_IMPORTED_MODULE_2__","_events_EventType_js__WEBPACK_IMPORTED_MODULE_4__","_extent_js__WEBPACK_IMPORTED_MODULE_5__","_geom_Polygon_js__WEBPACK_IMPORTED_MODULE_8__","_Pointer_js__WEBPACK_IMPORTED_MODULE_9__","_source_VectorEventType_js__WEBPACK_IMPORTED_MODULE_11__","_structs_RBush_js__WEBPACK_IMPORTED_MODULE_12__","getFeatureFromEvent","Snap","vertex_","vertex","edge_","edge","featuresListenerKeys_","featureChangeListenerKeys_","indexedFeaturesExtents_","pendingFeatures_","pixelCoordinate_","pixelTolerance_","pixelTolerance","sortByDistance_","sortByDistance","rBush_","SEGMENT_WRITERS_","Point","writePointGeometry_","LineString","writeLineStringGeometry_","LinearRing","Polygon","writePolygonGeometry_","MultiPoint","writeMultiPointGeometry_","MultiLineString","writeMultiLineStringGeometry_","MultiPolygon","writeMultiPolygonGeometry_","GeometryCollection","writeGeometryCollectionGeometry_","Circle","writeCircleGeometry_","opt_listen","register","feature_uid","segmentWriter","handleFeatureChange_","forEachFeatureAdd_","forEachFeatureRemove_","removeFeature","getFeatures_","result","snapTo","snapped","vertexPixel","handleFeatureAdd_","handleFeatureRemove_","uid","updateFeature_","featuresToUpdate","opt_unlisten","unregister","rBush","nodesToRemove","forEachInExtent","node","ADDFEATURE","REMOVEFEATURE","pixelCoordinate","lowerLeft","upperRight","box","segments","getInExtent","segment","dist","pixel1","pixel2","squaredDist1","squaredDist2","snappedToVertex","sort","closestSegment","isCircle","round","polygon","segmentData","insert","geometries","getGeometriesArray","lines","jj","points","polygons","kk","rings","deltaA","deltaB","ImageLayer","jsonp","url","callback","opt_errback","opt_callbackParam","script","parentNode","removeChild","async","timer","getElementsByTagName","appendChild","FEET","PIXELS","TILE_PIXELS","USFEET"],"mappings":"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","file":"js/chunk-0f8b1978.32b47a3c.js","sourcesContent":["/**\n * @module ol/layer/VectorRenderType\n */\n\n/**\n * @enum {string}\n * Render mode for vector layers:\n *  * `'image'`: Vector layers are rendered as images. Great performance, but\n *    point symbols and texts are always rotated with the view and pixels are\n *    scaled during zoom animations.\n *  * `'vector'`: Vector layers are rendered as vectors. Most accurate rendering\n *    even during animations, but slower performance.\n * @api\n */\nexport default {\n  IMAGE: 'image',\n  VECTOR: 'vector'\n};\n\n//# sourceMappingURL=VectorRenderType.js.map","/**\n * @module ol/layer/VectorTileRenderType\n */\n\n/**\n * @enum {string}\n * Render mode for vector tiles:\n *  * `'image'`: Vector tiles are rendered as images. Great performance, but\n *    point symbols and texts are always rotated with the view and pixels are\n *    scaled during zoom animations.\n *  * `'hybrid'`: Polygon and line elements are rendered as images, so pixels\n *    are scaled during zoom animations. Point symbols and texts are accurately\n *    rendered as vectors and can stay upright on rotated views.\n *  * `'vector'`: Vector tiles are rendered as vectors. Most accurate rendering\n *    even during animations, but slower performance than the other options.\n * @api\n */\nexport default {\n  IMAGE: 'image',\n  HYBRID: 'hybrid',\n  VECTOR: 'vector'\n};\n\n//# sourceMappingURL=VectorTileRenderType.js.map","/**\n * @module ol/layer/Layer\n */\nimport {listen, unlistenByKey} from '../events.js';\nimport EventType from '../events/EventType.js';\nimport {getUid} from '../util.js';\nimport {getChangeEventType} from '../Object.js';\nimport BaseLayer from './Base.js';\nimport LayerProperty from './Property.js';\nimport {assign} from '../obj.js';\nimport RenderEventType from '../render/EventType.js';\nimport SourceState from '../source/State.js';\n\n\n/**\n * @typedef {Object} Options\n * @property {number} [opacity=1] Opacity (0, 1).\n * @property {boolean} [visible=true] Visibility.\n * @property {import(\"../extent.js\").Extent} [extent] The bounding extent for layer rendering.  The layer will not be\n * rendered outside of this extent.\n * @property {number} [zIndex] The z-index for layer rendering.  At rendering time, the layers\n * will be ordered, first by Z-index and then by position. When `undefined`, a `zIndex` of 0 is assumed\n * for layers that are added to the map's `layers` collection, or `Infinity` when the layer's `setMap()`\n * method was used.\n * @property {number} [minResolution] The minimum resolution (inclusive) at which this layer will be\n * visible.\n * @property {number} [maxResolution] The maximum resolution (exclusive) below which this layer will\n * be visible.\n * @property {import(\"../source/Source.js\").default} [source] Source for this layer.  If not provided to the constructor,\n * the source can be set by calling {@link module:ol/layer/Layer#setSource layer.setSource(source)} after\n * construction.\n * @property {import(\"../PluggableMap.js\").default} [map] Map.\n */\n\n\n/**\n * @typedef {Object} State\n * @property {import(\"./Base.js\").default} layer\n * @property {number} opacity\n * @property {SourceState} sourceState\n * @property {boolean} visible\n * @property {boolean} managed\n * @property {import(\"../extent.js\").Extent} [extent]\n * @property {number} zIndex\n * @property {number} maxResolution\n * @property {number} minResolution\n */\n\n/**\n * @classdesc\n * Abstract base class; normally only used for creating subclasses and not\n * instantiated in apps.\n * A visual representation of raster or vector map data.\n * Layers group together those properties that pertain to how the data is to be\n * displayed, irrespective of the source of that data.\n *\n * Layers are usually added to a map with {@link module:ol/Map#addLayer}. Components\n * like {@link module:ol/interaction/Select~Select} use unmanaged layers\n * internally. These unmanaged layers are associated with the map using\n * {@link module:ol/layer/Layer~Layer#setMap} instead.\n *\n * A generic `change` event is fired when the state of the source changes.\n *\n * @fires import(\"../render/Event.js\").RenderEvent\n */\nvar Layer = /*@__PURE__*/(function (BaseLayer) {\n  function Layer(options) {\n\n    var baseOptions = assign({}, options);\n    delete baseOptions.source;\n\n    BaseLayer.call(this, baseOptions);\n\n    /**\n     * @private\n     * @type {?import(\"../events.js\").EventsKey}\n     */\n    this.mapPrecomposeKey_ = null;\n\n    /**\n     * @private\n     * @type {?import(\"../events.js\").EventsKey}\n     */\n    this.mapRenderKey_ = null;\n\n    /**\n     * @private\n     * @type {?import(\"../events.js\").EventsKey}\n     */\n    this.sourceChangeKey_ = null;\n\n    if (options.map) {\n      this.setMap(options.map);\n    }\n\n    listen(this,\n      getChangeEventType(LayerProperty.SOURCE),\n      this.handleSourcePropertyChange_, this);\n\n    var source = options.source ? options.source : null;\n    this.setSource(source);\n  }\n\n  if ( BaseLayer ) Layer.__proto__ = BaseLayer;\n  Layer.prototype = Object.create( BaseLayer && BaseLayer.prototype );\n  Layer.prototype.constructor = Layer;\n\n  /**\n   * @inheritDoc\n   */\n  Layer.prototype.getLayersArray = function getLayersArray (opt_array) {\n    var array = opt_array ? opt_array : [];\n    array.push(this);\n    return array;\n  };\n\n  /**\n   * @inheritDoc\n   */\n  Layer.prototype.getLayerStatesArray = function getLayerStatesArray (opt_states) {\n    var states = opt_states ? opt_states : [];\n    states.push(this.getLayerState());\n    return states;\n  };\n\n  /**\n   * Get the layer source.\n   * @return {import(\"../source/Source.js\").default} The layer source (or `null` if not yet set).\n   * @observable\n   * @api\n   */\n  Layer.prototype.getSource = function getSource () {\n    var source = this.get(LayerProperty.SOURCE);\n    return (\n      /** @type {import(\"../source/Source.js\").default} */ (source) || null\n    );\n  };\n\n  /**\n    * @inheritDoc\n    */\n  Layer.prototype.getSourceState = function getSourceState () {\n    var source = this.getSource();\n    return !source ? SourceState.UNDEFINED : source.getState();\n  };\n\n  /**\n   * @private\n   */\n  Layer.prototype.handleSourceChange_ = function handleSourceChange_ () {\n    this.changed();\n  };\n\n  /**\n   * @private\n   */\n  Layer.prototype.handleSourcePropertyChange_ = function handleSourcePropertyChange_ () {\n    if (this.sourceChangeKey_) {\n      unlistenByKey(this.sourceChangeKey_);\n      this.sourceChangeKey_ = null;\n    }\n    var source = this.getSource();\n    if (source) {\n      this.sourceChangeKey_ = listen(source,\n        EventType.CHANGE, this.handleSourceChange_, this);\n    }\n    this.changed();\n  };\n\n  /**\n   * Sets the layer to be rendered on top of other layers on a map. The map will\n   * not manage this layer in its layers collection, and the callback in\n   * {@link module:ol/Map#forEachLayerAtPixel} will receive `null` as layer. This\n   * is useful for temporary layers. To remove an unmanaged layer from the map,\n   * use `#setMap(null)`.\n   *\n   * To add the layer to a map and have it managed by the map, use\n   * {@link module:ol/Map#addLayer} instead.\n   * @param {import(\"../PluggableMap.js\").default} map Map.\n   * @api\n   */\n  Layer.prototype.setMap = function setMap (map) {\n    if (this.mapPrecomposeKey_) {\n      unlistenByKey(this.mapPrecomposeKey_);\n      this.mapPrecomposeKey_ = null;\n    }\n    if (!map) {\n      this.changed();\n    }\n    if (this.mapRenderKey_) {\n      unlistenByKey(this.mapRenderKey_);\n      this.mapRenderKey_ = null;\n    }\n    if (map) {\n      this.mapPrecomposeKey_ = listen(map, RenderEventType.PRECOMPOSE, function(evt) {\n        var renderEvent = /** @type {import(\"../render/Event.js\").default} */ (evt);\n        var layerState = this.getLayerState();\n        layerState.managed = false;\n        if (this.getZIndex() === undefined) {\n          layerState.zIndex = Infinity;\n        }\n        renderEvent.frameState.layerStatesArray.push(layerState);\n        renderEvent.frameState.layerStates[getUid(this)] = layerState;\n      }, this);\n      this.mapRenderKey_ = listen(this, EventType.CHANGE, map.render, map);\n      this.changed();\n    }\n  };\n\n  /**\n   * Set the layer source.\n   * @param {import(\"../source/Source.js\").default} source The layer source.\n   * @observable\n   * @api\n   */\n  Layer.prototype.setSource = function setSource (source) {\n    this.set(LayerProperty.SOURCE, source);\n  };\n\n  return Layer;\n}(BaseLayer));\n\n\n/**\n * Return `true` if the layer is visible, and if the passed resolution is\n * between the layer's minResolution and maxResolution. The comparison is\n * inclusive for `minResolution` and exclusive for `maxResolution`.\n * @param {State} layerState Layer state.\n * @param {number} resolution Resolution.\n * @return {boolean} The layer is visible at the given resolution.\n */\nexport function visibleAtResolution(layerState, resolution) {\n  return layerState.visible && resolution >= layerState.minResolution &&\n      resolution < layerState.maxResolution;\n}\n\n\nexport default Layer;\n\n//# sourceMappingURL=Layer.js.map","/**\n * @module ol/pointer/EventSource\n */\n\nvar EventSource = function EventSource(dispatcher, mapping) {\n\n  /**\n   * @type {import(\"./PointerEventHandler.js\").default}\n   */\n  this.dispatcher = dispatcher;\n\n  /**\n   * @private\n   * @const\n   * @type {!Object<string, function(Event)>}\n   */\n  this.mapping_ = mapping;\n};\n\n/**\n * List of events supported by this source.\n * @return {Array<string>} Event names\n */\nEventSource.prototype.getEvents = function getEvents () {\n  return Object.keys(this.mapping_);\n};\n\n/**\n * Returns the handler that should handle a given event type.\n * @param {string} eventType The event type.\n * @return {function(Event)} Handler\n */\nEventSource.prototype.getHandlerForEvent = function getHandlerForEvent (eventType) {\n  return this.mapping_[eventType];\n};\n\nexport default EventSource;\n\n//# sourceMappingURL=EventSource.js.map","/**\n * @module ol/proj/Projection\n */\nimport {METERS_PER_UNIT} from './Units.js';\n\n\n/**\n * @typedef {Object} Options\n * @property {string} code The SRS identifier code, e.g. `EPSG:4326`.\n * @property {import(\"./Units.js\").default|string} [units] Units. Required unless a\n * proj4 projection is defined for `code`.\n * @property {import(\"../extent.js\").Extent} [extent] The validity extent for the SRS.\n * @property {string} [axisOrientation='enu'] The axis orientation as specified in Proj4.\n * @property {boolean} [global=false] Whether the projection is valid for the whole globe.\n * @property {number} [metersPerUnit] The meters per unit for the SRS.\n * If not provided, the `units` are used to get the meters per unit from the {@link module:ol/proj/Units~METERS_PER_UNIT}\n * lookup table.\n * @property {import(\"../extent.js\").Extent} [worldExtent] The world extent for the SRS.\n * @property {function(number, import(\"../coordinate.js\").Coordinate):number} [getPointResolution]\n * Function to determine resolution at a point. The function is called with a\n * `{number}` view resolution and an `{import(\"../coordinate.js\").Coordinate}` as arguments, and returns\n * the `{number}` resolution at the passed coordinate. If this is `undefined`,\n * the default {@link module:ol/proj#getPointResolution} function will be used.\n */\n\n\n/**\n * @classdesc\n * Projection definition class. One of these is created for each projection\n * supported in the application and stored in the {@link module:ol/proj} namespace.\n * You can use these in applications, but this is not required, as API params\n * and options use {@link module:ol/proj~ProjectionLike} which means the simple string\n * code will suffice.\n *\n * You can use {@link module:ol/proj~get} to retrieve the object for a particular\n * projection.\n *\n * The library includes definitions for `EPSG:4326` and `EPSG:3857`, together\n * with the following aliases:\n * * `EPSG:4326`: CRS:84, urn:ogc:def:crs:EPSG:6.6:4326,\n *     urn:ogc:def:crs:OGC:1.3:CRS84, urn:ogc:def:crs:OGC:2:84,\n *     http://www.opengis.net/gml/srs/epsg.xml#4326,\n *     urn:x-ogc:def:crs:EPSG:4326\n * * `EPSG:3857`: EPSG:102100, EPSG:102113, EPSG:900913,\n *     urn:ogc:def:crs:EPSG:6.18:3:3857,\n *     http://www.opengis.net/gml/srs/epsg.xml#3857\n *\n * If you use [proj4js](https://github.com/proj4js/proj4js), aliases can\n * be added using `proj4.defs()`. After all required projection definitions are\n * added, call the {@link module:ol/proj/proj4~register} function.\n *\n * @api\n */\nvar Projection = function Projection(options) {\n  /**\n   * @private\n   * @type {string}\n   */\n  this.code_ = options.code;\n\n  /**\n   * Units of projected coordinates. When set to `TILE_PIXELS`, a\n   * `this.extent_` and `this.worldExtent_` must be configured properly for each\n   * tile.\n   * @private\n   * @type {import(\"./Units.js\").default}\n   */\n  this.units_ = /** @type {import(\"./Units.js\").default} */ (options.units);\n\n  /**\n   * Validity extent of the projection in projected coordinates. For projections\n   * with `TILE_PIXELS` units, this is the extent of the tile in\n   * tile pixel space.\n   * @private\n   * @type {import(\"../extent.js\").Extent}\n   */\n  this.extent_ = options.extent !== undefined ? options.extent : null;\n\n  /**\n   * Extent of the world in EPSG:4326. For projections with\n   * `TILE_PIXELS` units, this is the extent of the tile in\n   * projected coordinate space.\n   * @private\n   * @type {import(\"../extent.js\").Extent}\n   */\n  this.worldExtent_ = options.worldExtent !== undefined ?\n    options.worldExtent : null;\n\n  /**\n   * @private\n   * @type {string}\n   */\n  this.axisOrientation_ = options.axisOrientation !== undefined ?\n    options.axisOrientation : 'enu';\n\n  /**\n   * @private\n   * @type {boolean}\n   */\n  this.global_ = options.global !== undefined ? options.global : false;\n\n  /**\n   * @private\n   * @type {boolean}\n   */\n  this.canWrapX_ = !!(this.global_ && this.extent_);\n\n  /**\n   * @private\n   * @type {function(number, import(\"../coordinate.js\").Coordinate):number|undefined}\n   */\n  this.getPointResolutionFunc_ = options.getPointResolution;\n\n  /**\n   * @private\n   * @type {import(\"../tilegrid/TileGrid.js\").default}\n   */\n  this.defaultTileGrid_ = null;\n\n  /**\n   * @private\n   * @type {number|undefined}\n   */\n  this.metersPerUnit_ = options.metersPerUnit;\n};\n\n/**\n * @return {boolean} The projection is suitable for wrapping the x-axis\n */\nProjection.prototype.canWrapX = function canWrapX () {\n  return this.canWrapX_;\n};\n\n/**\n * Get the code for this projection, e.g. 'EPSG:4326'.\n * @return {string} Code.\n * @api\n */\nProjection.prototype.getCode = function getCode () {\n  return this.code_;\n};\n\n/**\n * Get the validity extent for this projection.\n * @return {import(\"../extent.js\").Extent} Extent.\n * @api\n */\nProjection.prototype.getExtent = function getExtent () {\n  return this.extent_;\n};\n\n/**\n * Get the units of this projection.\n * @return {import(\"./Units.js\").default} Units.\n * @api\n */\nProjection.prototype.getUnits = function getUnits () {\n  return this.units_;\n};\n\n/**\n * Get the amount of meters per unit of this projection.If the projection is\n * not configured with `metersPerUnit` or a units identifier, the return is\n * `undefined`.\n * @return {number|undefined} Meters.\n * @api\n */\nProjection.prototype.getMetersPerUnit = function getMetersPerUnit () {\n  return this.metersPerUnit_ || METERS_PER_UNIT[this.units_];\n};\n\n/**\n * Get the world extent for this projection.\n * @return {import(\"../extent.js\").Extent} Extent.\n * @api\n */\nProjection.prototype.getWorldExtent = function getWorldExtent () {\n  return this.worldExtent_;\n};\n\n/**\n * Get the axis orientation of this projection.\n * Example values are:\n * enu - the default easting, northing, elevation.\n * neu - northing, easting, up - useful for \"lat/long\" geographic coordinates,\n *   or south orientated transverse mercator.\n * wnu - westing, northing, up - some planetary coordinate systems have\n *   \"west positive\" coordinate systems\n * @return {string} Axis orientation.\n * @api\n */\nProjection.prototype.getAxisOrientation = function getAxisOrientation () {\n  return this.axisOrientation_;\n};\n\n/**\n * Is this projection a global projection which spans the whole world?\n * @return {boolean} Whether the projection is global.\n * @api\n */\nProjection.prototype.isGlobal = function isGlobal () {\n  return this.global_;\n};\n\n/**\n * Set if the projection is a global projection which spans the whole world\n * @param {boolean} global Whether the projection is global.\n * @api\n */\nProjection.prototype.setGlobal = function setGlobal (global) {\n  this.global_ = global;\n  this.canWrapX_ = !!(global && this.extent_);\n};\n\n/**\n * @return {import(\"../tilegrid/TileGrid.js\").default} The default tile grid.\n */\nProjection.prototype.getDefaultTileGrid = function getDefaultTileGrid () {\n  return this.defaultTileGrid_;\n};\n\n/**\n * @param {import(\"../tilegrid/TileGrid.js\").default} tileGrid The default tile grid.\n */\nProjection.prototype.setDefaultTileGrid = function setDefaultTileGrid (tileGrid) {\n  this.defaultTileGrid_ = tileGrid;\n};\n\n/**\n * Set the validity extent for this projection.\n * @param {import(\"../extent.js\").Extent} extent Extent.\n * @api\n */\nProjection.prototype.setExtent = function setExtent (extent) {\n  this.extent_ = extent;\n  this.canWrapX_ = !!(this.global_ && extent);\n};\n\n/**\n * Set the world extent for this projection.\n * @param {import(\"../extent.js\").Extent} worldExtent World extent\n *   [minlon, minlat, maxlon, maxlat].\n * @api\n */\nProjection.prototype.setWorldExtent = function setWorldExtent (worldExtent) {\n  this.worldExtent_ = worldExtent;\n};\n\n/**\n * Set the getPointResolution function (see {@link module:ol/proj~getPointResolution}\n * for this projection.\n * @param {function(number, import(\"../coordinate.js\").Coordinate):number} func Function\n * @api\n */\nProjection.prototype.setGetPointResolution = function setGetPointResolution (func) {\n  this.getPointResolutionFunc_ = func;\n};\n\n/**\n * Get the custom point resolution function for this projection (if set).\n * @return {function(number, import(\"../coordinate.js\").Coordinate):number|undefined} The custom point\n * resolution function (if set).\n */\nProjection.prototype.getPointResolutionFunc = function getPointResolutionFunc () {\n  return this.getPointResolutionFunc_;\n};\n\nexport default Projection;\n\n//# sourceMappingURL=Projection.js.map","/**\n * @module ol/proj/epsg3857\n */\nimport {cosh} from '../math.js';\nimport Projection from './Projection.js';\nimport Units from './Units.js';\n\n\n/**\n * Radius of WGS84 sphere\n *\n * @const\n * @type {number}\n */\nexport var RADIUS = 6378137;\n\n\n/**\n * @const\n * @type {number}\n */\nexport var HALF_SIZE = Math.PI * RADIUS;\n\n\n/**\n * @const\n * @type {import(\"../extent.js\").Extent}\n */\nexport var EXTENT = [\n  -HALF_SIZE, -HALF_SIZE,\n  HALF_SIZE, HALF_SIZE\n];\n\n\n/**\n * @const\n * @type {import(\"../extent.js\").Extent}\n */\nexport var WORLD_EXTENT = [-180, -85, 180, 85];\n\n\n/**\n * @classdesc\n * Projection object for web/spherical Mercator (EPSG:3857).\n */\nvar EPSG3857Projection = /*@__PURE__*/(function (Projection) {\n  function EPSG3857Projection(code) {\n    Projection.call(this, {\n      code: code,\n      units: Units.METERS,\n      extent: EXTENT,\n      global: true,\n      worldExtent: WORLD_EXTENT,\n      getPointResolution: function(resolution, point) {\n        return resolution / cosh(point[1] / RADIUS);\n      }\n    });\n\n  }\n\n  if ( Projection ) EPSG3857Projection.__proto__ = Projection;\n  EPSG3857Projection.prototype = Object.create( Projection && Projection.prototype );\n  EPSG3857Projection.prototype.constructor = EPSG3857Projection;\n\n  return EPSG3857Projection;\n}(Projection));\n\n\n/**\n * Projections equal to EPSG:3857.\n *\n * @const\n * @type {Array<import(\"./Projection.js\").default>}\n */\nexport var PROJECTIONS = [\n  new EPSG3857Projection('EPSG:3857'),\n  new EPSG3857Projection('EPSG:102100'),\n  new EPSG3857Projection('EPSG:102113'),\n  new EPSG3857Projection('EPSG:900913'),\n  new EPSG3857Projection('urn:ogc:def:crs:EPSG:6.18:3:3857'),\n  new EPSG3857Projection('urn:ogc:def:crs:EPSG::3857'),\n  new EPSG3857Projection('http://www.opengis.net/gml/srs/epsg.xml#3857')\n];\n\n\n/**\n * Transformation from EPSG:4326 to EPSG:3857.\n *\n * @param {Array<number>} input Input array of coordinate values.\n * @param {Array<number>=} opt_output Output array of coordinate values.\n * @param {number=} opt_dimension Dimension (default is `2`).\n * @return {Array<number>} Output array of coordinate values.\n */\nexport function fromEPSG4326(input, opt_output, opt_dimension) {\n  var length = input.length;\n  var dimension = opt_dimension > 1 ? opt_dimension : 2;\n  var output = opt_output;\n  if (output === undefined) {\n    if (dimension > 2) {\n      // preserve values beyond second dimension\n      output = input.slice();\n    } else {\n      output = new Array(length);\n    }\n  }\n  var halfSize = HALF_SIZE;\n  for (var i = 0; i < length; i += dimension) {\n    output[i] = halfSize * input[i] / 180;\n    var y = RADIUS *\n        Math.log(Math.tan(Math.PI * (input[i + 1] + 90) / 360));\n    if (y > halfSize) {\n      y = halfSize;\n    } else if (y < -halfSize) {\n      y = -halfSize;\n    }\n    output[i + 1] = y;\n  }\n  return output;\n}\n\n\n/**\n * Transformation from EPSG:3857 to EPSG:4326.\n *\n * @param {Array<number>} input Input array of coordinate values.\n * @param {Array<number>=} opt_output Output array of coordinate values.\n * @param {number=} opt_dimension Dimension (default is `2`).\n * @return {Array<number>} Output array of coordinate values.\n */\nexport function toEPSG4326(input, opt_output, opt_dimension) {\n  var length = input.length;\n  var dimension = opt_dimension > 1 ? opt_dimension : 2;\n  var output = opt_output;\n  if (output === undefined) {\n    if (dimension > 2) {\n      // preserve values beyond second dimension\n      output = input.slice();\n    } else {\n      output = new Array(length);\n    }\n  }\n  for (var i = 0; i < length; i += dimension) {\n    output[i] = 180 * input[i] / HALF_SIZE;\n    output[i + 1] = 360 * Math.atan(\n      Math.exp(input[i + 1] / RADIUS)) / Math.PI - 90;\n  }\n  return output;\n}\n\n//# sourceMappingURL=epsg3857.js.map","/**\n * @module ol/proj/epsg4326\n */\nimport Projection from './Projection.js';\nimport Units from './Units.js';\n\n\n/**\n * Semi-major radius of the WGS84 ellipsoid.\n *\n * @const\n * @type {number}\n */\nexport var RADIUS = 6378137;\n\n\n/**\n * Extent of the EPSG:4326 projection which is the whole world.\n *\n * @const\n * @type {import(\"../extent.js\").Extent}\n */\nexport var EXTENT = [-180, -90, 180, 90];\n\n\n/**\n * @const\n * @type {number}\n */\nexport var METERS_PER_UNIT = Math.PI * RADIUS / 180;\n\n\n/**\n * @classdesc\n * Projection object for WGS84 geographic coordinates (EPSG:4326).\n *\n * Note that OpenLayers does not strictly comply with the EPSG definition.\n * The EPSG registry defines 4326 as a CRS for Latitude,Longitude (y,x).\n * OpenLayers treats EPSG:4326 as a pseudo-projection, with x,y coordinates.\n */\nvar EPSG4326Projection = /*@__PURE__*/(function (Projection) {\n  function EPSG4326Projection(code, opt_axisOrientation) {\n    Projection.call(this, {\n      code: code,\n      units: Units.DEGREES,\n      extent: EXTENT,\n      axisOrientation: opt_axisOrientation,\n      global: true,\n      metersPerUnit: METERS_PER_UNIT,\n      worldExtent: EXTENT\n    });\n\n  }\n\n  if ( Projection ) EPSG4326Projection.__proto__ = Projection;\n  EPSG4326Projection.prototype = Object.create( Projection && Projection.prototype );\n  EPSG4326Projection.prototype.constructor = EPSG4326Projection;\n\n  return EPSG4326Projection;\n}(Projection));\n\n\n/**\n * Projections equal to EPSG:4326.\n *\n * @const\n * @type {Array<import(\"./Projection.js\").default>}\n */\nexport var PROJECTIONS = [\n  new EPSG4326Projection('CRS:84'),\n  new EPSG4326Projection('EPSG:4326', 'neu'),\n  new EPSG4326Projection('urn:ogc:def:crs:EPSG::4326', 'neu'),\n  new EPSG4326Projection('urn:ogc:def:crs:EPSG:6.6:4326', 'neu'),\n  new EPSG4326Projection('urn:ogc:def:crs:OGC:1.3:CRS84'),\n  new EPSG4326Projection('urn:ogc:def:crs:OGC:2:84'),\n  new EPSG4326Projection('http://www.opengis.net/gml/srs/epsg.xml#4326', 'neu'),\n  new EPSG4326Projection('urn:x-ogc:def:crs:EPSG:4326', 'neu')\n];\n\n//# sourceMappingURL=epsg4326.js.map","/**\n * @module ol/proj/projections\n */\n\n\n/**\n * @type {Object<string, import(\"./Projection.js\").default>}\n */\nvar cache = {};\n\n\n/**\n * Clear the projections cache.\n */\nexport function clear() {\n  cache = {};\n}\n\n\n/**\n * Get a cached projection by code.\n * @param {string} code The code for the projection.\n * @return {import(\"./Projection.js\").default} The projection (if cached).\n */\nexport function get(code) {\n  return cache[code] || null;\n}\n\n\n/**\n * Add a projection to the cache.\n * @param {string} code The projection code.\n * @param {import(\"./Projection.js\").default} projection The projection to cache.\n */\nexport function add(code, projection) {\n  cache[code] = projection;\n}\n\n//# sourceMappingURL=projections.js.map","/**\n * @module ol/proj/transforms\n */\nimport {isEmpty} from '../obj.js';\n\n\n/**\n * @private\n * @type {!Object<string, Object<string, import(\"../proj.js\").TransformFunction>>}\n */\nvar transforms = {};\n\n\n/**\n * Clear the transform cache.\n */\nexport function clear() {\n  transforms = {};\n}\n\n\n/**\n * Registers a conversion function to convert coordinates from the source\n * projection to the destination projection.\n *\n * @param {import(\"./Projection.js\").default} source Source.\n * @param {import(\"./Projection.js\").default} destination Destination.\n * @param {import(\"../proj.js\").TransformFunction} transformFn Transform.\n */\nexport function add(source, destination, transformFn) {\n  var sourceCode = source.getCode();\n  var destinationCode = destination.getCode();\n  if (!(sourceCode in transforms)) {\n    transforms[sourceCode] = {};\n  }\n  transforms[sourceCode][destinationCode] = transformFn;\n}\n\n\n/**\n * Unregisters the conversion function to convert coordinates from the source\n * projection to the destination projection.  This method is used to clean up\n * cached transforms during testing.\n *\n * @param {import(\"./Projection.js\").default} source Source projection.\n * @param {import(\"./Projection.js\").default} destination Destination projection.\n * @return {import(\"../proj.js\").TransformFunction} transformFn The unregistered transform.\n */\nexport function remove(source, destination) {\n  var sourceCode = source.getCode();\n  var destinationCode = destination.getCode();\n  var transform = transforms[sourceCode][destinationCode];\n  delete transforms[sourceCode][destinationCode];\n  if (isEmpty(transforms[sourceCode])) {\n    delete transforms[sourceCode];\n  }\n  return transform;\n}\n\n\n/**\n * Get a transform given a source code and a destination code.\n * @param {string} sourceCode The code for the source projection.\n * @param {string} destinationCode The code for the destination projection.\n * @return {import(\"../proj.js\").TransformFunction|undefined} The transform function (if found).\n */\nexport function get(sourceCode, destinationCode) {\n  var transform;\n  if (sourceCode in transforms && destinationCode in transforms[sourceCode]) {\n    transform = transforms[sourceCode][destinationCode];\n  }\n  return transform;\n}\n\n//# sourceMappingURL=transforms.js.map","/**\n * @module ol/proj\n */\n\n/**\n * The ol/proj module stores:\n * * a list of {@link module:ol/proj/Projection}\n * objects, one for each projection supported by the application\n * * a list of transform functions needed to convert coordinates in one projection\n * into another.\n *\n * The static functions are the methods used to maintain these.\n * Each transform function can handle not only simple coordinate pairs, but also\n * large arrays of coordinates such as vector geometries.\n *\n * When loaded, the library adds projection objects for EPSG:4326 (WGS84\n * geographic coordinates) and EPSG:3857 (Web or Spherical Mercator, as used\n * for example by Bing Maps or OpenStreetMap), together with the relevant\n * transform functions.\n *\n * Additional transforms may be added by using the http://proj4js.org/\n * library (version 2.2 or later). You can use the full build supplied by\n * Proj4js, or create a custom build to support those projections you need; see\n * the Proj4js website for how to do this. You also need the Proj4js definitions\n * for the required projections. These definitions can be obtained from\n * https://epsg.io/, and are a JS function, so can be loaded in a script\n * tag (as in the examples) or pasted into your application.\n *\n * After all required projection definitions are added to proj4's registry (by\n * using `proj4.defs()`), simply call `register(proj4)` from the `ol/proj/proj4`\n * package. Existing transforms are not changed by this function. See\n * examples/wms-image-custom-proj for an example of this.\n *\n * Additional projection definitions can be registered with `proj4.defs()` any\n * time. Just make sure to call `register(proj4)` again; for example, with user-supplied data where you don't\n * know in advance what projections are needed, you can initially load minimal\n * support and then load whichever are requested.\n *\n * Note that Proj4js does not support projection extents. If you want to add\n * one for creating default tile grids, you can add it after the Projection\n * object has been created with `setExtent`, for example,\n * `get('EPSG:1234').setExtent(extent)`.\n *\n * In addition to Proj4js support, any transform functions can be added with\n * {@link module:ol/proj~addCoordinateTransforms}. To use this, you must first create\n * a {@link module:ol/proj/Projection} object for the new projection and add it with\n * {@link module:ol/proj~addProjection}. You can then add the forward and inverse\n * functions with {@link module:ol/proj~addCoordinateTransforms}. See\n * examples/wms-custom-proj for an example of this.\n *\n * Note that if no transforms are needed and you only need to define the\n * projection, just add a {@link module:ol/proj/Projection} with\n * {@link module:ol/proj~addProjection}. See examples/wms-no-proj for an example of\n * this.\n */\nimport {getDistance} from './sphere.js';\nimport {applyTransform} from './extent.js';\nimport {modulo} from './math.js';\nimport {toEPSG4326, fromEPSG4326, PROJECTIONS as EPSG3857_PROJECTIONS} from './proj/epsg3857.js';\nimport {PROJECTIONS as EPSG4326_PROJECTIONS} from './proj/epsg4326.js';\nimport Projection from './proj/Projection.js';\nimport Units, {METERS_PER_UNIT} from './proj/Units.js';\nimport * as projections from './proj/projections.js';\nimport {add as addTransformFunc, clear as clearTransformFuncs, get as getTransformFunc} from './proj/transforms.js';\n\n\n/**\n * A projection as {@link module:ol/proj/Projection}, SRS identifier\n * string or undefined.\n * @typedef {Projection|string|undefined} ProjectionLike\n * @api\n */\n\n\n/**\n * A transform function accepts an array of input coordinate values, an optional\n * output array, and an optional dimension (default should be 2).  The function\n * transforms the input coordinate values, populates the output array, and\n * returns the output array.\n *\n * @typedef {function(Array<number>, Array<number>=, number=): Array<number>} TransformFunction\n * @api\n */\n\n\nexport {METERS_PER_UNIT};\n\nexport {Projection};\n\n/**\n * @param {Array<number>} input Input coordinate array.\n * @param {Array<number>=} opt_output Output array of coordinate values.\n * @param {number=} opt_dimension Dimension.\n * @return {Array<number>} Output coordinate array (new array, same coordinate\n *     values).\n */\nexport function cloneTransform(input, opt_output, opt_dimension) {\n  var output;\n  if (opt_output !== undefined) {\n    for (var i = 0, ii = input.length; i < ii; ++i) {\n      opt_output[i] = input[i];\n    }\n    output = opt_output;\n  } else {\n    output = input.slice();\n  }\n  return output;\n}\n\n\n/**\n * @param {Array<number>} input Input coordinate array.\n * @param {Array<number>=} opt_output Output array of coordinate values.\n * @param {number=} opt_dimension Dimension.\n * @return {Array<number>} Input coordinate array (same array as input).\n */\nexport function identityTransform(input, opt_output, opt_dimension) {\n  if (opt_output !== undefined && input !== opt_output) {\n    for (var i = 0, ii = input.length; i < ii; ++i) {\n      opt_output[i] = input[i];\n    }\n    input = opt_output;\n  }\n  return input;\n}\n\n\n/**\n * Add a Projection object to the list of supported projections that can be\n * looked up by their code.\n *\n * @param {Projection} projection Projection instance.\n * @api\n */\nexport function addProjection(projection) {\n  projections.add(projection.getCode(), projection);\n  addTransformFunc(projection, projection, cloneTransform);\n}\n\n\n/**\n * @param {Array<Projection>} projections Projections.\n */\nexport function addProjections(projections) {\n  projections.forEach(addProjection);\n}\n\n\n/**\n * Fetches a Projection object for the code specified.\n *\n * @param {ProjectionLike} projectionLike Either a code string which is\n *     a combination of authority and identifier such as \"EPSG:4326\", or an\n *     existing projection object, or undefined.\n * @return {Projection} Projection object, or null if not in list.\n * @api\n */\nexport function get(projectionLike) {\n  return typeof projectionLike === 'string' ?\n    projections.get(/** @type {string} */ (projectionLike)) :\n    (/** @type {Projection} */ (projectionLike) || null);\n}\n\n\n/**\n * Get the resolution of the point in degrees or distance units.\n * For projections with degrees as the unit this will simply return the\n * provided resolution. For other projections the point resolution is\n * by default estimated by transforming the 'point' pixel to EPSG:4326,\n * measuring its width and height on the normal sphere,\n * and taking the average of the width and height.\n * A custom function can be provided for a specific projection, either\n * by setting the `getPointResolution` option in the\n * {@link module:ol/proj/Projection~Projection} constructor or by using\n * {@link module:ol/proj/Projection~Projection#setGetPointResolution} to change an existing\n * projection object.\n * @param {ProjectionLike} projection The projection.\n * @param {number} resolution Nominal resolution in projection units.\n * @param {import(\"./coordinate.js\").Coordinate} point Point to find adjusted resolution at.\n * @param {Units=} opt_units Units to get the point resolution in.\n * Default is the projection's units.\n * @return {number} Point resolution.\n * @api\n */\nexport function getPointResolution(projection, resolution, point, opt_units) {\n  projection = get(projection);\n  var pointResolution;\n  var getter = projection.getPointResolutionFunc();\n  if (getter) {\n    pointResolution = getter(resolution, point);\n  } else {\n    var units = projection.getUnits();\n    if (units == Units.DEGREES && !opt_units || opt_units == Units.DEGREES) {\n      pointResolution = resolution;\n    } else {\n      // Estimate point resolution by transforming the center pixel to EPSG:4326,\n      // measuring its width and height on the normal sphere, and taking the\n      // average of the width and height.\n      var toEPSG4326 = getTransformFromProjections(projection, get('EPSG:4326'));\n      var vertices = [\n        point[0] - resolution / 2, point[1],\n        point[0] + resolution / 2, point[1],\n        point[0], point[1] - resolution / 2,\n        point[0], point[1] + resolution / 2\n      ];\n      vertices = toEPSG4326(vertices, vertices, 2);\n      var width = getDistance(vertices.slice(0, 2), vertices.slice(2, 4));\n      var height = getDistance(vertices.slice(4, 6), vertices.slice(6, 8));\n      pointResolution = (width + height) / 2;\n      var metersPerUnit = opt_units ?\n        METERS_PER_UNIT[opt_units] :\n        projection.getMetersPerUnit();\n      if (metersPerUnit !== undefined) {\n        pointResolution /= metersPerUnit;\n      }\n    }\n  }\n  return pointResolution;\n}\n\n\n/**\n * Registers transformation functions that don't alter coordinates. Those allow\n * to transform between projections with equal meaning.\n *\n * @param {Array<Projection>} projections Projections.\n * @api\n */\nexport function addEquivalentProjections(projections) {\n  addProjections(projections);\n  projections.forEach(function(source) {\n    projections.forEach(function(destination) {\n      if (source !== destination) {\n        addTransformFunc(source, destination, cloneTransform);\n      }\n    });\n  });\n}\n\n\n/**\n * Registers transformation functions to convert coordinates in any projection\n * in projection1 to any projection in projection2.\n *\n * @param {Array<Projection>} projections1 Projections with equal\n *     meaning.\n * @param {Array<Projection>} projections2 Projections with equal\n *     meaning.\n * @param {TransformFunction} forwardTransform Transformation from any\n *   projection in projection1 to any projection in projection2.\n * @param {TransformFunction} inverseTransform Transform from any projection\n *   in projection2 to any projection in projection1..\n */\nexport function addEquivalentTransforms(projections1, projections2, forwardTransform, inverseTransform) {\n  projections1.forEach(function(projection1) {\n    projections2.forEach(function(projection2) {\n      addTransformFunc(projection1, projection2, forwardTransform);\n      addTransformFunc(projection2, projection1, inverseTransform);\n    });\n  });\n}\n\n\n/**\n * Clear all cached projections and transforms.\n */\nexport function clearAllProjections() {\n  projections.clear();\n  clearTransformFuncs();\n}\n\n\n/**\n * @param {Projection|string|undefined} projection Projection.\n * @param {string} defaultCode Default code.\n * @return {Projection} Projection.\n */\nexport function createProjection(projection, defaultCode) {\n  if (!projection) {\n    return get(defaultCode);\n  } else if (typeof projection === 'string') {\n    return get(projection);\n  } else {\n    return (\n      /** @type {Projection} */ (projection)\n    );\n  }\n}\n\n\n/**\n * Creates a {@link module:ol/proj~TransformFunction} from a simple 2D coordinate transform\n * function.\n * @param {function(import(\"./coordinate.js\").Coordinate): import(\"./coordinate.js\").Coordinate} coordTransform Coordinate\n *     transform.\n * @return {TransformFunction} Transform function.\n */\nexport function createTransformFromCoordinateTransform(coordTransform) {\n  return (\n    /**\n     * @param {Array<number>} input Input.\n     * @param {Array<number>=} opt_output Output.\n     * @param {number=} opt_dimension Dimension.\n     * @return {Array<number>} Output.\n     */\n    function(input, opt_output, opt_dimension) {\n      var length = input.length;\n      var dimension = opt_dimension !== undefined ? opt_dimension : 2;\n      var output = opt_output !== undefined ? opt_output : new Array(length);\n      for (var i = 0; i < length; i += dimension) {\n        var point = coordTransform([input[i], input[i + 1]]);\n        output[i] = point[0];\n        output[i + 1] = point[1];\n        for (var j = dimension - 1; j >= 2; --j) {\n          output[i + j] = input[i + j];\n        }\n      }\n      return output;\n    });\n}\n\n\n/**\n * Registers coordinate transform functions to convert coordinates between the\n * source projection and the destination projection.\n * The forward and inverse functions convert coordinate pairs; this function\n * converts these into the functions used internally which also handle\n * extents and coordinate arrays.\n *\n * @param {ProjectionLike} source Source projection.\n * @param {ProjectionLike} destination Destination projection.\n * @param {function(import(\"./coordinate.js\").Coordinate): import(\"./coordinate.js\").Coordinate} forward The forward transform\n *     function (that is, from the source projection to the destination\n *     projection) that takes a {@link module:ol/coordinate~Coordinate} as argument and returns\n *     the transformed {@link module:ol/coordinate~Coordinate}.\n * @param {function(import(\"./coordinate.js\").Coordinate): import(\"./coordinate.js\").Coordinate} inverse The inverse transform\n *     function (that is, from the destination projection to the source\n *     projection) that takes a {@link module:ol/coordinate~Coordinate} as argument and returns\n *     the transformed {@link module:ol/coordinate~Coordinate}.\n * @api\n */\nexport function addCoordinateTransforms(source, destination, forward, inverse) {\n  var sourceProj = get(source);\n  var destProj = get(destination);\n  addTransformFunc(sourceProj, destProj, createTransformFromCoordinateTransform(forward));\n  addTransformFunc(destProj, sourceProj, createTransformFromCoordinateTransform(inverse));\n}\n\n\n/**\n * Transforms a coordinate from longitude/latitude to a different projection.\n * @param {import(\"./coordinate.js\").Coordinate} coordinate Coordinate as longitude and latitude, i.e.\n *     an array with longitude as 1st and latitude as 2nd element.\n * @param {ProjectionLike=} opt_projection Target projection. The\n *     default is Web Mercator, i.e. 'EPSG:3857'.\n * @return {import(\"./coordinate.js\").Coordinate} Coordinate projected to the target projection.\n * @api\n */\nexport function fromLonLat(coordinate, opt_projection) {\n  return transform(coordinate, 'EPSG:4326',\n    opt_projection !== undefined ? opt_projection : 'EPSG:3857');\n}\n\n\n/**\n * Transforms a coordinate to longitude/latitude.\n * @param {import(\"./coordinate.js\").Coordinate} coordinate Projected coordinate.\n * @param {ProjectionLike=} opt_projection Projection of the coordinate.\n *     The default is Web Mercator, i.e. 'EPSG:3857'.\n * @return {import(\"./coordinate.js\").Coordinate} Coordinate as longitude and latitude, i.e. an array\n *     with longitude as 1st and latitude as 2nd element.\n * @api\n */\nexport function toLonLat(coordinate, opt_projection) {\n  var lonLat = transform(coordinate,\n    opt_projection !== undefined ? opt_projection : 'EPSG:3857', 'EPSG:4326');\n  var lon = lonLat[0];\n  if (lon < -180 || lon > 180) {\n    lonLat[0] = modulo(lon + 180, 360) - 180;\n  }\n  return lonLat;\n}\n\n\n/**\n * Checks if two projections are the same, that is every coordinate in one\n * projection does represent the same geographic point as the same coordinate in\n * the other projection.\n *\n * @param {Projection} projection1 Projection 1.\n * @param {Projection} projection2 Projection 2.\n * @return {boolean} Equivalent.\n * @api\n */\nexport function equivalent(projection1, projection2) {\n  if (projection1 === projection2) {\n    return true;\n  }\n  var equalUnits = projection1.getUnits() === projection2.getUnits();\n  if (projection1.getCode() === projection2.getCode()) {\n    return equalUnits;\n  } else {\n    var transformFunc = getTransformFromProjections(projection1, projection2);\n    return transformFunc === cloneTransform && equalUnits;\n  }\n}\n\n\n/**\n * Searches in the list of transform functions for the function for converting\n * coordinates from the source projection to the destination projection.\n *\n * @param {Projection} sourceProjection Source Projection object.\n * @param {Projection} destinationProjection Destination Projection\n *     object.\n * @return {TransformFunction} Transform function.\n */\nexport function getTransformFromProjections(sourceProjection, destinationProjection) {\n  var sourceCode = sourceProjection.getCode();\n  var destinationCode = destinationProjection.getCode();\n  var transformFunc = getTransformFunc(sourceCode, destinationCode);\n  if (!transformFunc) {\n    transformFunc = identityTransform;\n  }\n  return transformFunc;\n}\n\n\n/**\n * Given the projection-like objects, searches for a transformation\n * function to convert a coordinates array from the source projection to the\n * destination projection.\n *\n * @param {ProjectionLike} source Source.\n * @param {ProjectionLike} destination Destination.\n * @return {TransformFunction} Transform function.\n * @api\n */\nexport function getTransform(source, destination) {\n  var sourceProjection = get(source);\n  var destinationProjection = get(destination);\n  return getTransformFromProjections(sourceProjection, destinationProjection);\n}\n\n\n/**\n * Transforms a coordinate from source projection to destination projection.\n * This returns a new coordinate (and does not modify the original).\n *\n * See {@link module:ol/proj~transformExtent} for extent transformation.\n * See the transform method of {@link module:ol/geom/Geometry~Geometry} and its\n * subclasses for geometry transforms.\n *\n * @param {import(\"./coordinate.js\").Coordinate} coordinate Coordinate.\n * @param {ProjectionLike} source Source projection-like.\n * @param {ProjectionLike} destination Destination projection-like.\n * @return {import(\"./coordinate.js\").Coordinate} Coordinate.\n * @api\n */\nexport function transform(coordinate, source, destination) {\n  var transformFunc = getTransform(source, destination);\n  return transformFunc(coordinate, undefined, coordinate.length);\n}\n\n\n/**\n * Transforms an extent from source projection to destination projection.  This\n * returns a new extent (and does not modify the original).\n *\n * @param {import(\"./extent.js\").Extent} extent The extent to transform.\n * @param {ProjectionLike} source Source projection-like.\n * @param {ProjectionLike} destination Destination projection-like.\n * @return {import(\"./extent.js\").Extent} The transformed extent.\n * @api\n */\nexport function transformExtent(extent, source, destination) {\n  var transformFunc = getTransform(source, destination);\n  return applyTransform(extent, transformFunc);\n}\n\n\n/**\n * Transforms the given point to the destination projection.\n *\n * @param {import(\"./coordinate.js\").Coordinate} point Point.\n * @param {Projection} sourceProjection Source projection.\n * @param {Projection} destinationProjection Destination projection.\n * @return {import(\"./coordinate.js\").Coordinate} Point.\n */\nexport function transformWithProjections(point, sourceProjection, destinationProjection) {\n  var transformFunc = getTransformFromProjections(sourceProjection, destinationProjection);\n  return transformFunc(point);\n}\n\n/**\n * Add transforms to and from EPSG:4326 and EPSG:3857.  This function is called\n * by when this module is executed and should only need to be called again after\n * `clearAllProjections()` is called (e.g. in tests).\n */\nexport function addCommon() {\n  // Add transformations that don't alter coordinates to convert within set of\n  // projections with equal meaning.\n  addEquivalentProjections(EPSG3857_PROJECTIONS);\n  addEquivalentProjections(EPSG4326_PROJECTIONS);\n  // Add transformations to convert EPSG:4326 like coordinates to EPSG:3857 like\n  // coordinates and back.\n  addEquivalentTransforms(EPSG4326_PROJECTIONS, EPSG3857_PROJECTIONS, fromEPSG4326, toEPSG4326);\n}\n\naddCommon();\n\n//# sourceMappingURL=proj.js.map","/**\n * @module ol/interaction/Select\n */\nimport {getUid} from '../util.js';\nimport CollectionEventType from '../CollectionEventType.js';\nimport {extend, includes} from '../array.js';\nimport {listen} from '../events.js';\nimport Event from '../events/Event.js';\nimport {singleClick, never, shiftKeyOnly, pointerMove} from '../events/condition.js';\nimport {TRUE} from '../functions.js';\nimport GeometryType from '../geom/GeometryType.js';\nimport Interaction from './Interaction.js';\nimport VectorLayer from '../layer/Vector.js';\nimport {clear} from '../obj.js';\nimport VectorSource from '../source/Vector.js';\nimport {createEditingStyle} from '../style/Style.js';\n\n\n/**\n * @enum {string}\n */\nvar SelectEventType = {\n  /**\n   * Triggered when feature(s) has been (de)selected.\n   * @event SelectEvent#select\n   * @api\n   */\n  SELECT: 'select'\n};\n\n\n/**\n * A function that takes an {@link module:ol/Feature} or\n * {@link module:ol/render/Feature} and an\n * {@link module:ol/layer/Layer} and returns `true` if the feature may be\n * selected or `false` otherwise.\n * @typedef {function(import(\"../Feature.js\").FeatureLike, import(\"../layer/Layer.js\").default):boolean} FilterFunction\n */\n\n\n/**\n * @typedef {Object} Options\n * @property {import(\"../events/condition.js\").Condition} [addCondition] A function\n * that takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a\n * boolean to indicate whether that event should be handled.\n * By default, this is {@link module:ol/events/condition~never}. Use this if you\n * want to use different events for add and remove instead of `toggle`.\n * @property {import(\"../events/condition.js\").Condition} [condition] A function that\n * takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a\n * boolean to indicate whether that event should be handled. This is the event\n * for the selected features as a whole. By default, this is\n * {@link module:ol/events/condition~singleClick}. Clicking on a feature selects that\n * feature and removes any that were in the selection. Clicking outside any\n * feature removes all from the selection.\n * See `toggle`, `add`, `remove` options for adding/removing extra features to/\n * from the selection.\n * @property {Array<import(\"../layer/Layer.js\").default>|function(import(\"../layer/Layer.js\").default): boolean} [layers]\n * A list of layers from which features should be selected. Alternatively, a\n * filter function can be provided. The function will be called for each layer\n * in the map and should return `true` for layers that you want to be\n * selectable. If the option is absent, all visible layers will be considered\n * selectable.\n * @property {import(\"../style/Style.js\").StyleLike} [style]\n * Style for the selected features. By default the default edit style is used\n * (see {@link module:ol/style}).\n * @property {import(\"../events/condition.js\").Condition} [removeCondition] A function\n * that takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a\n * boolean to indicate whether that event should be handled.\n * By default, this is {@link module:ol/events/condition~never}. Use this if you\n * want to use different events for add and remove instead of `toggle`.\n * @property {import(\"../events/condition.js\").Condition} [toggleCondition] A function\n * that takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a\n * boolean to indicate whether that event should be handled. This is in addition\n * to the `condition` event. By default,\n * {@link module:ol/events/condition~shiftKeyOnly}, i.e. pressing `shift` as\n * well as the `condition` event, adds that feature to the current selection if\n * it is not currently selected, and removes it if it is. See `add` and `remove`\n * if you want to use different events instead of a toggle.\n * @property {boolean} [multi=false] A boolean that determines if the default\n * behaviour should select only single features or all (overlapping) features at\n * the clicked map position. The default of `false` means single select.\n * @property {import(\"../Collection.js\").default<import(\"../Feature.js\").default>} [features]\n * Collection where the interaction will place selected features. Optional. If\n * not set the interaction will create a collection. In any case the collection\n * used by the interaction is returned by\n * {@link module:ol/interaction/Select~Select#getFeatures}.\n * @property {FilterFunction} [filter] A function\n * that takes an {@link module:ol/Feature} and an\n * {@link module:ol/layer/Layer} and returns `true` if the feature may be\n * selected or `false` otherwise.\n * @property {boolean} [wrapX=true] Wrap the world horizontally on the selection\n * overlay.\n * @property {number} [hitTolerance=0] Hit-detection tolerance. Pixels inside\n * the radius around the given position will be checked for features. This only\n * works for the canvas renderer and not for WebGL.\n */\n\n\n/**\n * @classdesc\n * Events emitted by {@link module:ol/interaction/Select~Select} instances are instances of\n * this type.\n */\nvar SelectEvent = /*@__PURE__*/(function (Event) {\n  function SelectEvent(type, selected, deselected, mapBrowserEvent) {\n    Event.call(this, type);\n\n    /**\n     * Selected features array.\n     * @type {Array<import(\"../Feature.js\").default>}\n     * @api\n     */\n    this.selected = selected;\n\n    /**\n     * Deselected features array.\n     * @type {Array<import(\"../Feature.js\").default>}\n     * @api\n     */\n    this.deselected = deselected;\n\n    /**\n     * Associated {@link module:ol/MapBrowserEvent}.\n     * @type {import(\"../MapBrowserEvent.js\").default}\n     * @api\n     */\n    this.mapBrowserEvent = mapBrowserEvent;\n\n  }\n\n  if ( Event ) SelectEvent.__proto__ = Event;\n  SelectEvent.prototype = Object.create( Event && Event.prototype );\n  SelectEvent.prototype.constructor = SelectEvent;\n\n  return SelectEvent;\n}(Event));\n\n\n/**\n * @classdesc\n * Interaction for selecting vector features. By default, selected features are\n * styled differently, so this interaction can be used for visual highlighting,\n * as well as selecting features for other actions, such as modification or\n * output. There are three ways of controlling which features are selected:\n * using the browser event as defined by the `condition` and optionally the\n * `toggle`, `add`/`remove`, and `multi` options; a `layers` filter; and a\n * further feature filter using the `filter` option.\n *\n * Selected features are added to an internal unmanaged layer.\n *\n * @fires SelectEvent\n * @api\n */\nvar Select = /*@__PURE__*/(function (Interaction) {\n  function Select(opt_options) {\n\n    Interaction.call(this, {\n      handleEvent: handleEvent\n    });\n\n    var options = opt_options ? opt_options : {};\n\n    /**\n     * @private\n     * @type {import(\"../events/condition.js\").Condition}\n     */\n    this.condition_ = options.condition ? options.condition : singleClick;\n\n    /**\n     * @private\n     * @type {import(\"../events/condition.js\").Condition}\n     */\n    this.addCondition_ = options.addCondition ? options.addCondition : never;\n\n    /**\n     * @private\n     * @type {import(\"../events/condition.js\").Condition}\n     */\n    this.removeCondition_ = options.removeCondition ? options.removeCondition : never;\n\n    /**\n     * @private\n     * @type {import(\"../events/condition.js\").Condition}\n     */\n    this.toggleCondition_ = options.toggleCondition ? options.toggleCondition : shiftKeyOnly;\n\n    /**\n     * @private\n     * @type {boolean}\n     */\n    this.multi_ = options.multi ? options.multi : false;\n\n    /**\n     * @private\n     * @type {FilterFunction}\n     */\n    this.filter_ = options.filter ? options.filter : TRUE;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.hitTolerance_ = options.hitTolerance ? options.hitTolerance : 0;\n\n    var featureOverlay = new VectorLayer({\n      source: new VectorSource({\n        useSpatialIndex: false,\n        features: options.features,\n        wrapX: options.wrapX\n      }),\n      style: options.style ? options.style :\n        getDefaultStyleFunction(),\n      updateWhileAnimating: true,\n      updateWhileInteracting: true\n    });\n\n    /**\n     * @private\n     * @type {VectorLayer}\n     */\n    this.featureOverlay_ = featureOverlay;\n\n    /** @type {function(import(\"../layer/Layer.js\").default): boolean} */\n    var layerFilter;\n    if (options.layers) {\n      if (typeof options.layers === 'function') {\n        layerFilter = options.layers;\n      } else {\n        var layers = options.layers;\n        layerFilter = function(layer) {\n          return includes(layers, layer);\n        };\n      }\n    } else {\n      layerFilter = TRUE;\n    }\n\n    /**\n     * @private\n     * @type {function(import(\"../layer/Layer.js\").default): boolean}\n     */\n    this.layerFilter_ = layerFilter;\n\n    /**\n     * An association between selected feature (key)\n     * and layer (value)\n     * @private\n     * @type {Object<string, import(\"../layer/Layer.js\").default>}\n     */\n    this.featureLayerAssociation_ = {};\n\n    var features = this.getFeatures();\n    listen(features, CollectionEventType.ADD,\n      this.addFeature_, this);\n    listen(features, CollectionEventType.REMOVE,\n      this.removeFeature_, this);\n  }\n\n  if ( Interaction ) Select.__proto__ = Interaction;\n  Select.prototype = Object.create( Interaction && Interaction.prototype );\n  Select.prototype.constructor = Select;\n\n  /**\n   * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n   * @param {import(\"../layer/Layer.js\").default} layer Layer.\n   * @private\n   */\n  Select.prototype.addFeatureLayerAssociation_ = function addFeatureLayerAssociation_ (feature, layer) {\n    this.featureLayerAssociation_[getUid(feature)] = layer;\n  };\n\n  /**\n   * Get the selected features.\n   * @return {import(\"../Collection.js\").default<import(\"../Feature.js\").default>} Features collection.\n   * @api\n   */\n  Select.prototype.getFeatures = function getFeatures () {\n    return /** @type {VectorSource} */ (this.featureOverlay_.getSource()).getFeaturesCollection();\n  };\n\n  /**\n   * Returns the Hit-detection tolerance.\n   * @returns {number} Hit tolerance in pixels.\n   * @api\n   */\n  Select.prototype.getHitTolerance = function getHitTolerance () {\n    return this.hitTolerance_;\n  };\n\n  /**\n   * Returns the associated {@link module:ol/layer/Vector~Vector vectorlayer} of\n   * the (last) selected feature. Note that this will not work with any\n   * programmatic method like pushing features to\n   * {@link module:ol/interaction/Select~Select#getFeatures collection}.\n   * @param {import(\"../Feature.js\").FeatureLike} feature Feature\n   * @return {VectorLayer} Layer.\n   * @api\n   */\n  Select.prototype.getLayer = function getLayer (feature) {\n    return (\n      /** @type {VectorLayer} */ (this.featureLayerAssociation_[getUid(feature)])\n    );\n  };\n\n  /**\n   * Get the overlay layer that this interaction renders selected features to.\n   * @return {VectorLayer} Overlay layer.\n   * @api\n   */\n  Select.prototype.getOverlay = function getOverlay () {\n    return this.featureOverlay_;\n  };\n\n  /**\n   * Hit-detection tolerance. Pixels inside the radius around the given position\n   * will be checked for features. This only works for the canvas renderer and\n   * not for WebGL.\n   * @param {number} hitTolerance Hit tolerance in pixels.\n   * @api\n   */\n  Select.prototype.setHitTolerance = function setHitTolerance (hitTolerance) {\n    this.hitTolerance_ = hitTolerance;\n  };\n\n  /**\n   * Remove the interaction from its current map, if any,  and attach it to a new\n   * map, if any. Pass `null` to just remove the interaction from the current map.\n   * @param {import(\"../PluggableMap.js\").default} map Map.\n   * @override\n   * @api\n   */\n  Select.prototype.setMap = function setMap (map) {\n    var currentMap = this.getMap();\n    var selectedFeatures = this.getFeatures();\n    if (currentMap) {\n      selectedFeatures.forEach(currentMap.unskipFeature.bind(currentMap));\n    }\n    Interaction.prototype.setMap.call(this, map);\n    this.featureOverlay_.setMap(map);\n    if (map) {\n      selectedFeatures.forEach(map.skipFeature.bind(map));\n    }\n  };\n\n  /**\n   * @param {import(\"../Collection.js\").CollectionEvent} evt Event.\n   * @private\n   */\n  Select.prototype.addFeature_ = function addFeature_ (evt) {\n    var map = this.getMap();\n    if (map) {\n      map.skipFeature(/** @type {import(\"../Feature.js\").default} */ (evt.element));\n    }\n  };\n\n  /**\n   * @param {import(\"../Collection.js\").CollectionEvent} evt Event.\n   * @private\n   */\n  Select.prototype.removeFeature_ = function removeFeature_ (evt) {\n    var map = this.getMap();\n    if (map) {\n      map.unskipFeature(/** @type {import(\"../Feature.js\").default} */ (evt.element));\n    }\n  };\n\n  /**\n   * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n   * @private\n   */\n  Select.prototype.removeFeatureLayerAssociation_ = function removeFeatureLayerAssociation_ (feature) {\n    delete this.featureLayerAssociation_[getUid(feature)];\n  };\n\n  return Select;\n}(Interaction));\n\n\n/**\n * Handles the {@link module:ol/MapBrowserEvent map browser event} and may change the\n * selected state of features.\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} `false` to stop event propagation.\n * @this {Select}\n */\nfunction handleEvent(mapBrowserEvent) {\n  if (!this.condition_(mapBrowserEvent)) {\n    return true;\n  }\n  var add = this.addCondition_(mapBrowserEvent);\n  var remove = this.removeCondition_(mapBrowserEvent);\n  var toggle = this.toggleCondition_(mapBrowserEvent);\n  var set = !add && !remove && !toggle;\n  var map = mapBrowserEvent.map;\n  var features = this.getFeatures();\n  var deselected = [];\n  var selected = [];\n  if (set) {\n    // Replace the currently selected feature(s) with the feature(s) at the\n    // pixel, or clear the selected feature(s) if there is no feature at\n    // the pixel.\n    clear(this.featureLayerAssociation_);\n    map.forEachFeatureAtPixel(mapBrowserEvent.pixel,\n      (\n        /**\n         * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n         * @param {import(\"../layer/Layer.js\").default} layer Layer.\n         * @return {boolean|undefined} Continue to iterate over the features.\n         */\n        function(feature, layer) {\n          if (this.filter_(feature, layer)) {\n            selected.push(feature);\n            this.addFeatureLayerAssociation_(feature, layer);\n            return !this.multi_;\n          }\n        }).bind(this), {\n        layerFilter: this.layerFilter_,\n        hitTolerance: this.hitTolerance_\n      });\n    for (var i = features.getLength() - 1; i >= 0; --i) {\n      var feature = features.item(i);\n      var index = selected.indexOf(feature);\n      if (index > -1) {\n        // feature is already selected\n        selected.splice(index, 1);\n      } else {\n        features.remove(feature);\n        deselected.push(feature);\n      }\n    }\n    if (selected.length !== 0) {\n      features.extend(selected);\n    }\n  } else {\n    // Modify the currently selected feature(s).\n    map.forEachFeatureAtPixel(mapBrowserEvent.pixel,\n      (\n        /**\n         * @param {import(\"../Feature.js\").FeatureLike} feature Feature.\n         * @param {import(\"../layer/Layer.js\").default} layer Layer.\n         * @return {boolean|undefined} Continue to iterate over the features.\n         */\n        function(feature, layer) {\n          if (this.filter_(feature, layer)) {\n            if ((add || toggle) && !includes(features.getArray(), feature)) {\n              selected.push(feature);\n              this.addFeatureLayerAssociation_(feature, layer);\n            } else if ((remove || toggle) && includes(features.getArray(), feature)) {\n              deselected.push(feature);\n              this.removeFeatureLayerAssociation_(feature);\n            }\n            return !this.multi_;\n          }\n        }).bind(this), {\n        layerFilter: this.layerFilter_,\n        hitTolerance: this.hitTolerance_\n      });\n    for (var j = deselected.length - 1; j >= 0; --j) {\n      features.remove(deselected[j]);\n    }\n    features.extend(selected);\n  }\n  if (selected.length > 0 || deselected.length > 0) {\n    this.dispatchEvent(\n      new SelectEvent(SelectEventType.SELECT,\n        selected, deselected, mapBrowserEvent));\n  }\n  return pointerMove(mapBrowserEvent);\n}\n\n\n/**\n * @return {import(\"../style/Style.js\").StyleFunction} Styles.\n */\nfunction getDefaultStyleFunction() {\n  var styles = createEditingStyle();\n  extend(styles[GeometryType.POLYGON], styles[GeometryType.LINE_STRING]);\n  extend(styles[GeometryType.GEOMETRY_COLLECTION], styles[GeometryType.LINE_STRING]);\n\n  return function(feature, resolution) {\n    if (!feature.getGeometry()) {\n      return null;\n    }\n    return styles[feature.getGeometry().getType()];\n  };\n}\n\n\nexport default Select;\n\n//# sourceMappingURL=Select.js.map","/**\n * @module ol/obj\n */\n\n\n/**\n * Polyfill for Object.assign().  Assigns enumerable and own properties from\n * one or more source objects to a target object.\n * See https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/assign.\n *\n * @param {!Object} target The target object.\n * @param {...Object} var_sources The source object(s).\n * @return {!Object} The modified target object.\n */\nexport var assign = (typeof Object.assign === 'function') ? Object.assign : function(target, var_sources) {\n  var arguments$1 = arguments;\n\n  if (target === undefined || target === null) {\n    throw new TypeError('Cannot convert undefined or null to object');\n  }\n\n  var output = Object(target);\n  for (var i = 1, ii = arguments.length; i < ii; ++i) {\n    var source = arguments$1[i];\n    if (source !== undefined && source !== null) {\n      for (var key in source) {\n        if (source.hasOwnProperty(key)) {\n          output[key] = source[key];\n        }\n      }\n    }\n  }\n  return output;\n};\n\n\n/**\n * Removes all properties from an object.\n * @param {Object} object The object to clear.\n */\nexport function clear(object) {\n  for (var property in object) {\n    delete object[property];\n  }\n}\n\n\n/**\n * Get an array of property values from an object.\n * @param {Object<K,V>} object The object from which to get the values.\n * @return {!Array<V>} The property values.\n * @template K,V\n */\nexport function getValues(object) {\n  var values = [];\n  for (var property in object) {\n    values.push(object[property]);\n  }\n  return values;\n}\n\n\n/**\n * Determine if an object has any properties.\n * @param {Object} object The object to check.\n * @return {boolean} The object is empty.\n */\nexport function isEmpty(object) {\n  var property;\n  for (property in object) {\n    return false;\n  }\n  return !property;\n}\n\n//# sourceMappingURL=obj.js.map","/**\n * @module ol/interaction/DoubleClickZoom\n */\nimport MapBrowserEventType from '../MapBrowserEventType.js';\nimport Interaction, {zoomByDelta} from './Interaction.js';\n\n\n/**\n * @typedef {Object} Options\n * @property {number} [duration=250] Animation duration in milliseconds.\n * @property {number} [delta=1] The zoom delta applied on each double click.\n */\n\n\n/**\n * @classdesc\n * Allows the user to zoom by double-clicking on the map.\n * @api\n */\nvar DoubleClickZoom = /*@__PURE__*/(function (Interaction) {\n  function DoubleClickZoom(opt_options) {\n    Interaction.call(this, {\n      handleEvent: handleEvent\n    });\n\n    var options = opt_options ? opt_options : {};\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.delta_ = options.delta ? options.delta : 1;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.duration_ = options.duration !== undefined ? options.duration : 250;\n\n  }\n\n  if ( Interaction ) DoubleClickZoom.__proto__ = Interaction;\n  DoubleClickZoom.prototype = Object.create( Interaction && Interaction.prototype );\n  DoubleClickZoom.prototype.constructor = DoubleClickZoom;\n\n  return DoubleClickZoom;\n}(Interaction));\n\n\n/**\n * Handles the {@link module:ol/MapBrowserEvent map browser event} (if it was a\n * doubleclick) and eventually zooms the map.\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} `false` to stop event propagation.\n * @this {DoubleClickZoom}\n */\nfunction handleEvent(mapBrowserEvent) {\n  var stopEvent = false;\n  if (mapBrowserEvent.type == MapBrowserEventType.DBLCLICK) {\n    var browserEvent = /** @type {MouseEvent} */ (mapBrowserEvent.originalEvent);\n    var map = mapBrowserEvent.map;\n    var anchor = mapBrowserEvent.coordinate;\n    var delta = browserEvent.shiftKey ? -this.delta_ : this.delta_;\n    var view = map.getView();\n    zoomByDelta(view, delta, anchor, this.duration_);\n    mapBrowserEvent.preventDefault();\n    stopEvent = true;\n  }\n  return !stopEvent;\n}\n\nexport default DoubleClickZoom;\n\n//# sourceMappingURL=DoubleClickZoom.js.map","/**\n * @module ol/interaction/DragPan\n */\nimport ViewHint from '../ViewHint.js';\nimport {scale as scaleCoordinate, rotate as rotateCoordinate, add as addCoordinate} from '../coordinate.js';\nimport {easeOut} from '../easing.js';\nimport {noModifierKeys} from '../events/condition.js';\nimport {FALSE} from '../functions.js';\nimport PointerInteraction, {centroid as centroidFromPointers} from './Pointer.js';\n\n\n/**\n * @typedef {Object} Options\n * @property {import(\"../events/condition.js\").Condition} [condition] A function that takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a boolean\n * to indicate whether that event should be handled.\n * Default is {@link module:ol/events/condition~noModifierKeys}.\n * @property {import(\"../Kinetic.js\").default} [kinetic] Kinetic inertia to apply to the pan.\n */\n\n\n/**\n * @classdesc\n * Allows the user to pan the map by dragging the map.\n * @api\n */\nvar DragPan = /*@__PURE__*/(function (PointerInteraction) {\n  function DragPan(opt_options) {\n\n    PointerInteraction.call(this, {\n      stopDown: FALSE\n    });\n\n    var options = opt_options ? opt_options : {};\n\n    /**\n     * @private\n     * @type {import(\"../Kinetic.js\").default|undefined}\n     */\n    this.kinetic_ = options.kinetic;\n\n    /**\n     * @type {import(\"../pixel.js\").Pixel}\n     */\n    this.lastCentroid = null;\n\n    /**\n     * @type {number}\n     */\n    this.lastPointersCount_;\n\n    /**\n     * @type {boolean}\n     */\n    this.panning_ = false;\n\n    /**\n     * @private\n     * @type {import(\"../events/condition.js\").Condition}\n     */\n    this.condition_ = options.condition ? options.condition : noModifierKeys;\n\n    /**\n     * @private\n     * @type {boolean}\n     */\n    this.noKinetic_ = false;\n\n  }\n\n  if ( PointerInteraction ) DragPan.__proto__ = PointerInteraction;\n  DragPan.prototype = Object.create( PointerInteraction && PointerInteraction.prototype );\n  DragPan.prototype.constructor = DragPan;\n\n  /**\n   * @inheritDoc\n   */\n  DragPan.prototype.handleDragEvent = function handleDragEvent (mapBrowserEvent) {\n    if (!this.panning_) {\n      this.panning_ = true;\n      this.getMap().getView().setHint(ViewHint.INTERACTING, 1);\n    }\n    var targetPointers = this.targetPointers;\n    var centroid = centroidFromPointers(targetPointers);\n    if (targetPointers.length == this.lastPointersCount_) {\n      if (this.kinetic_) {\n        this.kinetic_.update(centroid[0], centroid[1]);\n      }\n      if (this.lastCentroid) {\n        var deltaX = this.lastCentroid[0] - centroid[0];\n        var deltaY = centroid[1] - this.lastCentroid[1];\n        var map = mapBrowserEvent.map;\n        var view = map.getView();\n        var center = [deltaX, deltaY];\n        scaleCoordinate(center, view.getResolution());\n        rotateCoordinate(center, view.getRotation());\n        addCoordinate(center, view.getCenter());\n        center = view.constrainCenter(center);\n        view.setCenter(center);\n      }\n    } else if (this.kinetic_) {\n      // reset so we don't overestimate the kinetic energy after\n      // after one finger down, tiny drag, second finger down\n      this.kinetic_.begin();\n    }\n    this.lastCentroid = centroid;\n    this.lastPointersCount_ = targetPointers.length;\n  };\n\n  /**\n   * @inheritDoc\n   */\n  DragPan.prototype.handleUpEvent = function handleUpEvent (mapBrowserEvent) {\n    var map = mapBrowserEvent.map;\n    var view = map.getView();\n    if (this.targetPointers.length === 0) {\n      if (!this.noKinetic_ && this.kinetic_ && this.kinetic_.end()) {\n        var distance = this.kinetic_.getDistance();\n        var angle = this.kinetic_.getAngle();\n        var center = /** @type {!import(\"../coordinate.js\").Coordinate} */ (view.getCenter());\n        var centerpx = map.getPixelFromCoordinate(center);\n        var dest = map.getCoordinateFromPixel([\n          centerpx[0] - distance * Math.cos(angle),\n          centerpx[1] - distance * Math.sin(angle)\n        ]);\n        view.animate({\n          center: view.constrainCenter(dest),\n          duration: 500,\n          easing: easeOut\n        });\n      }\n      if (this.panning_) {\n        this.panning_ = false;\n        view.setHint(ViewHint.INTERACTING, -1);\n      }\n      return false;\n    } else {\n      if (this.kinetic_) {\n        // reset so we don't overestimate the kinetic energy after\n        // after one finger up, tiny drag, second finger up\n        this.kinetic_.begin();\n      }\n      this.lastCentroid = null;\n      return true;\n    }\n  };\n\n  /**\n   * @inheritDoc\n   */\n  DragPan.prototype.handleDownEvent = function handleDownEvent (mapBrowserEvent) {\n    if (this.targetPointers.length > 0 && this.condition_(mapBrowserEvent)) {\n      var map = mapBrowserEvent.map;\n      var view = map.getView();\n      this.lastCentroid = null;\n      // stop any current animation\n      if (view.getAnimating()) {\n        view.setCenter(mapBrowserEvent.frameState.viewState.center);\n      }\n      if (this.kinetic_) {\n        this.kinetic_.begin();\n      }\n      // No kinetic as soon as more than one pointer on the screen is\n      // detected. This is to prevent nasty pans after pinch.\n      this.noKinetic_ = this.targetPointers.length > 1;\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  return DragPan;\n}(PointerInteraction));\n\nexport default DragPan;\n\n//# sourceMappingURL=DragPan.js.map","/**\n * @module ol/interaction/DragRotate\n */\nimport {disable} from '../rotationconstraint.js';\nimport ViewHint from '../ViewHint.js';\nimport {altShiftKeysOnly, mouseOnly, mouseActionButton} from '../events/condition.js';\nimport {FALSE} from '../functions.js';\nimport {rotate, rotateWithoutConstraints} from './Interaction.js';\nimport PointerInteraction from './Pointer.js';\n\n\n/**\n * @typedef {Object} Options\n * @property {import(\"../events/condition.js\").Condition} [condition] A function that takes an\n * {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a boolean\n * to indicate whether that event should be handled.\n * Default is {@link module:ol/events/condition~altShiftKeysOnly}.\n * @property {number} [duration=250] Animation duration in milliseconds.\n */\n\n\n/**\n * @classdesc\n * Allows the user to rotate the map by clicking and dragging on the map,\n * normally combined with an {@link module:ol/events/condition} that limits\n * it to when the alt and shift keys are held down.\n *\n * This interaction is only supported for mouse devices.\n * @api\n */\nvar DragRotate = /*@__PURE__*/(function (PointerInteraction) {\n  function DragRotate(opt_options) {\n\n    var options = opt_options ? opt_options : {};\n\n    PointerInteraction.call(this, {\n      stopDown: FALSE\n    });\n\n    /**\n     * @private\n     * @type {import(\"../events/condition.js\").Condition}\n     */\n    this.condition_ = options.condition ? options.condition : altShiftKeysOnly;\n\n    /**\n     * @private\n     * @type {number|undefined}\n     */\n    this.lastAngle_ = undefined;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.duration_ = options.duration !== undefined ? options.duration : 250;\n\n  }\n\n  if ( PointerInteraction ) DragRotate.__proto__ = PointerInteraction;\n  DragRotate.prototype = Object.create( PointerInteraction && PointerInteraction.prototype );\n  DragRotate.prototype.constructor = DragRotate;\n\n  /**\n   * @inheritDoc\n   */\n  DragRotate.prototype.handleDragEvent = function handleDragEvent (mapBrowserEvent) {\n    if (!mouseOnly(mapBrowserEvent)) {\n      return;\n    }\n\n    var map = mapBrowserEvent.map;\n    var view = map.getView();\n    if (view.getConstraints().rotation === disable) {\n      return;\n    }\n    var size = map.getSize();\n    var offset = mapBrowserEvent.pixel;\n    var theta =\n        Math.atan2(size[1] / 2 - offset[1], offset[0] - size[0] / 2);\n    if (this.lastAngle_ !== undefined) {\n      var delta = theta - this.lastAngle_;\n      var rotation = view.getRotation();\n      rotateWithoutConstraints(view, rotation - delta);\n    }\n    this.lastAngle_ = theta;\n  };\n\n\n  /**\n   * @inheritDoc\n   */\n  DragRotate.prototype.handleUpEvent = function handleUpEvent (mapBrowserEvent) {\n    if (!mouseOnly(mapBrowserEvent)) {\n      return true;\n    }\n\n    var map = mapBrowserEvent.map;\n    var view = map.getView();\n    view.setHint(ViewHint.INTERACTING, -1);\n    var rotation = view.getRotation();\n    rotate(view, rotation, undefined, this.duration_);\n    return false;\n  };\n\n\n  /**\n   * @inheritDoc\n   */\n  DragRotate.prototype.handleDownEvent = function handleDownEvent (mapBrowserEvent) {\n    if (!mouseOnly(mapBrowserEvent)) {\n      return false;\n    }\n\n    if (mouseActionButton(mapBrowserEvent) && this.condition_(mapBrowserEvent)) {\n      var map = mapBrowserEvent.map;\n      map.getView().setHint(ViewHint.INTERACTING, 1);\n      this.lastAngle_ = undefined;\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  return DragRotate;\n}(PointerInteraction));\n\nexport default DragRotate;\n\n//# sourceMappingURL=DragRotate.js.map","/**\n * @module ol/interaction/DragBox\n */\n// FIXME draw drag box\nimport Event from '../events/Event.js';\nimport {always, mouseOnly, mouseActionButton} from '../events/condition.js';\nimport {VOID} from '../functions.js';\nimport PointerInteraction from './Pointer.js';\nimport RenderBox from '../render/Box.js';\n\n\n/**\n * A function that takes a {@link module:ol/MapBrowserEvent} and two\n * {@link module:ol/pixel~Pixel}s and returns a `{boolean}`. If the condition is met,\n * true should be returned.\n * @typedef {function(this: ?, import(\"../MapBrowserEvent.js\").default, import(\"../pixel.js\").Pixel, import(\"../pixel.js\").Pixel):boolean} EndCondition\n */\n\n\n/**\n * @typedef {Object} Options\n * @property {string} [className='ol-dragbox'] CSS class name for styling the box.\n * @property {import(\"../events/condition.js\").Condition} [condition] A function that takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a boolean\n * to indicate whether that event should be handled.\n * Default is {@link ol/events/condition~always}.\n * @property {number} [minArea=64] The minimum area of the box in pixel, this value is used by the default\n * `boxEndCondition` function.\n * @property {EndCondition} [boxEndCondition] A function that takes a {@link module:ol/MapBrowserEvent~MapBrowserEvent} and two\n * {@link module:ol/pixel~Pixel}s to indicate whether a `boxend` event should be fired.\n * Default is `true` if the area of the box is bigger than the `minArea` option.\n * @property {function(this:DragBox, import(\"../MapBrowserEvent.js\").default)} onBoxEnd Code to execute just\n * before `boxend` is fired.\n */\n\n\n/**\n * @enum {string}\n */\nvar DragBoxEventType = {\n  /**\n   * Triggered upon drag box start.\n   * @event DragBoxEvent#boxstart\n   * @api\n   */\n  BOXSTART: 'boxstart',\n\n  /**\n   * Triggered on drag when box is active.\n   * @event DragBoxEvent#boxdrag\n   * @api\n   */\n  BOXDRAG: 'boxdrag',\n\n  /**\n   * Triggered upon drag box end.\n   * @event DragBoxEvent#boxend\n   * @api\n   */\n  BOXEND: 'boxend'\n};\n\n\n/**\n * @classdesc\n * Events emitted by {@link module:ol/interaction/DragBox~DragBox} instances are instances of\n * this type.\n */\nvar DragBoxEvent = /*@__PURE__*/(function (Event) {\n  function DragBoxEvent(type, coordinate, mapBrowserEvent) {\n    Event.call(this, type);\n\n    /**\n     * The coordinate of the drag event.\n     * @const\n     * @type {import(\"../coordinate.js\").Coordinate}\n     * @api\n     */\n    this.coordinate = coordinate;\n\n    /**\n     * @const\n     * @type {import(\"../MapBrowserEvent.js\").default}\n     * @api\n     */\n    this.mapBrowserEvent = mapBrowserEvent;\n\n  }\n\n  if ( Event ) DragBoxEvent.__proto__ = Event;\n  DragBoxEvent.prototype = Object.create( Event && Event.prototype );\n  DragBoxEvent.prototype.constructor = DragBoxEvent;\n\n  return DragBoxEvent;\n}(Event));\n\n\n/**\n * @classdesc\n * Allows the user to draw a vector box by clicking and dragging on the map,\n * normally combined with an {@link module:ol/events/condition} that limits\n * it to when the shift or other key is held down. This is used, for example,\n * for zooming to a specific area of the map\n * (see {@link module:ol/interaction/DragZoom~DragZoom} and\n * {@link module:ol/interaction/DragRotateAndZoom}).\n *\n * This interaction is only supported for mouse devices.\n *\n * @fires DragBoxEvent\n * @api\n */\nvar DragBox = /*@__PURE__*/(function (PointerInteraction) {\n  function DragBox(opt_options) {\n\n    PointerInteraction.call(this);\n\n    var options = opt_options ? opt_options : {};\n\n    /**\n    * @type {import(\"../render/Box.js\").default}\n    * @private\n    */\n    this.box_ = new RenderBox(options.className || 'ol-dragbox');\n\n    /**\n    * @type {number}\n    * @private\n    */\n    this.minArea_ = options.minArea !== undefined ? options.minArea : 64;\n\n    /**\n     * Function to execute just before `onboxend` is fired\n     * @type {function(this:DragBox, import(\"../MapBrowserEvent.js\").default)}\n     * @private\n     */\n    this.onBoxEnd_ = options.onBoxEnd ? options.onBoxEnd : VOID;\n\n    /**\n    * @type {import(\"../pixel.js\").Pixel}\n    * @private\n    */\n    this.startPixel_ = null;\n\n    /**\n    * @private\n    * @type {import(\"../events/condition.js\").Condition}\n    */\n    this.condition_ = options.condition ? options.condition : always;\n\n    /**\n    * @private\n    * @type {EndCondition}\n    */\n    this.boxEndCondition_ = options.boxEndCondition ?\n      options.boxEndCondition : this.defaultBoxEndCondition;\n  }\n\n  if ( PointerInteraction ) DragBox.__proto__ = PointerInteraction;\n  DragBox.prototype = Object.create( PointerInteraction && PointerInteraction.prototype );\n  DragBox.prototype.constructor = DragBox;\n\n  /**\n   * The default condition for determining whether the boxend event\n   * should fire.\n   * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent The originating MapBrowserEvent\n   *     leading to the box end.\n   * @param {import(\"../pixel.js\").Pixel} startPixel The starting pixel of the box.\n   * @param {import(\"../pixel.js\").Pixel} endPixel The end pixel of the box.\n   * @return {boolean} Whether or not the boxend condition should be fired.\n   */\n  DragBox.prototype.defaultBoxEndCondition = function defaultBoxEndCondition (mapBrowserEvent, startPixel, endPixel) {\n    var width = endPixel[0] - startPixel[0];\n    var height = endPixel[1] - startPixel[1];\n    return width * width + height * height >= this.minArea_;\n  };\n\n  /**\n  * Returns geometry of last drawn box.\n  * @return {import(\"../geom/Polygon.js\").default} Geometry.\n  * @api\n  */\n  DragBox.prototype.getGeometry = function getGeometry () {\n    return this.box_.getGeometry();\n  };\n\n  /**\n   * @inheritDoc\n   */\n  DragBox.prototype.handleDragEvent = function handleDragEvent (mapBrowserEvent) {\n    if (!mouseOnly(mapBrowserEvent)) {\n      return;\n    }\n\n    this.box_.setPixels(this.startPixel_, mapBrowserEvent.pixel);\n\n    this.dispatchEvent(new DragBoxEvent(DragBoxEventType.BOXDRAG,\n      mapBrowserEvent.coordinate, mapBrowserEvent));\n  };\n\n  /**\n   * @inheritDoc\n   */\n  DragBox.prototype.handleUpEvent = function handleUpEvent (mapBrowserEvent) {\n    if (!mouseOnly(mapBrowserEvent)) {\n      return true;\n    }\n\n    this.box_.setMap(null);\n\n    if (this.boxEndCondition_(mapBrowserEvent, this.startPixel_, mapBrowserEvent.pixel)) {\n      this.onBoxEnd_(mapBrowserEvent);\n      this.dispatchEvent(new DragBoxEvent(DragBoxEventType.BOXEND,\n        mapBrowserEvent.coordinate, mapBrowserEvent));\n    }\n    return false;\n  };\n\n  /**\n   * @inheritDoc\n   */\n  DragBox.prototype.handleDownEvent = function handleDownEvent (mapBrowserEvent) {\n    if (!mouseOnly(mapBrowserEvent)) {\n      return false;\n    }\n\n    if (mouseActionButton(mapBrowserEvent) &&\n        this.condition_(mapBrowserEvent)) {\n      this.startPixel_ = mapBrowserEvent.pixel;\n      this.box_.setMap(mapBrowserEvent.map);\n      this.box_.setPixels(this.startPixel_, this.startPixel_);\n      this.dispatchEvent(new DragBoxEvent(DragBoxEventType.BOXSTART,\n        mapBrowserEvent.coordinate, mapBrowserEvent));\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  return DragBox;\n}(PointerInteraction));\n\n\nexport default DragBox;\n\n//# sourceMappingURL=DragBox.js.map","/**\n * @module ol/interaction/DragZoom\n */\nimport {easeOut} from '../easing.js';\nimport {shiftKeyOnly} from '../events/condition.js';\nimport {createOrUpdateFromCoordinates, getBottomLeft, getCenter, getTopRight, scaleFromCenter} from '../extent.js';\nimport DragBox from './DragBox.js';\n\n\n/**\n * @typedef {Object} Options\n * @property {string} [className='ol-dragzoom'] CSS class name for styling the\n * box.\n * @property {import(\"../events/condition.js\").Condition} [condition] A function that\n * takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a\n * boolean to indicate whether that event should be handled.\n * Default is {@link module:ol/events/condition~shiftKeyOnly}.\n * @property {number} [duration=200] Animation duration in milliseconds.\n * @property {boolean} [out=false] Use interaction for zooming out.\n */\n\n\n/**\n * @classdesc\n * Allows the user to zoom the map by clicking and dragging on the map,\n * normally combined with an {@link module:ol/events/condition} that limits\n * it to when a key, shift by default, is held down.\n *\n * To change the style of the box, use CSS and the `.ol-dragzoom` selector, or\n * your custom one configured with `className`.\n * @api\n */\nvar DragZoom = /*@__PURE__*/(function (DragBox) {\n  function DragZoom(opt_options) {\n    var options = opt_options ? opt_options : {};\n\n    var condition = options.condition ? options.condition : shiftKeyOnly;\n\n    DragBox.call(this, {\n      condition: condition,\n      className: options.className || 'ol-dragzoom',\n      onBoxEnd: onBoxEnd\n    });\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.duration_ = options.duration !== undefined ? options.duration : 200;\n\n    /**\n     * @private\n     * @type {boolean}\n     */\n    this.out_ = options.out !== undefined ? options.out : false;\n  }\n\n  if ( DragBox ) DragZoom.__proto__ = DragBox;\n  DragZoom.prototype = Object.create( DragBox && DragBox.prototype );\n  DragZoom.prototype.constructor = DragZoom;\n\n  return DragZoom;\n}(DragBox));\n\n\n/**\n * @this {DragZoom}\n */\nfunction onBoxEnd() {\n  var map = this.getMap();\n  var view = /** @type {!import(\"../View.js\").default} */ (map.getView());\n  var size = /** @type {!import(\"../size.js\").Size} */ (map.getSize());\n  var extent = this.getGeometry().getExtent();\n\n  if (this.out_) {\n    var mapExtent = view.calculateExtent(size);\n    var boxPixelExtent = createOrUpdateFromCoordinates([\n      map.getPixelFromCoordinate(getBottomLeft(extent)),\n      map.getPixelFromCoordinate(getTopRight(extent))]);\n    var factor = view.getResolutionForExtent(boxPixelExtent, size);\n\n    scaleFromCenter(mapExtent, 1 / factor);\n    extent = mapExtent;\n  }\n\n  var resolution = view.constrainResolution(\n    view.getResolutionForExtent(extent, size));\n\n  var center = getCenter(extent);\n  center = view.constrainCenter(center);\n\n  view.animate({\n    resolution: resolution,\n    center: center,\n    duration: this.duration_,\n    easing: easeOut\n  });\n}\n\n\nexport default DragZoom;\n\n//# sourceMappingURL=DragZoom.js.map","/**\n * @module ol/interaction/KeyboardPan\n */\nimport {rotate as rotateCoordinate} from '../coordinate.js';\nimport EventType from '../events/EventType.js';\nimport KeyCode from '../events/KeyCode.js';\nimport {noModifierKeys, targetNotEditable} from '../events/condition.js';\nimport Interaction, {pan} from './Interaction.js';\n\n\n/**\n * @typedef {Object} Options\n * @property {import(\"../events/condition.js\").Condition} [condition] A function that\n * takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a\n * boolean to indicate whether that event should be handled. Default is\n * {@link module:ol/events/condition~noModifierKeys} and\n * {@link module:ol/events/condition~targetNotEditable}.\n * @property {number} [duration=100] Animation duration in milliseconds.\n * @property {number} [pixelDelta=128] The amount of pixels to pan on each key\n * press.\n */\n\n\n/**\n * @classdesc\n * Allows the user to pan the map using keyboard arrows.\n * Note that, although this interaction is by default included in maps,\n * the keys can only be used when browser focus is on the element to which\n * the keyboard events are attached. By default, this is the map div,\n * though you can change this with the `keyboardEventTarget` in\n * {@link module:ol/Map~Map}. `document` never loses focus but, for any other\n * element, focus will have to be on, and returned to, this element if the keys\n * are to function.\n * See also {@link module:ol/interaction/KeyboardZoom~KeyboardZoom}.\n * @api\n */\nvar KeyboardPan = /*@__PURE__*/(function (Interaction) {\n  function KeyboardPan(opt_options) {\n\n    Interaction.call(this, {\n      handleEvent: handleEvent\n    });\n\n    var options = opt_options || {};\n\n    /**\n     * @private\n     * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Browser event.\n     * @return {boolean} Combined condition result.\n     */\n    this.defaultCondition_ = function(mapBrowserEvent) {\n      return noModifierKeys(mapBrowserEvent) &&\n        targetNotEditable(mapBrowserEvent);\n    };\n\n    /**\n     * @private\n     * @type {import(\"../events/condition.js\").Condition}\n     */\n    this.condition_ = options.condition !== undefined ?\n      options.condition : this.defaultCondition_;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.duration_ = options.duration !== undefined ? options.duration : 100;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.pixelDelta_ = options.pixelDelta !== undefined ?\n      options.pixelDelta : 128;\n\n  }\n\n  if ( Interaction ) KeyboardPan.__proto__ = Interaction;\n  KeyboardPan.prototype = Object.create( Interaction && Interaction.prototype );\n  KeyboardPan.prototype.constructor = KeyboardPan;\n\n  return KeyboardPan;\n}(Interaction));\n\n\n/**\n * Handles the {@link module:ol/MapBrowserEvent map browser event} if it was a\n * `KeyEvent`, and decides the direction to pan to (if an arrow key was\n * pressed).\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} `false` to stop event propagation.\n * @this {KeyboardPan}\n */\nfunction handleEvent(mapBrowserEvent) {\n  var stopEvent = false;\n  if (mapBrowserEvent.type == EventType.KEYDOWN) {\n    var keyEvent = /** @type {KeyboardEvent} */ (mapBrowserEvent.originalEvent);\n    var keyCode = keyEvent.keyCode;\n    if (this.condition_(mapBrowserEvent) &&\n        (keyCode == KeyCode.DOWN ||\n        keyCode == KeyCode.LEFT ||\n        keyCode == KeyCode.RIGHT ||\n        keyCode == KeyCode.UP)) {\n      var map = mapBrowserEvent.map;\n      var view = map.getView();\n      var mapUnitsDelta = view.getResolution() * this.pixelDelta_;\n      var deltaX = 0, deltaY = 0;\n      if (keyCode == KeyCode.DOWN) {\n        deltaY = -mapUnitsDelta;\n      } else if (keyCode == KeyCode.LEFT) {\n        deltaX = -mapUnitsDelta;\n      } else if (keyCode == KeyCode.RIGHT) {\n        deltaX = mapUnitsDelta;\n      } else {\n        deltaY = mapUnitsDelta;\n      }\n      var delta = [deltaX, deltaY];\n      rotateCoordinate(delta, view.getRotation());\n      pan(view, delta, this.duration_);\n      mapBrowserEvent.preventDefault();\n      stopEvent = true;\n    }\n  }\n  return !stopEvent;\n}\n\nexport default KeyboardPan;\n\n//# sourceMappingURL=KeyboardPan.js.map","/**\n * @module ol/interaction/KeyboardZoom\n */\nimport EventType from '../events/EventType.js';\nimport {targetNotEditable} from '../events/condition.js';\nimport Interaction, {zoomByDelta} from './Interaction.js';\n\n\n/**\n * @typedef {Object} Options\n * @property {number} [duration=100] Animation duration in milliseconds.\n * @property {import(\"../events/condition.js\").Condition} [condition] A function that\n * takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a\n * boolean to indicate whether that event should be handled. Default is\n * {@link module:ol/events/condition~targetNotEditable}.\n * @property {number} [delta=1] The zoom level delta on each key press.\n */\n\n\n/**\n * @classdesc\n * Allows the user to zoom the map using keyboard + and -.\n * Note that, although this interaction is by default included in maps,\n * the keys can only be used when browser focus is on the element to which\n * the keyboard events are attached. By default, this is the map div,\n * though you can change this with the `keyboardEventTarget` in\n * {@link module:ol/Map~Map}. `document` never loses focus but, for any other\n * element, focus will have to be on, and returned to, this element if the keys\n * are to function.\n * See also {@link module:ol/interaction/KeyboardPan~KeyboardPan}.\n * @api\n */\nvar KeyboardZoom = /*@__PURE__*/(function (Interaction) {\n  function KeyboardZoom(opt_options) {\n\n    Interaction.call(this, {\n      handleEvent: handleEvent\n    });\n\n    var options = opt_options ? opt_options : {};\n\n    /**\n     * @private\n     * @type {import(\"../events/condition.js\").Condition}\n     */\n    this.condition_ = options.condition ? options.condition : targetNotEditable;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.delta_ = options.delta ? options.delta : 1;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.duration_ = options.duration !== undefined ? options.duration : 100;\n\n  }\n\n  if ( Interaction ) KeyboardZoom.__proto__ = Interaction;\n  KeyboardZoom.prototype = Object.create( Interaction && Interaction.prototype );\n  KeyboardZoom.prototype.constructor = KeyboardZoom;\n\n  return KeyboardZoom;\n}(Interaction));\n\n\n/**\n * Handles the {@link module:ol/MapBrowserEvent map browser event} if it was a\n * `KeyEvent`, and decides whether to zoom in or out (depending on whether the\n * key pressed was '+' or '-').\n * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n * @return {boolean} `false` to stop event propagation.\n * @this {KeyboardZoom}\n */\nfunction handleEvent(mapBrowserEvent) {\n  var stopEvent = false;\n  if (mapBrowserEvent.type == EventType.KEYDOWN ||\n      mapBrowserEvent.type == EventType.KEYPRESS) {\n    var keyEvent = /** @type {KeyboardEvent} */ (mapBrowserEvent.originalEvent);\n    var charCode = keyEvent.charCode;\n    if (this.condition_(mapBrowserEvent) &&\n        (charCode == '+'.charCodeAt(0) || charCode == '-'.charCodeAt(0))) {\n      var map = mapBrowserEvent.map;\n      var delta = (charCode == '+'.charCodeAt(0)) ? this.delta_ : -this.delta_;\n      var view = map.getView();\n      zoomByDelta(view, delta, undefined, this.duration_);\n      mapBrowserEvent.preventDefault();\n      stopEvent = true;\n    }\n  }\n  return !stopEvent;\n}\n\nexport default KeyboardZoom;\n\n//# sourceMappingURL=KeyboardZoom.js.map","/**\n * @module ol/interaction/MouseWheelZoom\n */\nimport ViewHint from '../ViewHint.js';\nimport {always} from '../events/condition.js';\nimport {easeOut} from '../easing.js';\nimport EventType from '../events/EventType.js';\nimport {DEVICE_PIXEL_RATIO, FIREFOX, SAFARI} from '../has.js';\nimport Interaction, {zoomByDelta} from './Interaction.js';\nimport {clamp} from '../math.js';\n\n\n/**\n * Maximum mouse wheel delta.\n * @type {number}\n */\nvar MAX_DELTA = 1;\n\n\n/**\n * @enum {string}\n */\nexport var Mode = {\n  TRACKPAD: 'trackpad',\n  WHEEL: 'wheel'\n};\n\n\n/**\n * @typedef {Object} Options\n * @property {import(\"../events/condition.js\").Condition} [condition] A function that\n * takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a\n * boolean to indicate whether that event should be handled. Default is\n * {@link module:ol/events/condition~always}.\n * @property {number} [duration=250] Animation duration in milliseconds.\n * @property {number} [timeout=80] Mouse wheel timeout duration in milliseconds.\n * @property {boolean} [constrainResolution=false] When using a trackpad or\n * magic mouse, zoom to the closest integer zoom level after the scroll gesture\n * ends.\n * @property {boolean} [useAnchor=true] Enable zooming using the mouse's\n * location as the anchor. When set to `false`, zooming in and out will zoom to\n * the center of the screen instead of zooming on the mouse's location.\n */\n\n\n/**\n * @classdesc\n * Allows the user to zoom the map by scrolling the mouse wheel.\n * @api\n */\nvar MouseWheelZoom = /*@__PURE__*/(function (Interaction) {\n  function MouseWheelZoom(opt_options) {\n\n    var options = opt_options ? opt_options : {};\n\n    Interaction.call(/** @type {import(\"./Interaction.js\").InteractionOptions} */ this, (options));\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.delta_ = 0;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.duration_ = options.duration !== undefined ? options.duration : 250;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.timeout_ = options.timeout !== undefined ? options.timeout : 80;\n\n    /**\n     * @private\n     * @type {boolean}\n     */\n    this.useAnchor_ = options.useAnchor !== undefined ? options.useAnchor : true;\n\n    /**\n     * @private\n     * @type {boolean}\n     */\n    this.constrainResolution_ = options.constrainResolution || false;\n\n    /**\n     * @private\n     * @type {import(\"../events/condition.js\").Condition}\n     */\n    this.condition_ = options.condition ? options.condition : always;\n\n    /**\n     * @private\n     * @type {?import(\"../coordinate.js\").Coordinate}\n     */\n    this.lastAnchor_ = null;\n\n    /**\n     * @private\n     * @type {number|undefined}\n     */\n    this.startTime_ = undefined;\n\n    /**\n     * @private\n     * @type {?}\n     */\n    this.timeoutId_;\n\n    /**\n     * @private\n     * @type {Mode|undefined}\n     */\n    this.mode_ = undefined;\n\n    /**\n     * Trackpad events separated by this delay will be considered separate\n     * interactions.\n     * @type {number}\n     */\n    this.trackpadEventGap_ = 400;\n\n    /**\n     * @type {?}\n     */\n    this.trackpadTimeoutId_;\n\n    /**\n     * The number of delta values per zoom level\n     * @private\n     * @type {number}\n     */\n    this.trackpadDeltaPerZoom_ = 300;\n\n    /**\n     * The zoom factor by which scroll zooming is allowed to exceed the limits.\n     * @private\n     * @type {number}\n     */\n    this.trackpadZoomBuffer_ = 1.5;\n\n  }\n\n  if ( Interaction ) MouseWheelZoom.__proto__ = Interaction;\n  MouseWheelZoom.prototype = Object.create( Interaction && Interaction.prototype );\n  MouseWheelZoom.prototype.constructor = MouseWheelZoom;\n\n  /**\n   * @private\n   */\n  MouseWheelZoom.prototype.decrementInteractingHint_ = function decrementInteractingHint_ () {\n    this.trackpadTimeoutId_ = undefined;\n    var view = this.getMap().getView();\n    view.setHint(ViewHint.INTERACTING, -1);\n  };\n\n  /**\n   * Handles the {@link module:ol/MapBrowserEvent map browser event} (if it was a mousewheel-event) and eventually\n   * zooms the map.\n   * @override\n   */\n  MouseWheelZoom.prototype.handleEvent = function handleEvent (mapBrowserEvent) {\n    if (!this.condition_(mapBrowserEvent)) {\n      return true;\n    }\n    var type = mapBrowserEvent.type;\n    if (type !== EventType.WHEEL && type !== EventType.MOUSEWHEEL) {\n      return true;\n    }\n\n    mapBrowserEvent.preventDefault();\n\n    var map = mapBrowserEvent.map;\n    var wheelEvent = /** @type {WheelEvent} */ (mapBrowserEvent.originalEvent);\n\n    if (this.useAnchor_) {\n      this.lastAnchor_ = mapBrowserEvent.coordinate;\n    }\n\n    // Delta normalisation inspired by\n    // https://github.com/mapbox/mapbox-gl-js/blob/001c7b9/js/ui/handler/scroll_zoom.js\n    var delta;\n    if (mapBrowserEvent.type == EventType.WHEEL) {\n      delta = wheelEvent.deltaY;\n      if (FIREFOX &&\n          wheelEvent.deltaMode === WheelEvent.DOM_DELTA_PIXEL) {\n        delta /= DEVICE_PIXEL_RATIO;\n      }\n      if (wheelEvent.deltaMode === WheelEvent.DOM_DELTA_LINE) {\n        delta *= 40;\n      }\n    } else if (mapBrowserEvent.type == EventType.MOUSEWHEEL) {\n      delta = -wheelEvent.wheelDeltaY;\n      if (SAFARI) {\n        delta /= 3;\n      }\n    }\n\n    if (delta === 0) {\n      return false;\n    }\n\n    var now = Date.now();\n\n    if (this.startTime_ === undefined) {\n      this.startTime_ = now;\n    }\n\n    if (!this.mode_ || now - this.startTime_ > this.trackpadEventGap_) {\n      this.mode_ = Math.abs(delta) < 4 ?\n        Mode.TRACKPAD :\n        Mode.WHEEL;\n    }\n\n    if (this.mode_ === Mode.TRACKPAD) {\n      var view = map.getView();\n      if (this.trackpadTimeoutId_) {\n        clearTimeout(this.trackpadTimeoutId_);\n      } else {\n        view.setHint(ViewHint.INTERACTING, 1);\n      }\n      this.trackpadTimeoutId_ = setTimeout(this.decrementInteractingHint_.bind(this), this.trackpadEventGap_);\n      var resolution = view.getResolution() * Math.pow(2, delta / this.trackpadDeltaPerZoom_);\n      var minResolution = view.getMinResolution();\n      var maxResolution = view.getMaxResolution();\n      var rebound = 0;\n      if (resolution < minResolution) {\n        resolution = Math.max(resolution, minResolution / this.trackpadZoomBuffer_);\n        rebound = 1;\n      } else if (resolution > maxResolution) {\n        resolution = Math.min(resolution, maxResolution * this.trackpadZoomBuffer_);\n        rebound = -1;\n      }\n      if (this.lastAnchor_) {\n        var center = view.calculateCenterZoom(resolution, this.lastAnchor_);\n        view.setCenter(view.constrainCenter(center));\n      }\n      view.setResolution(resolution);\n\n      if (rebound === 0 && this.constrainResolution_) {\n        view.animate({\n          resolution: view.constrainResolution(resolution, delta > 0 ? -1 : 1),\n          easing: easeOut,\n          anchor: this.lastAnchor_,\n          duration: this.duration_\n        });\n      }\n\n      if (rebound > 0) {\n        view.animate({\n          resolution: minResolution,\n          easing: easeOut,\n          anchor: this.lastAnchor_,\n          duration: 500\n        });\n      } else if (rebound < 0) {\n        view.animate({\n          resolution: maxResolution,\n          easing: easeOut,\n          anchor: this.lastAnchor_,\n          duration: 500\n        });\n      }\n      this.startTime_ = now;\n      return false;\n    }\n\n    this.delta_ += delta;\n\n    var timeLeft = Math.max(this.timeout_ - (now - this.startTime_), 0);\n\n    clearTimeout(this.timeoutId_);\n    this.timeoutId_ = setTimeout(this.handleWheelZoom_.bind(this, map), timeLeft);\n\n    return false;\n  };\n\n  /**\n   * @private\n   * @param {import(\"../PluggableMap.js\").default} map Map.\n   */\n  MouseWheelZoom.prototype.handleWheelZoom_ = function handleWheelZoom_ (map) {\n    var view = map.getView();\n    if (view.getAnimating()) {\n      view.cancelAnimations();\n    }\n    var maxDelta = MAX_DELTA;\n    var delta = clamp(this.delta_, -maxDelta, maxDelta);\n    zoomByDelta(view, -delta, this.lastAnchor_, this.duration_);\n    this.mode_ = undefined;\n    this.delta_ = 0;\n    this.lastAnchor_ = null;\n    this.startTime_ = undefined;\n    this.timeoutId_ = undefined;\n  };\n\n  /**\n   * Enable or disable using the mouse's location as an anchor when zooming\n   * @param {boolean} useAnchor true to zoom to the mouse's location, false\n   * to zoom to the center of the map\n   * @api\n   */\n  MouseWheelZoom.prototype.setMouseAnchor = function setMouseAnchor (useAnchor) {\n    this.useAnchor_ = useAnchor;\n    if (!useAnchor) {\n      this.lastAnchor_ = null;\n    }\n  };\n\n  return MouseWheelZoom;\n}(Interaction));\n\nexport default MouseWheelZoom;\n\n//# sourceMappingURL=MouseWheelZoom.js.map","/**\n * @module ol/interaction/PinchRotate\n */\nimport ViewHint from '../ViewHint.js';\nimport {FALSE} from '../functions.js';\nimport {rotate, rotateWithoutConstraints} from './Interaction.js';\nimport PointerInteraction, {centroid as centroidFromPointers} from './Pointer.js';\nimport {disable} from '../rotationconstraint.js';\n\n\n/**\n * @typedef {Object} Options\n * @property {number} [duration=250] The duration of the animation in\n * milliseconds.\n * @property {number} [threshold=0.3] Minimal angle in radians to start a rotation.\n */\n\n\n/**\n * @classdesc\n * Allows the user to rotate the map by twisting with two fingers\n * on a touch screen.\n * @api\n */\nvar PinchRotate = /*@__PURE__*/(function (PointerInteraction) {\n  function PinchRotate(opt_options) {\n\n    var options = opt_options ? opt_options : {};\n\n    var pointerOptions = /** @type {import(\"./Pointer.js\").Options} */ (options);\n\n    if (!pointerOptions.stopDown) {\n      pointerOptions.stopDown = FALSE;\n    }\n\n    PointerInteraction.call(this, pointerOptions);\n\n    /**\n     * @private\n     * @type {import(\"../coordinate.js\").Coordinate}\n     */\n    this.anchor_ = null;\n\n    /**\n     * @private\n     * @type {number|undefined}\n     */\n    this.lastAngle_ = undefined;\n\n    /**\n     * @private\n     * @type {boolean}\n     */\n    this.rotating_ = false;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.rotationDelta_ = 0.0;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.threshold_ = options.threshold !== undefined ? options.threshold : 0.3;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.duration_ = options.duration !== undefined ? options.duration : 250;\n\n  }\n\n  if ( PointerInteraction ) PinchRotate.__proto__ = PointerInteraction;\n  PinchRotate.prototype = Object.create( PointerInteraction && PointerInteraction.prototype );\n  PinchRotate.prototype.constructor = PinchRotate;\n\n  /**\n   * @inheritDoc\n   */\n  PinchRotate.prototype.handleDragEvent = function handleDragEvent (mapBrowserEvent) {\n    var rotationDelta = 0.0;\n\n    var touch0 = this.targetPointers[0];\n    var touch1 = this.targetPointers[1];\n\n    // angle between touches\n    var angle = Math.atan2(\n      touch1.clientY - touch0.clientY,\n      touch1.clientX - touch0.clientX);\n\n    if (this.lastAngle_ !== undefined) {\n      var delta = angle - this.lastAngle_;\n      this.rotationDelta_ += delta;\n      if (!this.rotating_ &&\n          Math.abs(this.rotationDelta_) > this.threshold_) {\n        this.rotating_ = true;\n      }\n      rotationDelta = delta;\n    }\n    this.lastAngle_ = angle;\n\n    var map = mapBrowserEvent.map;\n    var view = map.getView();\n    if (view.getConstraints().rotation === disable) {\n      return;\n    }\n\n    // rotate anchor point.\n    // FIXME: should be the intersection point between the lines:\n    //     touch0,touch1 and previousTouch0,previousTouch1\n    var viewportPosition = map.getViewport().getBoundingClientRect();\n    var centroid = centroidFromPointers(this.targetPointers);\n    centroid[0] -= viewportPosition.left;\n    centroid[1] -= viewportPosition.top;\n    this.anchor_ = map.getCoordinateFromPixel(centroid);\n\n    // rotate\n    if (this.rotating_) {\n      var rotation = view.getRotation();\n      map.render();\n      rotateWithoutConstraints(view, rotation + rotationDelta, this.anchor_);\n    }\n  };\n\n  /**\n   * @inheritDoc\n   */\n  PinchRotate.prototype.handleUpEvent = function handleUpEvent (mapBrowserEvent) {\n    if (this.targetPointers.length < 2) {\n      var map = mapBrowserEvent.map;\n      var view = map.getView();\n      view.setHint(ViewHint.INTERACTING, -1);\n      if (this.rotating_) {\n        var rotation = view.getRotation();\n        rotate(view, rotation, this.anchor_, this.duration_);\n      }\n      return false;\n    } else {\n      return true;\n    }\n  };\n\n  /**\n   * @inheritDoc\n   */\n  PinchRotate.prototype.handleDownEvent = function handleDownEvent (mapBrowserEvent) {\n    if (this.targetPointers.length >= 2) {\n      var map = mapBrowserEvent.map;\n      this.anchor_ = null;\n      this.lastAngle_ = undefined;\n      this.rotating_ = false;\n      this.rotationDelta_ = 0.0;\n      if (!this.handlingDownUpSequence) {\n        map.getView().setHint(ViewHint.INTERACTING, 1);\n      }\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  return PinchRotate;\n}(PointerInteraction));\n\nexport default PinchRotate;\n\n//# sourceMappingURL=PinchRotate.js.map","/**\n * @module ol/interaction/PinchZoom\n */\nimport ViewHint from '../ViewHint.js';\nimport {FALSE} from '../functions.js';\nimport {zoom, zoomWithoutConstraints} from './Interaction.js';\nimport PointerInteraction, {centroid as centroidFromPointers} from './Pointer.js';\n\n\n/**\n * @typedef {Object} Options\n * @property {number} [duration=400] Animation duration in milliseconds.\n * @property {boolean} [constrainResolution=false] Zoom to the closest integer\n * zoom level after the pinch gesture ends.\n */\n\n\n/**\n * @classdesc\n * Allows the user to zoom the map by pinching with two fingers\n * on a touch screen.\n * @api\n */\nvar PinchZoom = /*@__PURE__*/(function (PointerInteraction) {\n  function PinchZoom(opt_options) {\n\n    var options = opt_options ? opt_options : {};\n\n    var pointerOptions = /** @type {import(\"./Pointer.js\").Options} */ (options);\n\n    if (!pointerOptions.stopDown) {\n      pointerOptions.stopDown = FALSE;\n    }\n\n    PointerInteraction.call(this, pointerOptions);\n\n    /**\n     * @private\n     * @type {boolean}\n     */\n    this.constrainResolution_ = options.constrainResolution || false;\n\n    /**\n     * @private\n     * @type {import(\"../coordinate.js\").Coordinate}\n     */\n    this.anchor_ = null;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.duration_ = options.duration !== undefined ? options.duration : 400;\n\n    /**\n     * @private\n     * @type {number|undefined}\n     */\n    this.lastDistance_ = undefined;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.lastScaleDelta_ = 1;\n\n  }\n\n  if ( PointerInteraction ) PinchZoom.__proto__ = PointerInteraction;\n  PinchZoom.prototype = Object.create( PointerInteraction && PointerInteraction.prototype );\n  PinchZoom.prototype.constructor = PinchZoom;\n\n  /**\n   * @inheritDoc\n   */\n  PinchZoom.prototype.handleDragEvent = function handleDragEvent (mapBrowserEvent) {\n    var scaleDelta = 1.0;\n\n    var touch0 = this.targetPointers[0];\n    var touch1 = this.targetPointers[1];\n    var dx = touch0.clientX - touch1.clientX;\n    var dy = touch0.clientY - touch1.clientY;\n\n    // distance between touches\n    var distance = Math.sqrt(dx * dx + dy * dy);\n\n    if (this.lastDistance_ !== undefined) {\n      scaleDelta = this.lastDistance_ / distance;\n    }\n    this.lastDistance_ = distance;\n\n\n    var map = mapBrowserEvent.map;\n    var view = map.getView();\n    var resolution = view.getResolution();\n    var maxResolution = view.getMaxResolution();\n    var minResolution = view.getMinResolution();\n    var newResolution = resolution * scaleDelta;\n    if (newResolution > maxResolution) {\n      scaleDelta = maxResolution / resolution;\n      newResolution = maxResolution;\n    } else if (newResolution < minResolution) {\n      scaleDelta = minResolution / resolution;\n      newResolution = minResolution;\n    }\n\n    if (scaleDelta != 1.0) {\n      this.lastScaleDelta_ = scaleDelta;\n    }\n\n    // scale anchor point.\n    var viewportPosition = map.getViewport().getBoundingClientRect();\n    var centroid = centroidFromPointers(this.targetPointers);\n    centroid[0] -= viewportPosition.left;\n    centroid[1] -= viewportPosition.top;\n    this.anchor_ = map.getCoordinateFromPixel(centroid);\n\n    // scale, bypass the resolution constraint\n    map.render();\n    zoomWithoutConstraints(view, newResolution, this.anchor_);\n  };\n\n  /**\n   * @inheritDoc\n   */\n  PinchZoom.prototype.handleUpEvent = function handleUpEvent (mapBrowserEvent) {\n    if (this.targetPointers.length < 2) {\n      var map = mapBrowserEvent.map;\n      var view = map.getView();\n      view.setHint(ViewHint.INTERACTING, -1);\n      var resolution = view.getResolution();\n      if (this.constrainResolution_ ||\n          resolution < view.getMinResolution() ||\n          resolution > view.getMaxResolution()) {\n        // Zoom to final resolution, with an animation, and provide a\n        // direction not to zoom out/in if user was pinching in/out.\n        // Direction is > 0 if pinching out, and < 0 if pinching in.\n        var direction = this.lastScaleDelta_ - 1;\n        zoom(view, resolution, this.anchor_, this.duration_, direction);\n      }\n      return false;\n    } else {\n      return true;\n    }\n  };\n\n  /**\n   * @inheritDoc\n   */\n  PinchZoom.prototype.handleDownEvent = function handleDownEvent (mapBrowserEvent) {\n    if (this.targetPointers.length >= 2) {\n      var map = mapBrowserEvent.map;\n      this.anchor_ = null;\n      this.lastDistance_ = undefined;\n      this.lastScaleDelta_ = 1;\n      if (!this.handlingDownUpSequence) {\n        map.getView().setHint(ViewHint.INTERACTING, 1);\n      }\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  return PinchZoom;\n}(PointerInteraction));\n\nexport default PinchZoom;\n\n//# sourceMappingURL=PinchZoom.js.map","/**\n * @module ol/interaction\n */\nimport Collection from './Collection.js';\nimport Kinetic from './Kinetic.js';\nimport DoubleClickZoom from './interaction/DoubleClickZoom.js';\nimport DragPan from './interaction/DragPan.js';\nimport DragRotate from './interaction/DragRotate.js';\nimport DragZoom from './interaction/DragZoom.js';\nimport KeyboardPan from './interaction/KeyboardPan.js';\nimport KeyboardZoom from './interaction/KeyboardZoom.js';\nimport MouseWheelZoom from './interaction/MouseWheelZoom.js';\nimport PinchRotate from './interaction/PinchRotate.js';\nimport PinchZoom from './interaction/PinchZoom.js';\nimport {focus} from './events/condition.js';\n\nexport {default as DoubleClickZoom} from './interaction/DoubleClickZoom.js';\nexport {default as DragAndDrop} from './interaction/DragAndDrop.js';\nexport {default as DragBox} from './interaction/DragBox.js';\nexport {default as DragPan} from './interaction/DragPan.js';\nexport {default as DragRotate} from './interaction/DragRotate.js';\nexport {default as DragRotateAndZoom} from './interaction/DragRotateAndZoom.js';\nexport {default as DragZoom} from './interaction/DragZoom.js';\nexport {default as Draw} from './interaction/Draw.js';\nexport {default as Extent} from './interaction/Extent.js';\nexport {default as Interaction} from './interaction/Interaction.js';\nexport {default as KeyboardPan} from './interaction/KeyboardPan.js';\nexport {default as KeyboardZoom} from './interaction/KeyboardZoom.js';\nexport {default as Modify} from './interaction/Modify.js';\nexport {default as MouseWheelZoom} from './interaction/MouseWheelZoom.js';\nexport {default as PinchRotate} from './interaction/PinchRotate.js';\nexport {default as PinchZoom} from './interaction/PinchZoom.js';\nexport {default as Pointer} from './interaction/Pointer.js';\nexport {default as Select} from './interaction/Select.js';\nexport {default as Snap} from './interaction/Snap.js';\nexport {default as Translate} from './interaction/Translate.js';\n\n\n/**\n * @typedef {Object} DefaultsOptions\n * @property {boolean} [altShiftDragRotate=true] Whether Alt-Shift-drag rotate is\n * desired.\n * @property {boolean} [onFocusOnly=false] Interact only when the map has the\n * focus. This affects the `MouseWheelZoom` and `DragPan` interactions and is\n * useful when page scroll is desired for maps that do not have the browser's\n * focus.\n * @property {boolean} [constrainResolution=false] Zoom to the closest integer\n * zoom level after the wheel/trackpad or pinch gesture ends.\n * @property {boolean} [doubleClickZoom=true] Whether double click zoom is\n * desired.\n * @property {boolean} [keyboard=true] Whether keyboard interaction is desired.\n * @property {boolean} [mouseWheelZoom=true] Whether mousewheel zoom is desired.\n * @property {boolean} [shiftDragZoom=true] Whether Shift-drag zoom is desired.\n * @property {boolean} [dragPan=true] Whether drag pan is desired.\n * @property {boolean} [pinchRotate=true] Whether pinch rotate is desired.\n * @property {boolean} [pinchZoom=true] Whether pinch zoom is desired.\n * @property {number} [zoomDelta] Zoom level delta when using keyboard or\n * mousewheel zoom.\n * @property {number} [zoomDuration] Duration of the zoom animation in\n * milliseconds.\n */\n\n\n/**\n * Set of interactions included in maps by default. Specific interactions can be\n * excluded by setting the appropriate option to false in the constructor\n * options, but the order of the interactions is fixed.  If you want to specify\n * a different order for interactions, you will need to create your own\n * {@link module:ol/interaction/Interaction} instances and insert\n * them into a {@link module:ol/Collection} in the order you want\n * before creating your {@link module:ol/Map~Map} instance. The default set of\n * interactions, in sequence, is:\n * * {@link module:ol/interaction/DragRotate~DragRotate}\n * * {@link module:ol/interaction/DoubleClickZoom~DoubleClickZoom}\n * * {@link module:ol/interaction/DragPan~DragPan}\n * * {@link module:ol/interaction/PinchRotate~PinchRotate}\n * * {@link module:ol/interaction/PinchZoom~PinchZoom}\n * * {@link module:ol/interaction/KeyboardPan~KeyboardPan}\n * * {@link module:ol/interaction/KeyboardZoom~KeyboardZoom}\n * * {@link module:ol/interaction/MouseWheelZoom~MouseWheelZoom}\n * * {@link module:ol/interaction/DragZoom~DragZoom}\n *\n * @param {DefaultsOptions=} opt_options Defaults options.\n * @return {import(\"./Collection.js\").default<import(\"./interaction/Interaction.js\").default>}\n * A collection of interactions to be used with the {@link module:ol/Map~Map}\n * constructor's `interactions` option.\n * @api\n */\nexport function defaults(opt_options) {\n\n  var options = opt_options ? opt_options : {};\n\n  var interactions = new Collection();\n\n  var kinetic = new Kinetic(-0.005, 0.05, 100);\n\n  var altShiftDragRotate = options.altShiftDragRotate !== undefined ?\n    options.altShiftDragRotate : true;\n  if (altShiftDragRotate) {\n    interactions.push(new DragRotate());\n  }\n\n  var doubleClickZoom = options.doubleClickZoom !== undefined ?\n    options.doubleClickZoom : true;\n  if (doubleClickZoom) {\n    interactions.push(new DoubleClickZoom({\n      delta: options.zoomDelta,\n      duration: options.zoomDuration\n    }));\n  }\n\n  var dragPan = options.dragPan !== undefined ? options.dragPan : true;\n  if (dragPan) {\n    interactions.push(new DragPan({\n      condition: options.onFocusOnly ? focus : undefined,\n      kinetic: kinetic\n    }));\n  }\n\n  var pinchRotate = options.pinchRotate !== undefined ? options.pinchRotate :\n    true;\n  if (pinchRotate) {\n    interactions.push(new PinchRotate());\n  }\n\n  var pinchZoom = options.pinchZoom !== undefined ? options.pinchZoom : true;\n  if (pinchZoom) {\n    interactions.push(new PinchZoom({\n      constrainResolution: options.constrainResolution,\n      duration: options.zoomDuration\n    }));\n  }\n\n  var keyboard = options.keyboard !== undefined ? options.keyboard : true;\n  if (keyboard) {\n    interactions.push(new KeyboardPan());\n    interactions.push(new KeyboardZoom({\n      delta: options.zoomDelta,\n      duration: options.zoomDuration\n    }));\n  }\n\n  var mouseWheelZoom = options.mouseWheelZoom !== undefined ?\n    options.mouseWheelZoom : true;\n  if (mouseWheelZoom) {\n    interactions.push(new MouseWheelZoom({\n      condition: options.onFocusOnly ? focus : undefined,\n      constrainResolution: options.constrainResolution,\n      duration: options.zoomDuration\n    }));\n  }\n\n  var shiftDragZoom = options.shiftDragZoom !== undefined ?\n    options.shiftDragZoom : true;\n  if (shiftDragZoom) {\n    interactions.push(new DragZoom({\n      duration: options.zoomDuration\n    }));\n  }\n\n  return interactions;\n\n}\n\n//# sourceMappingURL=interaction.js.map","/**\n * @module ol/layer/Vector\n */\nimport LayerType from '../LayerType.js';\nimport Layer from './Layer.js';\nimport VectorRenderType from './VectorRenderType.js';\nimport {assign} from '../obj.js';\nimport {createDefaultStyle, toFunction as toStyleFunction} from '../style/Style.js';\n\n\n/**\n * @typedef {Object} Options\n * @property {number} [opacity=1] Opacity (0, 1).\n * @property {boolean} [visible=true] Visibility.\n * @property {import(\"../extent.js\").Extent} [extent] The bounding extent for layer rendering.  The layer will not be\n * rendered outside of this extent.\n * @property {number} [zIndex] The z-index for layer rendering.  At rendering time, the layers\n * will be ordered, first by Z-index and then by position. When `undefined`, a `zIndex` of 0 is assumed\n * for layers that are added to the map's `layers` collection, or `Infinity` when the layer's `setMap()`\n * method was used.\n * @property {number} [minResolution] The minimum resolution (inclusive) at which this layer will be\n * visible.\n * @property {number} [maxResolution] The maximum resolution (exclusive) below which this layer will\n * be visible.\n * @property {import(\"../render.js\").OrderFunction} [renderOrder] Render order. Function to be used when sorting\n * features before rendering. By default features are drawn in the order that they are created. Use\n * `null` to avoid the sort, but get an undefined draw order.\n * @property {number} [renderBuffer=100] The buffer in pixels around the viewport extent used by the\n * renderer when getting features from the vector source for the rendering or hit-detection.\n * Recommended value: the size of the largest symbol, line width or label.\n * @property {import(\"./VectorRenderType.js\").default|string} [renderMode='vector'] Render mode for vector layers:\n *  * `'image'`: Vector layers are rendered as images. Great performance, but point symbols and\n *    texts are always rotated with the view and pixels are scaled during zoom animations.\n *  * `'vector'`: Vector layers are rendered as vectors. Most accurate rendering even during\n *    animations, but slower performance.\n * @property {import(\"../source/Vector.js\").default} [source] Source.\n * @property {import(\"../PluggableMap.js\").default} [map] Sets the layer as overlay on a map. The map will not manage\n * this layer in its layers collection, and the layer will be rendered on top. This is useful for\n * temporary layers. The standard way to add a layer to a map and have it managed by the map is to\n * use {@link module:ol/Map#addLayer}.\n * @property {boolean} [declutter=false] Declutter images and text. Decluttering is applied to all\n * image and text styles, and the priority is defined by the z-index of the style. Lower z-index\n * means higher priority.\n * @property {import(\"../style/Style.js\").StyleLike} [style] Layer style. See\n * {@link module:ol/style} for default style which will be used if this is not defined.\n * @property {boolean} [updateWhileAnimating=false] When set to `true` and `renderMode`\n * is `vector`, feature batches will be recreated during animations. This means that no\n * vectors will be shown clipped, but the setting will have a performance impact for large\n * amounts of vector data. When set to `false`, batches will be recreated when no animation\n * is active.\n * @property {boolean} [updateWhileInteracting=false] When set to `true` and `renderMode`\n * is `vector`, feature batches will be recreated during interactions. See also\n * `updateWhileAnimating`.\n */\n\n\n/**\n * @enum {string}\n * @private\n */\nvar Property = {\n  RENDER_ORDER: 'renderOrder'\n};\n\n\n/**\n * @classdesc\n * Vector data that is rendered client-side.\n * Note that any property set in the options is set as a {@link module:ol/Object~BaseObject}\n * property on the layer object; for example, setting `title: 'My Title'` in the\n * options means that `title` is observable, and has get/set accessors.\n *\n * @api\n */\nvar VectorLayer = /*@__PURE__*/(function (Layer) {\n  function VectorLayer(opt_options) {\n    var options = opt_options ?\n      opt_options : /** @type {Options} */ ({});\n\n    var baseOptions = assign({}, options);\n\n    delete baseOptions.style;\n    delete baseOptions.renderBuffer;\n    delete baseOptions.updateWhileAnimating;\n    delete baseOptions.updateWhileInteracting;\n    Layer.call(this, baseOptions);\n\n    /**\n    * @private\n    * @type {boolean}\n    */\n    this.declutter_ = options.declutter !== undefined ? options.declutter : false;\n\n    /**\n    * @type {number}\n    * @private\n    */\n    this.renderBuffer_ = options.renderBuffer !== undefined ?\n      options.renderBuffer : 100;\n\n    /**\n    * User provided style.\n    * @type {import(\"../style/Style.js\").StyleLike}\n    * @private\n    */\n    this.style_ = null;\n\n    /**\n    * Style function for use within the library.\n    * @type {import(\"../style/Style.js\").StyleFunction|undefined}\n    * @private\n    */\n    this.styleFunction_ = undefined;\n\n    this.setStyle(options.style);\n\n    /**\n    * @type {boolean}\n    * @private\n    */\n    this.updateWhileAnimating_ = options.updateWhileAnimating !== undefined ?\n      options.updateWhileAnimating : false;\n\n    /**\n    * @type {boolean}\n    * @private\n    */\n    this.updateWhileInteracting_ = options.updateWhileInteracting !== undefined ?\n      options.updateWhileInteracting : false;\n\n    /**\n    * @private\n    * @type {import(\"./VectorTileRenderType.js\").default|string}\n    */\n    this.renderMode_ = options.renderMode || VectorRenderType.VECTOR;\n\n    /**\n    * The layer type.\n    * @protected\n    * @type {import(\"../LayerType.js\").default}\n    */\n    this.type = LayerType.VECTOR;\n\n  }\n\n  if ( Layer ) VectorLayer.__proto__ = Layer;\n  VectorLayer.prototype = Object.create( Layer && Layer.prototype );\n  VectorLayer.prototype.constructor = VectorLayer;\n\n  /**\n  * @return {boolean} Declutter.\n  */\n  VectorLayer.prototype.getDeclutter = function getDeclutter () {\n    return this.declutter_;\n  };\n\n  /**\n  * @param {boolean} declutter Declutter.\n  */\n  VectorLayer.prototype.setDeclutter = function setDeclutter (declutter) {\n    this.declutter_ = declutter;\n  };\n\n  /**\n  * @return {number|undefined} Render buffer.\n  */\n  VectorLayer.prototype.getRenderBuffer = function getRenderBuffer () {\n    return this.renderBuffer_;\n  };\n\n  /**\n  * @return {function(import(\"../Feature.js\").default, import(\"../Feature.js\").default): number|null|undefined} Render\n  *     order.\n  */\n  VectorLayer.prototype.getRenderOrder = function getRenderOrder () {\n    return (\n    /** @type {import(\"../render.js\").OrderFunction|null|undefined} */ (this.get(Property.RENDER_ORDER))\n    );\n  };\n\n  /**\n  * Get the style for features.  This returns whatever was passed to the `style`\n  * option at construction or to the `setStyle` method.\n  * @return {import(\"../style/Style.js\").StyleLike}\n  *     Layer style.\n  * @api\n  */\n  VectorLayer.prototype.getStyle = function getStyle () {\n    return this.style_;\n  };\n\n  /**\n  * Get the style function.\n  * @return {import(\"../style/Style.js\").StyleFunction|undefined} Layer style function.\n  * @api\n  */\n  VectorLayer.prototype.getStyleFunction = function getStyleFunction () {\n    return this.styleFunction_;\n  };\n\n  /**\n  * @return {boolean} Whether the rendered layer should be updated while\n  *     animating.\n  */\n  VectorLayer.prototype.getUpdateWhileAnimating = function getUpdateWhileAnimating () {\n    return this.updateWhileAnimating_;\n  };\n\n  /**\n  * @return {boolean} Whether the rendered layer should be updated while\n  *     interacting.\n  */\n  VectorLayer.prototype.getUpdateWhileInteracting = function getUpdateWhileInteracting () {\n    return this.updateWhileInteracting_;\n  };\n\n  /**\n  * @param {import(\"../render.js\").OrderFunction|null|undefined} renderOrder\n  *     Render order.\n  */\n  VectorLayer.prototype.setRenderOrder = function setRenderOrder (renderOrder) {\n    this.set(Property.RENDER_ORDER, renderOrder);\n  };\n\n  /**\n  * Set the style for features.  This can be a single style object, an array\n  * of styles, or a function that takes a feature and resolution and returns\n  * an array of styles. If it is `undefined` the default style is used. If\n  * it is `null` the layer has no style (a `null` style), so only features\n  * that have their own styles will be rendered in the layer. See\n  * {@link module:ol/style} for information on the default style.\n  * @param {import(\"../style/Style.js\").default|Array<import(\"../style/Style.js\").default>|import(\"../style/Style.js\").StyleFunction|null|undefined} style Layer style.\n  * @api\n  */\n  VectorLayer.prototype.setStyle = function setStyle (style) {\n    this.style_ = style !== undefined ? style : createDefaultStyle;\n    this.styleFunction_ = style === null ?\n      undefined : toStyleFunction(this.style_);\n    this.changed();\n  };\n\n  /**\n  * @return {import(\"./VectorRenderType.js\").default|string} The render mode.\n  */\n  VectorLayer.prototype.getRenderMode = function getRenderMode () {\n    return this.renderMode_;\n  };\n\n  return VectorLayer;\n}(Layer));\n\n\n/**\n * Return the associated {@link module:ol/source/Vector vectorsource} of the layer.\n * @function\n * @return {import(\"../source/Vector.js\").default} Source.\n * @api\n */\nVectorLayer.prototype.getSource;\n\n\nexport default VectorLayer;\n\n//# sourceMappingURL=Vector.js.map","/**\n * @module ol/interaction/Pointer\n */\nimport MapBrowserEventType from '../MapBrowserEventType.js';\nimport Interaction from './Interaction.js';\nimport {getValues} from '../obj.js';\n\n\n/**\n * @typedef {Object} Options\n * @property {function(import(\"../MapBrowserPointerEvent.js\").default):boolean} [handleDownEvent]\n * Function handling \"down\" events. If the function returns `true` then a drag\n * sequence is started.\n * @property {function(import(\"../MapBrowserPointerEvent.js\").default)} [handleDragEvent]\n * Function handling \"drag\" events. This function is called on \"move\" events\n * during a drag sequence.\n * @property {function(import(\"../MapBrowserEvent.js\").default):boolean} [handleEvent]\n * Method called by the map to notify the interaction that a browser event was\n * dispatched to the map. The function may return `false` to prevent the\n * propagation of the event to other interactions in the map's interactions\n * chain.\n * @property {function(import(\"../MapBrowserPointerEvent.js\").default)} [handleMoveEvent]\n * Function handling \"move\" events. This function is called on \"move\" events,\n * also during a drag sequence (so during a drag sequence both the\n * `handleDragEvent` function and this function are called).\n * @property {function(import(\"../MapBrowserPointerEvent.js\").default):boolean} [handleUpEvent]\n *  Function handling \"up\" events. If the function returns `false` then the\n * current drag sequence is stopped.\n * @property {function(boolean):boolean} [stopDown]\n * Should the down event be propagated to other interactions, or should be\n * stopped?\n */\n\n\n/**\n * @classdesc\n * Base class that calls user-defined functions on `down`, `move` and `up`\n * events. This class also manages \"drag sequences\".\n *\n * When the `handleDownEvent` user function returns `true` a drag sequence is\n * started. During a drag sequence the `handleDragEvent` user function is\n * called on `move` events. The drag sequence ends when the `handleUpEvent`\n * user function is called and returns `false`.\n * @api\n */\nvar PointerInteraction = /*@__PURE__*/(function (Interaction) {\n  function PointerInteraction(opt_options) {\n\n    var options = opt_options ? opt_options : {};\n\n    Interaction.call(/** @type {import(\"./Interaction.js\").InteractionOptions} */ this, (options));\n\n    if (options.handleDownEvent) {\n      this.handleDownEvent = options.handleDownEvent;\n    }\n\n    if (options.handleDragEvent) {\n      this.handleDragEvent = options.handleDragEvent;\n    }\n\n    if (options.handleMoveEvent) {\n      this.handleMoveEvent = options.handleMoveEvent;\n    }\n\n    if (options.handleUpEvent) {\n      this.handleUpEvent = options.handleUpEvent;\n    }\n\n    if (options.stopDown) {\n      this.stopDown = options.stopDown;\n    }\n\n    /**\n     * @type {boolean}\n     * @protected\n     */\n    this.handlingDownUpSequence = false;\n\n    /**\n     * @type {!Object<string, import(\"../pointer/PointerEvent.js\").default>}\n     * @private\n     */\n    this.trackedPointers_ = {};\n\n    /**\n     * @type {Array<import(\"../pointer/PointerEvent.js\").default>}\n     * @protected\n     */\n    this.targetPointers = [];\n\n  }\n\n  if ( Interaction ) PointerInteraction.__proto__ = Interaction;\n  PointerInteraction.prototype = Object.create( Interaction && Interaction.prototype );\n  PointerInteraction.prototype.constructor = PointerInteraction;\n\n  /**\n   * Handle pointer down events.\n   * @param {import(\"../MapBrowserPointerEvent.js\").default} mapBrowserEvent Event.\n   * @return {boolean} If the event was consumed.\n   * @protected\n   */\n  PointerInteraction.prototype.handleDownEvent = function handleDownEvent (mapBrowserEvent) {\n    return false;\n  };\n\n  /**\n   * Handle pointer drag events.\n   * @param {import(\"../MapBrowserPointerEvent.js\").default} mapBrowserEvent Event.\n   * @protected\n   */\n  PointerInteraction.prototype.handleDragEvent = function handleDragEvent (mapBrowserEvent) {};\n\n  /**\n   * Handles the {@link module:ol/MapBrowserEvent map browser event} and may call into\n   * other functions, if event sequences like e.g. 'drag' or 'down-up' etc. are\n   * detected.\n   * @override\n   * @api\n   */\n  PointerInteraction.prototype.handleEvent = function handleEvent (mapBrowserEvent) {\n    if (!(/** @type {import(\"../MapBrowserPointerEvent.js\").default} */ (mapBrowserEvent).pointerEvent)) {\n      return true;\n    }\n\n    var stopEvent = false;\n    this.updateTrackedPointers_(mapBrowserEvent);\n    if (this.handlingDownUpSequence) {\n      if (mapBrowserEvent.type == MapBrowserEventType.POINTERDRAG) {\n        this.handleDragEvent(mapBrowserEvent);\n      } else if (mapBrowserEvent.type == MapBrowserEventType.POINTERUP) {\n        var handledUp = this.handleUpEvent(mapBrowserEvent);\n        this.handlingDownUpSequence = handledUp && this.targetPointers.length > 0;\n      }\n    } else {\n      if (mapBrowserEvent.type == MapBrowserEventType.POINTERDOWN) {\n        var handled = this.handleDownEvent(mapBrowserEvent);\n        if (handled) {\n          mapBrowserEvent.preventDefault();\n        }\n        this.handlingDownUpSequence = handled;\n        stopEvent = this.stopDown(handled);\n      } else if (mapBrowserEvent.type == MapBrowserEventType.POINTERMOVE) {\n        this.handleMoveEvent(mapBrowserEvent);\n      }\n    }\n    return !stopEvent;\n  };\n\n  /**\n   * Handle pointer move events.\n   * @param {import(\"../MapBrowserPointerEvent.js\").default} mapBrowserEvent Event.\n   * @protected\n   */\n  PointerInteraction.prototype.handleMoveEvent = function handleMoveEvent (mapBrowserEvent) {};\n\n  /**\n   * Handle pointer up events.\n   * @param {import(\"../MapBrowserPointerEvent.js\").default} mapBrowserEvent Event.\n   * @return {boolean} If the event was consumed.\n   * @protected\n   */\n  PointerInteraction.prototype.handleUpEvent = function handleUpEvent (mapBrowserEvent) {\n    return false;\n  };\n\n  /**\n   * This function is used to determine if \"down\" events should be propagated\n   * to other interactions or should be stopped.\n   * @param {boolean} handled Was the event handled by the interaction?\n   * @return {boolean} Should the `down` event be stopped?\n   */\n  PointerInteraction.prototype.stopDown = function stopDown (handled) {\n    return handled;\n  };\n\n  /**\n   * @param {import(\"../MapBrowserPointerEvent.js\").default} mapBrowserEvent Event.\n   * @private\n   */\n  PointerInteraction.prototype.updateTrackedPointers_ = function updateTrackedPointers_ (mapBrowserEvent) {\n    if (isPointerDraggingEvent(mapBrowserEvent)) {\n      var event = mapBrowserEvent.pointerEvent;\n\n      var id = event.pointerId.toString();\n      if (mapBrowserEvent.type == MapBrowserEventType.POINTERUP) {\n        delete this.trackedPointers_[id];\n      } else if (mapBrowserEvent.type ==\n          MapBrowserEventType.POINTERDOWN) {\n        this.trackedPointers_[id] = event;\n      } else if (id in this.trackedPointers_) {\n        // update only when there was a pointerdown event for this pointer\n        this.trackedPointers_[id] = event;\n      }\n      this.targetPointers = getValues(this.trackedPointers_);\n    }\n  };\n\n  return PointerInteraction;\n}(Interaction));\n\n\n/**\n * @param {Array<import(\"../pointer/PointerEvent.js\").default>} pointerEvents List of events.\n * @return {import(\"../pixel.js\").Pixel} Centroid pixel.\n */\nexport function centroid(pointerEvents) {\n  var length = pointerEvents.length;\n  var clientX = 0;\n  var clientY = 0;\n  for (var i = 0; i < length; i++) {\n    clientX += pointerEvents[i].clientX;\n    clientY += pointerEvents[i].clientY;\n  }\n  return [clientX / length, clientY / length];\n}\n\n\n/**\n * @param {import(\"../MapBrowserPointerEvent.js\").default} mapBrowserEvent Event.\n * @return {boolean} Whether the event is a pointerdown, pointerdrag\n *     or pointerup event.\n */\nfunction isPointerDraggingEvent(mapBrowserEvent) {\n  var type = mapBrowserEvent.type;\n  return type === MapBrowserEventType.POINTERDOWN ||\n    type === MapBrowserEventType.POINTERDRAG ||\n    type === MapBrowserEventType.POINTERUP;\n}\n\n\nexport default PointerInteraction;\n\n//# sourceMappingURL=Pointer.js.map","/**\n * @module ol/interaction/Interaction\n */\nimport BaseObject from '../Object.js';\nimport {easeOut, linear} from '../easing.js';\nimport InteractionProperty from './Property.js';\nimport {clamp} from '../math.js';\n\n\n/**\n * Object literal with config options for interactions.\n * @typedef {Object} InteractionOptions\n * @property {function(import(\"../MapBrowserEvent.js\").default):boolean} handleEvent\n * Method called by the map to notify the interaction that a browser event was\n * dispatched to the map. If the function returns a falsy value, propagation of\n * the event to other interactions in the map's interactions chain will be\n * prevented (this includes functions with no explicit return).\n */\n\n\n/**\n * @classdesc\n * Abstract base class; normally only used for creating subclasses and not\n * instantiated in apps.\n * User actions that change the state of the map. Some are similar to controls,\n * but are not associated with a DOM element.\n * For example, {@link module:ol/interaction/KeyboardZoom~KeyboardZoom} is\n * functionally the same as {@link module:ol/control/Zoom~Zoom}, but triggered\n * by a keyboard event not a button element event.\n * Although interactions do not have a DOM element, some of them do render\n * vectors and so are visible on the screen.\n * @api\n */\nvar Interaction = /*@__PURE__*/(function (BaseObject) {\n  function Interaction(options) {\n    BaseObject.call(this);\n\n    if (options.handleEvent) {\n      this.handleEvent = options.handleEvent;\n    }\n\n    /**\n     * @private\n     * @type {import(\"../PluggableMap.js\").default}\n     */\n    this.map_ = null;\n\n    this.setActive(true);\n  }\n\n  if ( BaseObject ) Interaction.__proto__ = BaseObject;\n  Interaction.prototype = Object.create( BaseObject && BaseObject.prototype );\n  Interaction.prototype.constructor = Interaction;\n\n  /**\n   * Return whether the interaction is currently active.\n   * @return {boolean} `true` if the interaction is active, `false` otherwise.\n   * @observable\n   * @api\n   */\n  Interaction.prototype.getActive = function getActive () {\n    return /** @type {boolean} */ (this.get(InteractionProperty.ACTIVE));\n  };\n\n  /**\n   * Get the map associated with this interaction.\n   * @return {import(\"../PluggableMap.js\").default} Map.\n   * @api\n   */\n  Interaction.prototype.getMap = function getMap () {\n    return this.map_;\n  };\n\n  /**\n   * Handles the {@link module:ol/MapBrowserEvent map browser event}.\n   * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n   * @return {boolean} `false` to stop event propagation.\n   * @api\n   */\n  Interaction.prototype.handleEvent = function handleEvent (mapBrowserEvent) {\n    return true;\n  };\n\n  /**\n   * Activate or deactivate the interaction.\n   * @param {boolean} active Active.\n   * @observable\n   * @api\n   */\n  Interaction.prototype.setActive = function setActive (active) {\n    this.set(InteractionProperty.ACTIVE, active);\n  };\n\n  /**\n   * Remove the interaction from its current map and attach it to the new map.\n   * Subclasses may set up event handlers to get notified about changes to\n   * the map here.\n   * @param {import(\"../PluggableMap.js\").default} map Map.\n   */\n  Interaction.prototype.setMap = function setMap (map) {\n    this.map_ = map;\n  };\n\n  return Interaction;\n}(BaseObject));\n\n\n/**\n * @param {import(\"../View.js\").default} view View.\n * @param {import(\"../coordinate.js\").Coordinate} delta Delta.\n * @param {number=} opt_duration Duration.\n */\nexport function pan(view, delta, opt_duration) {\n  var currentCenter = view.getCenter();\n  if (currentCenter) {\n    var center = view.constrainCenter(\n      [currentCenter[0] + delta[0], currentCenter[1] + delta[1]]);\n    if (opt_duration) {\n      view.animate({\n        duration: opt_duration,\n        easing: linear,\n        center: center\n      });\n    } else {\n      view.setCenter(center);\n    }\n  }\n}\n\n\n/**\n * @param {import(\"../View.js\").default} view View.\n * @param {number|undefined} rotation Rotation.\n * @param {import(\"../coordinate.js\").Coordinate=} opt_anchor Anchor coordinate.\n * @param {number=} opt_duration Duration.\n */\nexport function rotate(view, rotation, opt_anchor, opt_duration) {\n  rotation = view.constrainRotation(rotation, 0);\n  rotateWithoutConstraints(view, rotation, opt_anchor, opt_duration);\n}\n\n\n/**\n * @param {import(\"../View.js\").default} view View.\n * @param {number|undefined} rotation Rotation.\n * @param {import(\"../coordinate.js\").Coordinate=} opt_anchor Anchor coordinate.\n * @param {number=} opt_duration Duration.\n */\nexport function rotateWithoutConstraints(view, rotation, opt_anchor, opt_duration) {\n  if (rotation !== undefined) {\n    var currentRotation = view.getRotation();\n    var currentCenter = view.getCenter();\n    if (currentRotation !== undefined && currentCenter && opt_duration > 0) {\n      view.animate({\n        rotation: rotation,\n        anchor: opt_anchor,\n        duration: opt_duration,\n        easing: easeOut\n      });\n    } else {\n      view.rotate(rotation, opt_anchor);\n    }\n  }\n}\n\n\n/**\n * @param {import(\"../View.js\").default} view View.\n * @param {number|undefined} resolution Resolution to go to.\n * @param {import(\"../coordinate.js\").Coordinate=} opt_anchor Anchor coordinate.\n * @param {number=} opt_duration Duration.\n * @param {number=} opt_direction Zooming direction; > 0 indicates\n *     zooming out, in which case the constraints system will select\n *     the largest nearest resolution; < 0 indicates zooming in, in\n *     which case the constraints system will select the smallest\n *     nearest resolution; == 0 indicates that the zooming direction\n *     is unknown/not relevant, in which case the constraints system\n *     will select the nearest resolution. If not defined 0 is\n *     assumed.\n */\nexport function zoom(view, resolution, opt_anchor, opt_duration, opt_direction) {\n  resolution = view.constrainResolution(resolution, 0, opt_direction);\n  zoomWithoutConstraints(view, resolution, opt_anchor, opt_duration);\n}\n\n\n/**\n * @param {import(\"../View.js\").default} view View.\n * @param {number} delta Delta from previous zoom level.\n * @param {import(\"../coordinate.js\").Coordinate=} opt_anchor Anchor coordinate.\n * @param {number=} opt_duration Duration.\n */\nexport function zoomByDelta(view, delta, opt_anchor, opt_duration) {\n  var currentResolution = view.getResolution();\n  var resolution = view.constrainResolution(currentResolution, delta, 0);\n\n  if (resolution !== undefined) {\n    var resolutions = view.getResolutions();\n    resolution = clamp(\n      resolution,\n      view.getMinResolution() || resolutions[resolutions.length - 1],\n      view.getMaxResolution() || resolutions[0]);\n  }\n\n  // If we have a constraint on center, we need to change the anchor so that the\n  // new center is within the extent. We first calculate the new center, apply\n  // the constraint to it, and then calculate back the anchor\n  if (opt_anchor && resolution !== undefined && resolution !== currentResolution) {\n    var currentCenter = view.getCenter();\n    var center = view.calculateCenterZoom(resolution, opt_anchor);\n    center = view.constrainCenter(center);\n\n    opt_anchor = [\n      (resolution * currentCenter[0] - currentResolution * center[0]) /\n          (resolution - currentResolution),\n      (resolution * currentCenter[1] - currentResolution * center[1]) /\n          (resolution - currentResolution)\n    ];\n  }\n\n  zoomWithoutConstraints(view, resolution, opt_anchor, opt_duration);\n}\n\n\n/**\n * @param {import(\"../View.js\").default} view View.\n * @param {number|undefined} resolution Resolution to go to.\n * @param {import(\"../coordinate.js\").Coordinate=} opt_anchor Anchor coordinate.\n * @param {number=} opt_duration Duration.\n */\nexport function zoomWithoutConstraints(view, resolution, opt_anchor, opt_duration) {\n  if (resolution) {\n    var currentResolution = view.getResolution();\n    var currentCenter = view.getCenter();\n    if (currentResolution !== undefined && currentCenter &&\n        resolution !== currentResolution && opt_duration) {\n      view.animate({\n        resolution: resolution,\n        anchor: opt_anchor,\n        duration: opt_duration,\n        easing: easeOut\n      });\n    } else {\n      if (opt_anchor) {\n        var center = view.calculateCenterZoom(resolution, opt_anchor);\n        view.setCenter(center);\n      }\n      view.setResolution(resolution);\n    }\n  }\n}\n\nexport default Interaction;\n\n//# sourceMappingURL=Interaction.js.map","/**\n * @module ol/layer/Heatmap\n */\nimport {listen} from '../events.js';\nimport {getChangeEventType} from '../Object.js';\nimport {createCanvasContext2D} from '../dom.js';\nimport VectorLayer from './Vector.js';\nimport {clamp} from '../math.js';\nimport {assign} from '../obj.js';\nimport RenderEventType from '../render/EventType.js';\nimport Icon from '../style/Icon.js';\nimport Style from '../style/Style.js';\n\n\n/**\n * @typedef {Object} Options\n * @property {number} [opacity=1] Opacity (0, 1).\n * @property {boolean} [visible=true] Visibility.\n * @property {import(\"../extent.js\").Extent} [extent] The bounding extent for layer rendering.  The layer will not be\n * rendered outside of this extent.\n * @property {number} [zIndex] The z-index for layer rendering.  At rendering time, the layers\n * will be ordered, first by Z-index and then by position. When `undefined`, a `zIndex` of 0 is assumed\n * for layers that are added to the map's `layers` collection, or `Infinity` when the layer's `setMap()`\n * method was used.\n * @property {number} [minResolution] The minimum resolution (inclusive) at which this layer will be\n * visible.\n * @property {number} [maxResolution] The maximum resolution (exclusive) below which this layer will\n * be visible.\n * @property {Array<string>} [gradient=['#00f', '#0ff', '#0f0', '#ff0', '#f00']] The color gradient\n * of the heatmap, specified as an array of CSS color strings.\n * @property {number} [radius=8] Radius size in pixels.\n * @property {number} [blur=15] Blur size in pixels.\n * @property {number} [shadow=250] Shadow size in pixels.\n * @property {string|function(import(\"../Feature.js\").default):number} [weight='weight'] The feature\n * attribute to use for the weight or a function that returns a weight from a feature. Weight values\n * should range from 0 to 1 (and values outside will be clamped to that range).\n * @property {import(\"./VectorRenderType.js\").default|string} [renderMode='vector'] Render mode for vector layers:\n *  * `'image'`: Vector layers are rendered as images. Great performance, but point symbols and\n *    texts are always rotated with the view and pixels are scaled during zoom animations.\n *  * `'vector'`: Vector layers are rendered as vectors. Most accurate rendering even during\n *    animations, but slower performance.\n * @property {import(\"../source/Vector.js\").default} [source] Source.\n */\n\n\n/**\n * @enum {string}\n * @private\n */\nvar Property = {\n  BLUR: 'blur',\n  GRADIENT: 'gradient',\n  RADIUS: 'radius'\n};\n\n\n/**\n * @const\n * @type {Array<string>}\n */\nvar DEFAULT_GRADIENT = ['#00f', '#0ff', '#0f0', '#ff0', '#f00'];\n\n\n/**\n * @classdesc\n * Layer for rendering vector data as a heatmap.\n * Note that any property set in the options is set as a {@link module:ol/Object~BaseObject}\n * property on the layer object; for example, setting `title: 'My Title'` in the\n * options means that `title` is observable, and has get/set accessors.\n *\n * @fires import(\"../render/Event.js\").RenderEvent\n * @api\n */\nvar Heatmap = /*@__PURE__*/(function (VectorLayer) {\n  function Heatmap(opt_options) {\n    var options = opt_options ? opt_options : {};\n\n    var baseOptions = assign({}, options);\n\n    delete baseOptions.gradient;\n    delete baseOptions.radius;\n    delete baseOptions.blur;\n    delete baseOptions.shadow;\n    delete baseOptions.weight;\n    VectorLayer.call(this, baseOptions);\n\n    /**\n     * @private\n     * @type {Uint8ClampedArray}\n     */\n    this.gradient_ = null;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.shadow_ = options.shadow !== undefined ? options.shadow : 250;\n\n    /**\n     * @private\n     * @type {string|undefined}\n     */\n    this.circleImage_ = undefined;\n\n    /**\n     * @private\n     * @type {Array<Array<import(\"../style/Style.js\").default>>}\n     */\n    this.styleCache_ = null;\n\n    listen(this,\n      getChangeEventType(Property.GRADIENT),\n      this.handleGradientChanged_, this);\n\n    this.setGradient(options.gradient ? options.gradient : DEFAULT_GRADIENT);\n\n    this.setBlur(options.blur !== undefined ? options.blur : 15);\n\n    this.setRadius(options.radius !== undefined ? options.radius : 8);\n\n    listen(this,\n      getChangeEventType(Property.BLUR),\n      this.handleStyleChanged_, this);\n    listen(this,\n      getChangeEventType(Property.RADIUS),\n      this.handleStyleChanged_, this);\n\n    this.handleStyleChanged_();\n\n    var weight = options.weight ? options.weight : 'weight';\n    var weightFunction;\n    if (typeof weight === 'string') {\n      weightFunction = function(feature) {\n        return feature.get(weight);\n      };\n    } else {\n      weightFunction = weight;\n    }\n\n    this.setStyle(function(feature, resolution) {\n      var weight = weightFunction(feature);\n      var opacity = weight !== undefined ? clamp(weight, 0, 1) : 1;\n      // cast to 8 bits\n      var index = (255 * opacity) | 0;\n      var style = this.styleCache_[index];\n      if (!style) {\n        style = [\n          new Style({\n            image: new Icon({\n              opacity: opacity,\n              src: this.circleImage_\n            })\n          })\n        ];\n        this.styleCache_[index] = style;\n      }\n      return style;\n    }.bind(this));\n\n    // For performance reasons, don't sort the features before rendering.\n    // The render order is not relevant for a heatmap representation.\n    this.setRenderOrder(null);\n\n    listen(this, RenderEventType.RENDER, this.handleRender_, this);\n  }\n\n  if ( VectorLayer ) Heatmap.__proto__ = VectorLayer;\n  Heatmap.prototype = Object.create( VectorLayer && VectorLayer.prototype );\n  Heatmap.prototype.constructor = Heatmap;\n\n  /**\n   * @return {string} Data URL for a circle.\n   * @private\n   */\n  Heatmap.prototype.createCircle_ = function createCircle_ () {\n    var radius = this.getRadius();\n    var blur = this.getBlur();\n    var halfSize = radius + blur + 1;\n    var size = 2 * halfSize;\n    var context = createCanvasContext2D(size, size);\n    context.shadowOffsetX = context.shadowOffsetY = this.shadow_;\n    context.shadowBlur = blur;\n    context.shadowColor = '#000';\n    context.beginPath();\n    var center = halfSize - this.shadow_;\n    context.arc(center, center, radius, 0, Math.PI * 2, true);\n    context.fill();\n    return context.canvas.toDataURL();\n  };\n\n  /**\n   * Return the blur size in pixels.\n   * @return {number} Blur size in pixels.\n   * @api\n   * @observable\n   */\n  Heatmap.prototype.getBlur = function getBlur () {\n    return /** @type {number} */ (this.get(Property.BLUR));\n  };\n\n  /**\n   * Return the gradient colors as array of strings.\n   * @return {Array<string>} Colors.\n   * @api\n   * @observable\n   */\n  Heatmap.prototype.getGradient = function getGradient () {\n    return /** @type {Array<string>} */ (this.get(Property.GRADIENT));\n  };\n\n  /**\n   * Return the size of the radius in pixels.\n   * @return {number} Radius size in pixel.\n   * @api\n   * @observable\n   */\n  Heatmap.prototype.getRadius = function getRadius () {\n    return /** @type {number} */ (this.get(Property.RADIUS));\n  };\n\n  /**\n   * @private\n   */\n  Heatmap.prototype.handleGradientChanged_ = function handleGradientChanged_ () {\n    this.gradient_ = createGradient(this.getGradient());\n  };\n\n  /**\n   * @private\n   */\n  Heatmap.prototype.handleStyleChanged_ = function handleStyleChanged_ () {\n    this.circleImage_ = this.createCircle_();\n    this.styleCache_ = new Array(256);\n    this.changed();\n  };\n\n  /**\n   * @param {import(\"../render/Event.js\").default} event Post compose event\n   * @private\n   */\n  Heatmap.prototype.handleRender_ = function handleRender_ (event) {\n    var context = event.context;\n    var canvas = context.canvas;\n    var image = context.getImageData(0, 0, canvas.width, canvas.height);\n    var view8 = image.data;\n    for (var i = 0, ii = view8.length; i < ii; i += 4) {\n      var alpha = view8[i + 3] * 4;\n      if (alpha) {\n        view8[i] = this.gradient_[alpha];\n        view8[i + 1] = this.gradient_[alpha + 1];\n        view8[i + 2] = this.gradient_[alpha + 2];\n      }\n    }\n    context.putImageData(image, 0, 0);\n  };\n\n  /**\n   * Set the blur size in pixels.\n   * @param {number} blur Blur size in pixels.\n   * @api\n   * @observable\n   */\n  Heatmap.prototype.setBlur = function setBlur (blur) {\n    this.set(Property.BLUR, blur);\n  };\n\n  /**\n   * Set the gradient colors as array of strings.\n   * @param {Array<string>} colors Gradient.\n   * @api\n   * @observable\n   */\n  Heatmap.prototype.setGradient = function setGradient (colors) {\n    this.set(Property.GRADIENT, colors);\n  };\n\n  /**\n   * Set the size of the radius in pixels.\n   * @param {number} radius Radius size in pixel.\n   * @api\n   * @observable\n   */\n  Heatmap.prototype.setRadius = function setRadius (radius) {\n    this.set(Property.RADIUS, radius);\n  };\n\n  return Heatmap;\n}(VectorLayer));\n\n\n/**\n * @param {Array<string>} colors A list of colored.\n * @return {Uint8ClampedArray} An array.\n */\nfunction createGradient(colors) {\n  var width = 1;\n  var height = 256;\n  var context = createCanvasContext2D(width, height);\n\n  var gradient = context.createLinearGradient(0, 0, width, height);\n  var step = 1 / (colors.length - 1);\n  for (var i = 0, ii = colors.length; i < ii; ++i) {\n    gradient.addColorStop(i * step, colors[i]);\n  }\n\n  context.fillStyle = gradient;\n  context.fillRect(0, 0, width, height);\n\n  return context.getImageData(0, 0, width, height).data;\n}\n\n\nexport default Heatmap;\n\n//# sourceMappingURL=Heatmap.js.map","/**\n * @module ol/layer/Tile\n */\nimport LayerType from '../LayerType.js';\nimport Layer from './Layer.js';\nimport TileProperty from './TileProperty.js';\nimport {assign} from '../obj.js';\n\n\n/**\n * @typedef {Object} Options\n * @property {number} [opacity=1] Opacity (0, 1).\n * @property {boolean} [visible=true] Visibility.\n * @property {import(\"../extent.js\").Extent} [extent] The bounding extent for layer rendering.  The layer will not be\n * rendered outside of this extent.\n * @property {number} [zIndex] The z-index for layer rendering.  At rendering time, the layers\n * will be ordered, first by Z-index and then by position. When `undefined`, a `zIndex` of 0 is assumed\n * for layers that are added to the map's `layers` collection, or `Infinity` when the layer's `setMap()`\n * method was used.\n * @property {number} [minResolution] The minimum resolution (inclusive) at which this layer will be\n * visible.\n * @property {number} [maxResolution] The maximum resolution (exclusive) below which this layer will\n * be visible.\n * @property {number} [preload=0] Preload. Load low-resolution tiles up to `preload` levels. `0`\n * means no preloading.\n * @property {import(\"../source/Tile.js\").default} [source] Source for this layer.\n * @property {import(\"../PluggableMap.js\").default} [map] Sets the layer as overlay on a map. The map will not manage\n * this layer in its layers collection, and the layer will be rendered on top. This is useful for\n * temporary layers. The standard way to add a layer to a map and have it managed by the map is to\n * use {@link module:ol/Map#addLayer}.\n * @property {boolean} [useInterimTilesOnError=true] Use interim tiles on error.\n */\n\n/**\n * @classdesc\n * For layer sources that provide pre-rendered, tiled images in grids that are\n * organized by zoom levels for specific resolutions.\n * Note that any property set in the options is set as a {@link module:ol/Object~BaseObject}\n * property on the layer object; for example, setting `title: 'My Title'` in the\n * options means that `title` is observable, and has get/set accessors.\n *\n * @api\n */\nvar TileLayer = /*@__PURE__*/(function (Layer) {\n  function TileLayer(opt_options) {\n    var options = opt_options ? opt_options : {};\n\n    var baseOptions = assign({}, options);\n\n    delete baseOptions.preload;\n    delete baseOptions.useInterimTilesOnError;\n    Layer.call(this, baseOptions);\n\n    this.setPreload(options.preload !== undefined ? options.preload : 0);\n    this.setUseInterimTilesOnError(options.useInterimTilesOnError !== undefined ?\n      options.useInterimTilesOnError : true);\n\n    /**\n    * The layer type.\n    * @protected\n    * @type {import(\"../LayerType.js\").default}\n    */\n    this.type = LayerType.TILE;\n\n  }\n\n  if ( Layer ) TileLayer.__proto__ = Layer;\n  TileLayer.prototype = Object.create( Layer && Layer.prototype );\n  TileLayer.prototype.constructor = TileLayer;\n\n  /**\n  * Return the level as number to which we will preload tiles up to.\n  * @return {number} The level to preload tiles up to.\n  * @observable\n  * @api\n  */\n  TileLayer.prototype.getPreload = function getPreload () {\n    return /** @type {number} */ (this.get(TileProperty.PRELOAD));\n  };\n\n  /**\n  * Set the level as number to which we will preload tiles up to.\n  * @param {number} preload The level to preload tiles up to.\n  * @observable\n  * @api\n  */\n  TileLayer.prototype.setPreload = function setPreload (preload) {\n    this.set(TileProperty.PRELOAD, preload);\n  };\n\n  /**\n  * Whether we use interim tiles on error.\n  * @return {boolean} Use interim tiles on error.\n  * @observable\n  * @api\n  */\n  TileLayer.prototype.getUseInterimTilesOnError = function getUseInterimTilesOnError () {\n    return /** @type {boolean} */ (this.get(TileProperty.USE_INTERIM_TILES_ON_ERROR));\n  };\n\n  /**\n  * Set whether we use interim tiles on error.\n  * @param {boolean} useInterimTilesOnError Use interim tiles on error.\n  * @observable\n  * @api\n  */\n  TileLayer.prototype.setUseInterimTilesOnError = function setUseInterimTilesOnError (useInterimTilesOnError) {\n    this.set(TileProperty.USE_INTERIM_TILES_ON_ERROR, useInterimTilesOnError);\n  };\n\n  return TileLayer;\n}(Layer));\n\n\n/**\n * Return the associated {@link module:ol/source/Tile tilesource} of the layer.\n * @function\n * @return {import(\"../source/Tile.js\").default} Source.\n * @api\n */\nTileLayer.prototype.getSource;\n\n\nexport default TileLayer;\n\n//# sourceMappingURL=Tile.js.map","/**\n * @module ol/layer/Base\n */\nimport {abstract} from '../util.js';\nimport BaseObject from '../Object.js';\nimport LayerProperty from './Property.js';\nimport {clamp} from '../math.js';\nimport {assign} from '../obj.js';\n\n\n/**\n * @typedef {Object} Options\n * @property {number} [opacity=1] Opacity (0, 1).\n * @property {boolean} [visible=true] Visibility.\n * @property {import(\"../extent.js\").Extent} [extent] The bounding extent for layer rendering.  The layer will not be\n * rendered outside of this extent.\n * @property {number} [zIndex] The z-index for layer rendering.  At rendering time, the layers\n * will be ordered, first by Z-index and then by position. When `undefined`, a `zIndex` of 0 is assumed\n * for layers that are added to the map's `layers` collection, or `Infinity` when the layer's `setMap()`\n * method was used.\n * @property {number} [minResolution] The minimum resolution (inclusive) at which this layer will be\n * visible.\n * @property {number} [maxResolution] The maximum resolution (exclusive) below which this layer will\n * be visible.\n */\n\n\n/**\n * @classdesc\n * Abstract base class; normally only used for creating subclasses and not\n * instantiated in apps.\n * Note that with {@link module:ol/layer/Base} and all its subclasses, any property set in\n * the options is set as a {@link module:ol/Object} property on the layer object, so\n * is observable, and has get/set accessors.\n *\n * @api\n */\nvar BaseLayer = /*@__PURE__*/(function (BaseObject) {\n  function BaseLayer(options) {\n\n    BaseObject.call(this);\n\n    /**\n     * @type {Object<string, *>}\n     */\n    var properties = assign({}, options);\n    properties[LayerProperty.OPACITY] =\n       options.opacity !== undefined ? options.opacity : 1;\n    properties[LayerProperty.VISIBLE] =\n       options.visible !== undefined ? options.visible : true;\n    properties[LayerProperty.Z_INDEX] = options.zIndex;\n    properties[LayerProperty.MAX_RESOLUTION] =\n       options.maxResolution !== undefined ? options.maxResolution : Infinity;\n    properties[LayerProperty.MIN_RESOLUTION] =\n       options.minResolution !== undefined ? options.minResolution : 0;\n\n    this.setProperties(properties);\n\n    /**\n     * @type {import(\"./Layer.js\").State}\n     * @private\n     */\n    this.state_ = null;\n\n    /**\n     * The layer type.\n     * @type {import(\"../LayerType.js\").default}\n     * @protected;\n     */\n    this.type;\n\n  }\n\n  if ( BaseObject ) BaseLayer.__proto__ = BaseObject;\n  BaseLayer.prototype = Object.create( BaseObject && BaseObject.prototype );\n  BaseLayer.prototype.constructor = BaseLayer;\n\n  /**\n   * Get the layer type (used when creating a layer renderer).\n   * @return {import(\"../LayerType.js\").default} The layer type.\n   */\n  BaseLayer.prototype.getType = function getType () {\n    return this.type;\n  };\n\n  /**\n   * @return {import(\"./Layer.js\").State} Layer state.\n   */\n  BaseLayer.prototype.getLayerState = function getLayerState () {\n    /** @type {import(\"./Layer.js\").State} */\n    var state = this.state_ || /** @type {?} */ ({\n      layer: this,\n      managed: true\n    });\n    state.opacity = clamp(this.getOpacity(), 0, 1);\n    state.sourceState = this.getSourceState();\n    state.visible = this.getVisible();\n    state.extent = this.getExtent();\n    state.zIndex = this.getZIndex() || 0;\n    state.maxResolution = this.getMaxResolution();\n    state.minResolution = Math.max(this.getMinResolution(), 0);\n    this.state_ = state;\n\n    return state;\n  };\n\n  /**\n   * @abstract\n   * @param {Array<import(\"./Layer.js\").default>=} opt_array Array of layers (to be\n   *     modified in place).\n   * @return {Array<import(\"./Layer.js\").default>} Array of layers.\n   */\n  BaseLayer.prototype.getLayersArray = function getLayersArray (opt_array) {\n    return abstract();\n  };\n\n  /**\n   * @abstract\n   * @param {Array<import(\"./Layer.js\").State>=} opt_states Optional list of layer\n   *     states (to be modified in place).\n   * @return {Array<import(\"./Layer.js\").State>} List of layer states.\n   */\n  BaseLayer.prototype.getLayerStatesArray = function getLayerStatesArray (opt_states) {\n    return abstract();\n  };\n\n  /**\n   * Return the {@link module:ol/extent~Extent extent} of the layer or `undefined` if it\n   * will be visible regardless of extent.\n   * @return {import(\"../extent.js\").Extent|undefined} The layer extent.\n   * @observable\n   * @api\n   */\n  BaseLayer.prototype.getExtent = function getExtent () {\n    return (\n      /** @type {import(\"../extent.js\").Extent|undefined} */ (this.get(LayerProperty.EXTENT))\n    );\n  };\n\n  /**\n   * Return the maximum resolution of the layer.\n   * @return {number} The maximum resolution of the layer.\n   * @observable\n   * @api\n   */\n  BaseLayer.prototype.getMaxResolution = function getMaxResolution () {\n    return /** @type {number} */ (this.get(LayerProperty.MAX_RESOLUTION));\n  };\n\n  /**\n   * Return the minimum resolution of the layer.\n   * @return {number} The minimum resolution of the layer.\n   * @observable\n   * @api\n   */\n  BaseLayer.prototype.getMinResolution = function getMinResolution () {\n    return /** @type {number} */ (this.get(LayerProperty.MIN_RESOLUTION));\n  };\n\n  /**\n   * Return the opacity of the layer (between 0 and 1).\n   * @return {number} The opacity of the layer.\n   * @observable\n   * @api\n   */\n  BaseLayer.prototype.getOpacity = function getOpacity () {\n    return /** @type {number} */ (this.get(LayerProperty.OPACITY));\n  };\n\n  /**\n   * @abstract\n   * @return {import(\"../source/State.js\").default} Source state.\n   */\n  BaseLayer.prototype.getSourceState = function getSourceState () {\n    return abstract();\n  };\n\n  /**\n   * Return the visibility of the layer (`true` or `false`).\n   * @return {boolean} The visibility of the layer.\n   * @observable\n   * @api\n   */\n  BaseLayer.prototype.getVisible = function getVisible () {\n    return /** @type {boolean} */ (this.get(LayerProperty.VISIBLE));\n  };\n\n  /**\n   * Return the Z-index of the layer, which is used to order layers before\n   * rendering. The default Z-index is 0.\n   * @return {number} The Z-index of the layer.\n   * @observable\n   * @api\n   */\n  BaseLayer.prototype.getZIndex = function getZIndex () {\n    return /** @type {number} */ (this.get(LayerProperty.Z_INDEX));\n  };\n\n  /**\n   * Set the extent at which the layer is visible.  If `undefined`, the layer\n   * will be visible at all extents.\n   * @param {import(\"../extent.js\").Extent|undefined} extent The extent of the layer.\n   * @observable\n   * @api\n   */\n  BaseLayer.prototype.setExtent = function setExtent (extent) {\n    this.set(LayerProperty.EXTENT, extent);\n  };\n\n  /**\n   * Set the maximum resolution at which the layer is visible.\n   * @param {number} maxResolution The maximum resolution of the layer.\n   * @observable\n   * @api\n   */\n  BaseLayer.prototype.setMaxResolution = function setMaxResolution (maxResolution) {\n    this.set(LayerProperty.MAX_RESOLUTION, maxResolution);\n  };\n\n  /**\n   * Set the minimum resolution at which the layer is visible.\n   * @param {number} minResolution The minimum resolution of the layer.\n   * @observable\n   * @api\n   */\n  BaseLayer.prototype.setMinResolution = function setMinResolution (minResolution) {\n    this.set(LayerProperty.MIN_RESOLUTION, minResolution);\n  };\n\n  /**\n   * Set the opacity of the layer, allowed values range from 0 to 1.\n   * @param {number} opacity The opacity of the layer.\n   * @observable\n   * @api\n   */\n  BaseLayer.prototype.setOpacity = function setOpacity (opacity) {\n    this.set(LayerProperty.OPACITY, opacity);\n  };\n\n  /**\n   * Set the visibility of the layer (`true` or `false`).\n   * @param {boolean} visible The visibility of the layer.\n   * @observable\n   * @api\n   */\n  BaseLayer.prototype.setVisible = function setVisible (visible) {\n    this.set(LayerProperty.VISIBLE, visible);\n  };\n\n  /**\n   * Set Z-index of the layer, which is used to order layers before rendering.\n   * The default Z-index is 0.\n   * @param {number} zindex The z-index of the layer.\n   * @observable\n   * @api\n   */\n  BaseLayer.prototype.setZIndex = function setZIndex (zindex) {\n    this.set(LayerProperty.Z_INDEX, zindex);\n  };\n\n  return BaseLayer;\n}(BaseObject));\n\n\nexport default BaseLayer;\n\n//# sourceMappingURL=Base.js.map","/**\n * @module ol/pointer/MouseSource\n */\n\n// Based on https://github.com/Polymer/PointerEvents\n\n// Copyright (c) 2013 The Polymer Authors. All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are\n// met:\n//\n// * Redistributions of source code must retain the above copyright\n// notice, this list of conditions and the following disclaimer.\n// * Redistributions in binary form must reproduce the above\n// copyright notice, this list of conditions and the following disclaimer\n// in the documentation and/or other materials provided with the\n// distribution.\n// * Neither the name of Google Inc. nor the names of its\n// contributors may be used to endorse or promote products derived from\n// this software without specific prior written permission.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n// \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n\nimport EventSource from './EventSource.js';\n\n\n/**\n * @type {number}\n */\nexport var POINTER_ID = 1;\n\n\n/**\n * @type {string}\n */\nexport var POINTER_TYPE = 'mouse';\n\n\n/**\n * Radius around touchend that swallows mouse events.\n *\n * @type {number}\n */\nvar DEDUP_DIST = 25;\n\n/**\n * Handler for `mousedown`.\n *\n * @this {MouseSource}\n * @param {MouseEvent} inEvent The in event.\n */\nfunction mousedown(inEvent) {\n  if (!this.isEventSimulatedFromTouch_(inEvent)) {\n    // TODO(dfreedman) workaround for some elements not sending mouseup\n    // http://crbug/149091\n    if (POINTER_ID.toString() in this.pointerMap) {\n      this.cancel(inEvent);\n    }\n    var e = prepareEvent(inEvent, this.dispatcher);\n    this.pointerMap[POINTER_ID.toString()] = inEvent;\n    this.dispatcher.down(e, inEvent);\n  }\n}\n\n/**\n * Handler for `mousemove`.\n *\n * @this {MouseSource}\n * @param {MouseEvent} inEvent The in event.\n */\nfunction mousemove(inEvent) {\n  if (!this.isEventSimulatedFromTouch_(inEvent)) {\n    var e = prepareEvent(inEvent, this.dispatcher);\n    this.dispatcher.move(e, inEvent);\n  }\n}\n\n/**\n * Handler for `mouseup`.\n *\n * @this {MouseSource}\n * @param {MouseEvent} inEvent The in event.\n */\nfunction mouseup(inEvent) {\n  if (!this.isEventSimulatedFromTouch_(inEvent)) {\n    var p = this.pointerMap[POINTER_ID.toString()];\n\n    if (p && p.button === inEvent.button) {\n      var e = prepareEvent(inEvent, this.dispatcher);\n      this.dispatcher.up(e, inEvent);\n      this.cleanupMouse();\n    }\n  }\n}\n\n/**\n * Handler for `mouseover`.\n *\n * @this {MouseSource}\n * @param {MouseEvent} inEvent The in event.\n */\nfunction mouseover(inEvent) {\n  if (!this.isEventSimulatedFromTouch_(inEvent)) {\n    var e = prepareEvent(inEvent, this.dispatcher);\n    this.dispatcher.enterOver(e, inEvent);\n  }\n}\n\n/**\n * Handler for `mouseout`.\n *\n * @this {MouseSource}\n * @param {MouseEvent} inEvent The in event.\n */\nfunction mouseout(inEvent) {\n  if (!this.isEventSimulatedFromTouch_(inEvent)) {\n    var e = prepareEvent(inEvent, this.dispatcher);\n    this.dispatcher.leaveOut(e, inEvent);\n  }\n}\n\n\nvar MouseSource = /*@__PURE__*/(function (EventSource) {\n  function MouseSource(dispatcher) {\n    var mapping = {\n      'mousedown': mousedown,\n      'mousemove': mousemove,\n      'mouseup': mouseup,\n      'mouseover': mouseover,\n      'mouseout': mouseout\n    };\n    EventSource.call(this, dispatcher, mapping);\n\n    /**\n     * @const\n     * @type {!Object<string, Event|Object>}\n     */\n    this.pointerMap = dispatcher.pointerMap;\n\n    /**\n     * @const\n     * @type {Array<import(\"../pixel.js\").Pixel>}\n     */\n    this.lastTouches = [];\n  }\n\n  if ( EventSource ) MouseSource.__proto__ = EventSource;\n  MouseSource.prototype = Object.create( EventSource && EventSource.prototype );\n  MouseSource.prototype.constructor = MouseSource;\n\n  /**\n   * Detect if a mouse event was simulated from a touch by\n   * checking if previously there was a touch event at the\n   * same position.\n   *\n   * FIXME - Known problem with the native Android browser on\n   * Samsung GT-I9100 (Android 4.1.2):\n   * In case the page is scrolled, this function does not work\n   * correctly when a canvas is used (WebGL or canvas renderer).\n   * Mouse listeners on canvas elements (for this browser), create\n   * two mouse events: One 'good' and one 'bad' one (on other browsers or\n   * when a div is used, there is only one event). For the 'bad' one,\n   * clientX/clientY and also pageX/pageY are wrong when the page\n   * is scrolled. Because of that, this function can not detect if\n   * the events were simulated from a touch event. As result, a\n   * pointer event at a wrong position is dispatched, which confuses\n   * the map interactions.\n   * It is unclear, how one can get the correct position for the event\n   * or detect that the positions are invalid.\n   *\n   * @private\n   * @param {MouseEvent} inEvent The in event.\n   * @return {boolean} True, if the event was generated by a touch.\n   */\n  MouseSource.prototype.isEventSimulatedFromTouch_ = function isEventSimulatedFromTouch_ (inEvent) {\n    var lts = this.lastTouches;\n    var x = inEvent.clientX;\n    var y = inEvent.clientY;\n    for (var i = 0, l = lts.length, t = (void 0); i < l && (t = lts[i]); i++) {\n      // simulated mouse events will be swallowed near a primary touchend\n      var dx = Math.abs(x - t[0]);\n      var dy = Math.abs(y - t[1]);\n      if (dx <= DEDUP_DIST && dy <= DEDUP_DIST) {\n        return true;\n      }\n    }\n    return false;\n  };\n\n  /**\n   * Dispatches a `pointercancel` event.\n   *\n   * @param {Event} inEvent The in event.\n   */\n  MouseSource.prototype.cancel = function cancel (inEvent) {\n    var e = prepareEvent(inEvent, this.dispatcher);\n    this.dispatcher.cancel(e, inEvent);\n    this.cleanupMouse();\n  };\n\n  /**\n   * Remove the mouse from the list of active pointers.\n   */\n  MouseSource.prototype.cleanupMouse = function cleanupMouse () {\n    delete this.pointerMap[POINTER_ID.toString()];\n  };\n\n  return MouseSource;\n}(EventSource));\n\n\n/**\n * Creates a copy of the original event that will be used\n * for the fake pointer event.\n *\n * @param {Event} inEvent The in event.\n * @param {import(\"./PointerEventHandler.js\").default} dispatcher Event handler.\n * @return {Object} The copied event.\n */\nexport function prepareEvent(inEvent, dispatcher) {\n  var e = dispatcher.cloneEvent(inEvent, inEvent);\n\n  // forward mouse preventDefault\n  var pd = e.preventDefault;\n  e.preventDefault = function() {\n    inEvent.preventDefault();\n    pd();\n  };\n\n  e.pointerId = POINTER_ID;\n  e.isPrimary = true;\n  e.pointerType = POINTER_TYPE;\n\n  return e;\n}\n\n\nexport default MouseSource;\n\n//# sourceMappingURL=MouseSource.js.map","/**\n * @module ol/has\n */\n\nvar ua = typeof navigator !== 'undefined' ?\n  navigator.userAgent.toLowerCase() : '';\n\n/**\n * User agent string says we are dealing with Firefox as browser.\n * @type {boolean}\n */\nexport var FIREFOX = ua.indexOf('firefox') !== -1;\n\n/**\n * User agent string says we are dealing with Safari as browser.\n * @type {boolean}\n */\nexport var SAFARI = ua.indexOf('safari') !== -1 && ua.indexOf('chrom') == -1;\n\n/**\n * User agent string says we are dealing with a WebKit engine.\n * @type {boolean}\n */\nexport var WEBKIT = ua.indexOf('webkit') !== -1 && ua.indexOf('edge') == -1;\n\n/**\n * User agent string says we are dealing with a Mac as platform.\n * @type {boolean}\n */\nexport var MAC = ua.indexOf('macintosh') !== -1;\n\n\n/**\n * The ratio between physical pixels and device-independent pixels\n * (dips) on the device (`window.devicePixelRatio`).\n * @const\n * @type {number}\n * @api\n */\nexport var DEVICE_PIXEL_RATIO = window.devicePixelRatio || 1;\n\n\n/**\n * True if the browser's Canvas implementation implements {get,set}LineDash.\n * @type {boolean}\n */\nexport var CANVAS_LINE_DASH = function() {\n  var has = false;\n  try {\n    has = !!document.createElement('canvas').getContext('2d').setLineDash;\n  } catch (e) {\n    // pass\n  }\n  return has;\n}();\n\n\n/**\n * Is HTML5 geolocation supported in the current browser?\n * @const\n * @type {boolean}\n * @api\n */\nexport var GEOLOCATION = 'geolocation' in navigator;\n\n\n/**\n * True if browser supports touch events.\n * @const\n * @type {boolean}\n * @api\n */\nexport var TOUCH = 'ontouchstart' in window;\n\n\n/**\n * True if browser supports pointer events.\n * @const\n * @type {boolean}\n */\nexport var POINTER = 'PointerEvent' in window;\n\n\n/**\n * True if browser supports ms pointer events (IE 10).\n * @const\n * @type {boolean}\n */\nexport var MSPOINTER = !!(navigator.msPointerEnabled);\n\n\nexport {HAS as WEBGL} from './webgl.js';\n\n//# sourceMappingURL=has.js.map","/**\n * @module ol/loadingstrategy\n */\n\n\n/**\n * Strategy function for loading all features with a single request.\n * @param {import(\"./extent.js\").Extent} extent Extent.\n * @param {number} resolution Resolution.\n * @return {Array<import(\"./extent.js\").Extent>} Extents.\n * @api\n */\nexport function all(extent, resolution) {\n  return [[-Infinity, -Infinity, Infinity, Infinity]];\n}\n\n\n/**\n * Strategy function for loading features based on the view's extent and\n * resolution.\n * @param {import(\"./extent.js\").Extent} extent Extent.\n * @param {number} resolution Resolution.\n * @return {Array<import(\"./extent.js\").Extent>} Extents.\n * @api\n */\nexport function bbox(extent, resolution) {\n  return [extent];\n}\n\n\n/**\n * Creates a strategy function for loading features based on a tile grid.\n * @param {import(\"./tilegrid/TileGrid.js\").default} tileGrid Tile grid.\n * @return {function(import(\"./extent.js\").Extent, number): Array<import(\"./extent.js\").Extent>} Loading strategy.\n * @api\n */\nexport function tile(tileGrid) {\n  return (\n    /**\n     * @param {import(\"./extent.js\").Extent} extent Extent.\n     * @param {number} resolution Resolution.\n     * @return {Array<import(\"./extent.js\").Extent>} Extents.\n     */\n    function(extent, resolution) {\n      var z = tileGrid.getZForResolution(resolution);\n      var tileRange = tileGrid.getTileRangeForExtentAndZ(extent, z);\n      /** @type {Array<import(\"./extent.js\").Extent>} */\n      var extents = [];\n      /** @type {import(\"./tilecoord.js\").TileCoord} */\n      var tileCoord = [z, 0, 0];\n      for (tileCoord[1] = tileRange.minX; tileCoord[1] <= tileRange.maxX; ++tileCoord[1]) {\n        for (tileCoord[2] = tileRange.minY; tileCoord[2] <= tileRange.maxY; ++tileCoord[2]) {\n          extents.push(tileGrid.getTileCoordExtent(tileCoord));\n        }\n      }\n      return extents;\n    }\n  );\n}\n\n//# sourceMappingURL=loadingstrategy.js.map","/**\n * @module ol/math\n */\nimport {assert} from './asserts.js';\n\n/**\n * Takes a number and clamps it to within the provided bounds.\n * @param {number} value The input number.\n * @param {number} min The minimum value to return.\n * @param {number} max The maximum value to return.\n * @return {number} The input number if it is within bounds, or the nearest\n *     number within the bounds.\n */\nexport function clamp(value, min, max) {\n  return Math.min(Math.max(value, min), max);\n}\n\n\n/**\n * Return the hyperbolic cosine of a given number. The method will use the\n * native `Math.cosh` function if it is available, otherwise the hyperbolic\n * cosine will be calculated via the reference implementation of the Mozilla\n * developer network.\n *\n * @param {number} x X.\n * @return {number} Hyperbolic cosine of x.\n */\nexport var cosh = (function() {\n  // Wrapped in a iife, to save the overhead of checking for the native\n  // implementation on every invocation.\n  var cosh;\n  if ('cosh' in Math) {\n    // The environment supports the native Math.cosh function, use it…\n    cosh = Math.cosh;\n  } else {\n    // … else, use the reference implementation of MDN:\n    cosh = function(x) {\n      var y = /** @type {Math} */ (Math).exp(x);\n      return (y + 1 / y) / 2;\n    };\n  }\n  return cosh;\n}());\n\n\n/**\n * @param {number} x X.\n * @return {number} The smallest power of two greater than or equal to x.\n */\nexport function roundUpToPowerOfTwo(x) {\n  assert(0 < x, 29); // `x` must be greater than `0`\n  return Math.pow(2, Math.ceil(Math.log(x) / Math.LN2));\n}\n\n\n/**\n * Returns the square of the closest distance between the point (x, y) and the\n * line segment (x1, y1) to (x2, y2).\n * @param {number} x X.\n * @param {number} y Y.\n * @param {number} x1 X1.\n * @param {number} y1 Y1.\n * @param {number} x2 X2.\n * @param {number} y2 Y2.\n * @return {number} Squared distance.\n */\nexport function squaredSegmentDistance(x, y, x1, y1, x2, y2) {\n  var dx = x2 - x1;\n  var dy = y2 - y1;\n  if (dx !== 0 || dy !== 0) {\n    var t = ((x - x1) * dx + (y - y1) * dy) / (dx * dx + dy * dy);\n    if (t > 1) {\n      x1 = x2;\n      y1 = y2;\n    } else if (t > 0) {\n      x1 += dx * t;\n      y1 += dy * t;\n    }\n  }\n  return squaredDistance(x, y, x1, y1);\n}\n\n\n/**\n * Returns the square of the distance between the points (x1, y1) and (x2, y2).\n * @param {number} x1 X1.\n * @param {number} y1 Y1.\n * @param {number} x2 X2.\n * @param {number} y2 Y2.\n * @return {number} Squared distance.\n */\nexport function squaredDistance(x1, y1, x2, y2) {\n  var dx = x2 - x1;\n  var dy = y2 - y1;\n  return dx * dx + dy * dy;\n}\n\n\n/**\n * Solves system of linear equations using Gaussian elimination method.\n *\n * @param {Array<Array<number>>} mat Augmented matrix (n x n + 1 column)\n *                                     in row-major order.\n * @return {Array<number>} The resulting vector.\n */\nexport function solveLinearSystem(mat) {\n  var n = mat.length;\n\n  for (var i = 0; i < n; i++) {\n    // Find max in the i-th column (ignoring i - 1 first rows)\n    var maxRow = i;\n    var maxEl = Math.abs(mat[i][i]);\n    for (var r = i + 1; r < n; r++) {\n      var absValue = Math.abs(mat[r][i]);\n      if (absValue > maxEl) {\n        maxEl = absValue;\n        maxRow = r;\n      }\n    }\n\n    if (maxEl === 0) {\n      return null; // matrix is singular\n    }\n\n    // Swap max row with i-th (current) row\n    var tmp = mat[maxRow];\n    mat[maxRow] = mat[i];\n    mat[i] = tmp;\n\n    // Subtract the i-th row to make all the remaining rows 0 in the i-th column\n    for (var j = i + 1; j < n; j++) {\n      var coef = -mat[j][i] / mat[i][i];\n      for (var k = i; k < n + 1; k++) {\n        if (i == k) {\n          mat[j][k] = 0;\n        } else {\n          mat[j][k] += coef * mat[i][k];\n        }\n      }\n    }\n  }\n\n  // Solve Ax=b for upper triangular matrix A (mat)\n  var x = new Array(n);\n  for (var l = n - 1; l >= 0; l--) {\n    x[l] = mat[l][n] / mat[l][l];\n    for (var m = l - 1; m >= 0; m--) {\n      mat[m][n] -= mat[m][l] * x[l];\n    }\n  }\n  return x;\n}\n\n\n/**\n * Converts radians to to degrees.\n *\n * @param {number} angleInRadians Angle in radians.\n * @return {number} Angle in degrees.\n */\nexport function toDegrees(angleInRadians) {\n  return angleInRadians * 180 / Math.PI;\n}\n\n\n/**\n * Converts degrees to radians.\n *\n * @param {number} angleInDegrees Angle in degrees.\n * @return {number} Angle in radians.\n */\nexport function toRadians(angleInDegrees) {\n  return angleInDegrees * Math.PI / 180;\n}\n\n/**\n * Returns the modulo of a / b, depending on the sign of b.\n *\n * @param {number} a Dividend.\n * @param {number} b Divisor.\n * @return {number} Modulo.\n */\nexport function modulo(a, b) {\n  var r = a % b;\n  return r * b < 0 ? r + b : r;\n}\n\n/**\n * Calculates the linearly interpolated value of x between a and b.\n *\n * @param {number} a Number\n * @param {number} b Number\n * @param {number} x Value to be interpolated.\n * @return {number} Interpolated value.\n */\nexport function lerp(a, b, x) {\n  return a + x * (b - a);\n}\n\n//# sourceMappingURL=math.js.map","/**\n * @module ol/layer/VectorTile\n */\nimport LayerType from '../LayerType.js';\nimport {assert} from '../asserts.js';\nimport TileProperty from './TileProperty.js';\nimport VectorLayer from './Vector.js';\nimport VectorTileRenderType from './VectorTileRenderType.js';\nimport {assign} from '../obj.js';\n\n\n/**\n * @typedef {Object} Options\n * @property {number} [opacity=1] Opacity (0, 1).\n * @property {boolean} [visible=true] Visibility.\n * @property {import(\"../extent.js\").Extent} [extent] The bounding extent for layer rendering.  The layer will not be\n * rendered outside of this extent.\n * @property {number} [zIndex] The z-index for layer rendering.  At rendering time, the layers\n * will be ordered, first by Z-index and then by position. When `undefined`, a `zIndex` of 0 is assumed\n * for layers that are added to the map's `layers` collection, or `Infinity` when the layer's `setMap()`\n * method was used.\n * @property {number} [minResolution] The minimum resolution (inclusive) at which this layer will be\n * visible.\n * @property {number} [maxResolution] The maximum resolution (exclusive) below which this layer will\n * be visible.\n * @property {import(\"../render.js\").OrderFunction} [renderOrder] Render order. Function to be used when sorting\n * features before rendering. By default features are drawn in the order that they are created. Use\n * `null` to avoid the sort, but get an undefined draw order.\n * @property {number} [renderBuffer=100] The buffer in pixels around the tile extent used by the\n * renderer when getting features from the vector tile for the rendering or hit-detection.\n * Recommended value: Vector tiles are usually generated with a buffer, so this value should match\n * the largest possible buffer of the used tiles. It should be at least the size of the largest\n * point symbol or line width.\n * @property {import(\"./VectorTileRenderType.js\").default|string} [renderMode='hybrid'] Render mode for vector tiles:\n *  * `'image'`: Vector tiles are rendered as images. Great performance, but point symbols and texts\n *    are always rotated with the view and pixels are scaled during zoom animations.\n *  * `'hybrid'`: Polygon and line elements are rendered as images, so pixels are scaled during zoom\n *    animations. Point symbols and texts are accurately rendered as vectors and can stay upright on\n *    rotated views.\n *  * `'vector'`: Vector tiles are rendered as vectors. Most accurate rendering even during\n *    animations, but slower performance than the other options.\n *\n * When `declutter` is set to `true`, `'hybrid'` will be used instead of `'image'`.\n * @property {import(\"../source/VectorTile.js\").default} [source] Source.\n * @property {import(\"../PluggableMap.js\").default} [map] Sets the layer as overlay on a map. The map will not manage\n * this layer in its layers collection, and the layer will be rendered on top. This is useful for\n * temporary layers. The standard way to add a layer to a map and have it managed by the map is to\n * use {@link module:ol/Map#addLayer}.\n * @property {boolean} [declutter=false] Declutter images and text. Decluttering is applied to all\n * image and text styles, and the priority is defined by the z-index of the style. Lower z-index\n * means higher priority. When set to `true`, a `renderMode` of `'image'` will be overridden with\n * `'hybrid'`.\n * @property {import(\"../style/Style.js\").StyleLike} [style] Layer style. See\n * {@link module:ol/style} for default style which will be used if this is not defined.\n * @property {boolean} [updateWhileAnimating=false] When set to `true`, feature batches will be\n * recreated during animations. This means that no vectors will be shown clipped, but the setting\n * will have a performance impact for large amounts of vector data. When set to `false`, batches\n * will be recreated when no animation is active.\n * @property {boolean} [updateWhileInteracting=false] When set to `true`, feature batches will be\n * recreated during interactions. See also `updateWhileAnimating`.\n * @property {number} [preload=0] Preload. Load low-resolution tiles up to `preload` levels. `0`\n * means no preloading.\n * @property {import(\"../render.js\").OrderFunction} [renderOrder] Render order. Function to be used when sorting\n * features before rendering. By default features are drawn in the order that they are created.\n * @property {import(\"../style/Style.js\").StyleLike} [style] Layer style. See\n * {@link module:ol/style} for default style which will be used if this is not defined.\n * @property {boolean} [useInterimTilesOnError=true] Use interim tiles on error.\n */\n\n\n/**\n * @classdesc\n * Layer for vector tile data that is rendered client-side.\n * Note that any property set in the options is set as a {@link module:ol/Object~BaseObject}\n * property on the layer object; for example, setting `title: 'My Title'` in the\n * options means that `title` is observable, and has get/set accessors.\n *\n * @param {Options=} opt_options Options.\n * @api\n */\nvar VectorTileLayer = /*@__PURE__*/(function (VectorLayer) {\n  function VectorTileLayer(opt_options) {\n    var options = opt_options ? opt_options : {};\n\n    var renderMode = options.renderMode || VectorTileRenderType.HYBRID;\n    assert(renderMode == undefined ||\n       renderMode == VectorTileRenderType.IMAGE ||\n       renderMode == VectorTileRenderType.HYBRID ||\n       renderMode == VectorTileRenderType.VECTOR,\n    28); // `renderMode` must be `'image'`, `'hybrid'` or `'vector'`\n    if (options.declutter && renderMode == VectorTileRenderType.IMAGE) {\n      renderMode = VectorTileRenderType.HYBRID;\n    }\n    options.renderMode = renderMode;\n\n    var baseOptions = /** @type {Object} */ (assign({}, options));\n    delete baseOptions.preload;\n    delete baseOptions.useInterimTilesOnError;\n\n    VectorLayer.call(/** @type {import(\"./Vector.js\").Options} */ this, (baseOptions));\n\n    this.setPreload(options.preload ? options.preload : 0);\n    this.setUseInterimTilesOnError(options.useInterimTilesOnError !== undefined ?\n      options.useInterimTilesOnError : true);\n\n    /**\n    * The layer type.\n    * @protected\n    * @type {import(\"../LayerType.js\").default}\n    */\n    this.type = LayerType.VECTOR_TILE;\n\n  }\n\n  if ( VectorLayer ) VectorTileLayer.__proto__ = VectorLayer;\n  VectorTileLayer.prototype = Object.create( VectorLayer && VectorLayer.prototype );\n  VectorTileLayer.prototype.constructor = VectorTileLayer;\n\n  /**\n  * Return the level as number to which we will preload tiles up to.\n  * @return {number} The level to preload tiles up to.\n  * @observable\n  * @api\n  */\n  VectorTileLayer.prototype.getPreload = function getPreload () {\n    return /** @type {number} */ (this.get(TileProperty.PRELOAD));\n  };\n\n  /**\n  * Whether we use interim tiles on error.\n  * @return {boolean} Use interim tiles on error.\n  * @observable\n  * @api\n  */\n  VectorTileLayer.prototype.getUseInterimTilesOnError = function getUseInterimTilesOnError () {\n    return /** @type {boolean} */ (this.get(TileProperty.USE_INTERIM_TILES_ON_ERROR));\n  };\n\n  /**\n  * Set the level as number to which we will preload tiles up to.\n  * @param {number} preload The level to preload tiles up to.\n  * @observable\n  * @api\n  */\n  VectorTileLayer.prototype.setPreload = function setPreload (preload) {\n    this.set(TileProperty.PRELOAD, preload);\n  };\n\n  /**\n  * Set whether we use interim tiles on error.\n  * @param {boolean} useInterimTilesOnError Use interim tiles on error.\n  * @observable\n  * @api\n  */\n  VectorTileLayer.prototype.setUseInterimTilesOnError = function setUseInterimTilesOnError (useInterimTilesOnError) {\n    this.set(TileProperty.USE_INTERIM_TILES_ON_ERROR, useInterimTilesOnError);\n  };\n\n  return VectorTileLayer;\n}(VectorLayer));\n\n\n/**\n * Return the associated {@link module:ol/source/VectorTile vectortilesource} of the layer.\n * @function\n * @return {import(\"../source/VectorTile.js\").default} Source.\n * @api\n */\nVectorTileLayer.prototype.getSource;\nexport default VectorTileLayer;\n\n//# sourceMappingURL=VectorTile.js.map","/**\n * @module ol/layer/Group\n */\nimport {getUid} from '../util.js';\nimport Collection from '../Collection.js';\nimport CollectionEventType from '../CollectionEventType.js';\nimport {getChangeEventType} from '../Object.js';\nimport ObjectEventType from '../ObjectEventType.js';\nimport {assert} from '../asserts.js';\nimport {listen, unlistenByKey} from '../events.js';\nimport EventType from '../events/EventType.js';\nimport {getIntersection} from '../extent.js';\nimport BaseLayer from './Base.js';\nimport {assign, clear} from '../obj.js';\nimport SourceState from '../source/State.js';\n\n\n/**\n * @typedef {Object} Options\n * @property {number} [opacity=1] Opacity (0, 1).\n * @property {boolean} [visible=true] Visibility.\n * @property {import(\"../extent.js\").Extent} [extent] The bounding extent for layer rendering.  The layer will not be\n * rendered outside of this extent.\n * @property {number} [zIndex] The z-index for layer rendering.  At rendering time, the layers\n * will be ordered, first by Z-index and then by position. When `undefined`, a `zIndex` of 0 is assumed\n * for layers that are added to the map's `layers` collection, or `Infinity` when the layer's `setMap()`\n * method was used.\n * @property {number} [minResolution] The minimum resolution (inclusive) at which this layer will be\n * visible.\n * @property {number} [maxResolution] The maximum resolution (exclusive) below which this layer will\n * be visible.\n * @property {Array<import(\"./Base.js\").default>|import(\"../Collection.js\").default<import(\"./Base.js\").default>} [layers] Child layers.\n */\n\n\n/**\n * @enum {string}\n * @private\n */\nvar Property = {\n  LAYERS: 'layers'\n};\n\n\n/**\n * @classdesc\n * A {@link module:ol/Collection~Collection} of layers that are handled together.\n *\n * A generic `change` event is triggered when the group/Collection changes.\n *\n * @api\n */\nvar LayerGroup = /*@__PURE__*/(function (BaseLayer) {\n  function LayerGroup(opt_options) {\n\n    var options = opt_options || {};\n    var baseOptions = /** @type {Options} */ (assign({}, options));\n    delete baseOptions.layers;\n\n    var layers = options.layers;\n\n    BaseLayer.call(this, baseOptions);\n\n    /**\n     * @private\n     * @type {Array<import(\"../events.js\").EventsKey>}\n     */\n    this.layersListenerKeys_ = [];\n\n    /**\n     * @private\n     * @type {Object<string, Array<import(\"../events.js\").EventsKey>>}\n     */\n    this.listenerKeys_ = {};\n\n    listen(this,\n      getChangeEventType(Property.LAYERS),\n      this.handleLayersChanged_, this);\n\n    if (layers) {\n      if (Array.isArray(layers)) {\n        layers = new Collection(layers.slice(), {unique: true});\n      } else {\n        assert(typeof /** @type {?} */ (layers).getArray === 'function',\n          43); // Expected `layers` to be an array or a `Collection`\n      }\n    } else {\n      layers = new Collection(undefined, {unique: true});\n    }\n\n    this.setLayers(layers);\n\n  }\n\n  if ( BaseLayer ) LayerGroup.__proto__ = BaseLayer;\n  LayerGroup.prototype = Object.create( BaseLayer && BaseLayer.prototype );\n  LayerGroup.prototype.constructor = LayerGroup;\n\n  /**\n   * @private\n   */\n  LayerGroup.prototype.handleLayerChange_ = function handleLayerChange_ () {\n    this.changed();\n  };\n\n  /**\n   * @private\n   */\n  LayerGroup.prototype.handleLayersChanged_ = function handleLayersChanged_ () {\n    this.layersListenerKeys_.forEach(unlistenByKey);\n    this.layersListenerKeys_.length = 0;\n\n    var layers = this.getLayers();\n    this.layersListenerKeys_.push(\n      listen(layers, CollectionEventType.ADD, this.handleLayersAdd_, this),\n      listen(layers, CollectionEventType.REMOVE, this.handleLayersRemove_, this)\n    );\n\n    for (var id in this.listenerKeys_) {\n      this.listenerKeys_[id].forEach(unlistenByKey);\n    }\n    clear(this.listenerKeys_);\n\n    var layersArray = layers.getArray();\n    for (var i = 0, ii = layersArray.length; i < ii; i++) {\n      var layer = layersArray[i];\n      this.listenerKeys_[getUid(layer)] = [\n        listen(layer, ObjectEventType.PROPERTYCHANGE, this.handleLayerChange_, this),\n        listen(layer, EventType.CHANGE, this.handleLayerChange_, this)\n      ];\n    }\n\n    this.changed();\n  };\n\n  /**\n   * @param {import(\"../Collection.js\").CollectionEvent} collectionEvent CollectionEvent.\n   * @private\n   */\n  LayerGroup.prototype.handleLayersAdd_ = function handleLayersAdd_ (collectionEvent) {\n    var layer = /** @type {import(\"./Base.js\").default} */ (collectionEvent.element);\n    this.listenerKeys_[getUid(layer)] = [\n      listen(layer, ObjectEventType.PROPERTYCHANGE, this.handleLayerChange_, this),\n      listen(layer, EventType.CHANGE, this.handleLayerChange_, this)\n    ];\n    this.changed();\n  };\n\n  /**\n   * @param {import(\"../Collection.js\").CollectionEvent} collectionEvent CollectionEvent.\n   * @private\n   */\n  LayerGroup.prototype.handleLayersRemove_ = function handleLayersRemove_ (collectionEvent) {\n    var layer = /** @type {import(\"./Base.js\").default} */ (collectionEvent.element);\n    var key = getUid(layer);\n    this.listenerKeys_[key].forEach(unlistenByKey);\n    delete this.listenerKeys_[key];\n    this.changed();\n  };\n\n  /**\n   * Returns the {@link module:ol/Collection collection} of {@link module:ol/layer/Layer~Layer layers}\n   * in this group.\n   * @return {!import(\"../Collection.js\").default<import(\"./Base.js\").default>} Collection of\n   *   {@link module:ol/layer/Base layers} that are part of this group.\n   * @observable\n   * @api\n   */\n  LayerGroup.prototype.getLayers = function getLayers () {\n    return (\n      /** @type {!import(\"../Collection.js\").default<import(\"./Base.js\").default>} */ (this.get(Property.LAYERS))\n    );\n  };\n\n  /**\n   * Set the {@link module:ol/Collection collection} of {@link module:ol/layer/Layer~Layer layers}\n   * in this group.\n   * @param {!import(\"../Collection.js\").default<import(\"./Base.js\").default>} layers Collection of\n   *   {@link module:ol/layer/Base layers} that are part of this group.\n   * @observable\n   * @api\n   */\n  LayerGroup.prototype.setLayers = function setLayers (layers) {\n    this.set(Property.LAYERS, layers);\n  };\n\n  /**\n   * @inheritDoc\n   */\n  LayerGroup.prototype.getLayersArray = function getLayersArray (opt_array) {\n    var array = opt_array !== undefined ? opt_array : [];\n    this.getLayers().forEach(function(layer) {\n      layer.getLayersArray(array);\n    });\n    return array;\n  };\n\n  /**\n   * @inheritDoc\n   */\n  LayerGroup.prototype.getLayerStatesArray = function getLayerStatesArray (opt_states) {\n    var states = opt_states !== undefined ? opt_states : [];\n\n    var pos = states.length;\n\n    this.getLayers().forEach(function(layer) {\n      layer.getLayerStatesArray(states);\n    });\n\n    var ownLayerState = this.getLayerState();\n    for (var i = pos, ii = states.length; i < ii; i++) {\n      var layerState = states[i];\n      layerState.opacity *= ownLayerState.opacity;\n      layerState.visible = layerState.visible && ownLayerState.visible;\n      layerState.maxResolution = Math.min(\n        layerState.maxResolution, ownLayerState.maxResolution);\n      layerState.minResolution = Math.max(\n        layerState.minResolution, ownLayerState.minResolution);\n      if (ownLayerState.extent !== undefined) {\n        if (layerState.extent !== undefined) {\n          layerState.extent = getIntersection(layerState.extent, ownLayerState.extent);\n        } else {\n          layerState.extent = ownLayerState.extent;\n        }\n      }\n    }\n\n    return states;\n  };\n\n  /**\n   * @inheritDoc\n   */\n  LayerGroup.prototype.getSourceState = function getSourceState () {\n    return SourceState.READY;\n  };\n\n  return LayerGroup;\n}(BaseLayer));\n\n\nexport default LayerGroup;\n\n//# sourceMappingURL=Group.js.map","/**\n * @module ol/layer/TileProperty\n */\n\n/**\n * @enum {string}\n */\nexport default {\n  PRELOAD: 'preload',\n  USE_INTERIM_TILES_ON_ERROR: 'useInterimTilesOnError'\n};\n\n//# sourceMappingURL=TileProperty.js.map","/**\n * @module ol/interaction/Draw\n */\nimport EventType from '../events/EventType.js';\nimport Feature from '../Feature.js';\nimport MapBrowserEventType from '../MapBrowserEventType.js';\nimport MapBrowserPointerEvent from '../MapBrowserPointerEvent.js';\nimport {getChangeEventType} from '../Object.js';\nimport {squaredDistance as squaredCoordinateDistance} from '../coordinate.js';\nimport {listen} from '../events.js';\nimport Event from '../events/Event.js';\nimport {noModifierKeys, always, shiftKeyOnly} from '../events/condition.js';\nimport {boundingExtent, getBottomLeft, getBottomRight, getTopLeft, getTopRight} from '../extent.js';\nimport {TRUE, FALSE} from '../functions.js';\nimport Circle from '../geom/Circle.js';\nimport GeometryType from '../geom/GeometryType.js';\nimport LineString from '../geom/LineString.js';\nimport MultiLineString from '../geom/MultiLineString.js';\nimport MultiPoint from '../geom/MultiPoint.js';\nimport MultiPolygon from '../geom/MultiPolygon.js';\nimport {POINTER_TYPE} from '../pointer/MouseSource.js';\nimport Point from '../geom/Point.js';\nimport Polygon, {fromCircle, makeRegular} from '../geom/Polygon.js';\nimport PointerInteraction from './Pointer.js';\nimport InteractionProperty from './Property.js';\nimport VectorLayer from '../layer/Vector.js';\nimport VectorSource from '../source/Vector.js';\nimport {createEditingStyle} from '../style/Style.js';\n\n\n/**\n * @typedef {Object} Options\n * @property {GeometryType} type Geometry type of\n * the geometries being drawn with this instance.\n * @property {number} [clickTolerance=6] The maximum distance in pixels between\n * \"down\" and \"up\" for a \"up\" event to be considered a \"click\" event and\n * actually add a point/vertex to the geometry being drawn.  The default of `6`\n * was chosen for the draw interaction to behave correctly on mouse as well as\n * on touch devices.\n * @property {import(\"../Collection.js\").default<Feature>} [features]\n * Destination collection for the drawn features.\n * @property {VectorSource} [source] Destination source for\n * the drawn features.\n * @property {number} [dragVertexDelay=500] Delay in milliseconds after pointerdown\n * before the current vertex can be dragged to its exact position.\n * @property {number} [snapTolerance=12] Pixel distance for snapping to the\n * drawing finish.\n * @property {boolean} [stopClick=false] Stop click, singleclick, and\n * doubleclick events from firing during drawing.\n * @property {number} [maxPoints] The number of points that can be drawn before\n * a polygon ring or line string is finished. By default there is no\n * restriction.\n * @property {number} [minPoints] The number of points that must be drawn\n * before a polygon ring or line string can be finished. Default is `3` for\n * polygon rings and `2` for line strings.\n * @property {import(\"../events/condition.js\").Condition} [finishCondition] A function\n * that takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a\n * boolean to indicate whether the drawing can be finished.\n * @property {import(\"../style/Style.js\").StyleLike} [style]\n * Style for sketch features.\n * @property {GeometryFunction} [geometryFunction]\n * Function that is called when a geometry's coordinates are updated.\n * @property {string} [geometryName] Geometry name to use for features created\n * by the draw interaction.\n * @property {import(\"../events/condition.js\").Condition} [condition] A function that\n * takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a\n * boolean to indicate whether that event should be handled.\n * By default {@link module:ol/events/condition~noModifierKeys}, i.e. a click,\n * adds a vertex or deactivates freehand drawing.\n * @property {boolean} [freehand=false] Operate in freehand mode for lines,\n * polygons, and circles.  This makes the interaction always operate in freehand\n * mode and takes precedence over any `freehandCondition` option.\n * @property {import(\"../events/condition.js\").Condition} [freehandCondition]\n * Condition that activates freehand drawing for lines and polygons. This\n * function takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and\n * returns a boolean to indicate whether that event should be handled. The\n * default is {@link module:ol/events/condition~shiftKeyOnly}, meaning that the\n * Shift key activates freehand drawing.\n * @property {boolean} [wrapX=false] Wrap the world horizontally on the sketch\n * overlay.\n */\n\n\n/**\n * Coordinate type when drawing points.\n * @typedef {import(\"../coordinate.js\").Coordinate} PointCoordType\n */\n\n\n/**\n * Coordinate type when drawing lines.\n * @typedef {Array<import(\"../coordinate.js\").Coordinate>} LineCoordType\n */\n\n\n/**\n * Coordinate type when drawing polygons.\n * @typedef {Array<Array<import(\"../coordinate.js\").Coordinate>>} PolyCoordType\n */\n\n\n/**\n * Types used for drawing coordinates.\n * @typedef {PointCoordType|LineCoordType|PolyCoordType} SketchCoordType\n */\n\n\n/**\n * Function that takes an array of coordinates and an optional existing geometry as\n * arguments, and returns a geometry. The optional existing geometry is the\n * geometry that is returned when the function is called without a second\n * argument.\n * @typedef {function(!SketchCoordType, import(\"../geom/SimpleGeometry.js\").default=):\n *     import(\"../geom/SimpleGeometry.js\").default} GeometryFunction\n */\n\n\n/**\n * Draw mode.  This collapses multi-part geometry types with their single-part\n * cousins.\n * @enum {string}\n */\nvar Mode = {\n  POINT: 'Point',\n  LINE_STRING: 'LineString',\n  POLYGON: 'Polygon',\n  CIRCLE: 'Circle'\n};\n\n\n/**\n * @enum {string}\n */\nvar DrawEventType = {\n  /**\n   * Triggered upon feature draw start\n   * @event DrawEvent#drawstart\n   * @api\n   */\n  DRAWSTART: 'drawstart',\n  /**\n   * Triggered upon feature draw end\n   * @event DrawEvent#drawend\n   * @api\n   */\n  DRAWEND: 'drawend'\n};\n\n\n/**\n * @classdesc\n * Events emitted by {@link module:ol/interaction/Draw~Draw} instances are\n * instances of this type.\n */\nvar DrawEvent = /*@__PURE__*/(function (Event) {\n  function DrawEvent(type, feature) {\n\n    Event.call(this, type);\n\n    /**\n     * The feature being drawn.\n     * @type {Feature}\n     * @api\n     */\n    this.feature = feature;\n\n  }\n\n  if ( Event ) DrawEvent.__proto__ = Event;\n  DrawEvent.prototype = Object.create( Event && Event.prototype );\n  DrawEvent.prototype.constructor = DrawEvent;\n\n  return DrawEvent;\n}(Event));\n\n\n/**\n * @classdesc\n * Interaction for drawing feature geometries.\n *\n * @fires DrawEvent\n * @api\n */\nvar Draw = /*@__PURE__*/(function (PointerInteraction) {\n  function Draw(options) {\n\n    var pointerOptions = /** @type {import(\"./Pointer.js\").Options} */ (options);\n    if (!pointerOptions.stopDown) {\n      pointerOptions.stopDown = FALSE;\n    }\n\n    PointerInteraction.call(this, pointerOptions);\n\n    /**\n     * @type {boolean}\n     * @private\n     */\n    this.shouldHandle_ = false;\n\n    /**\n     * @type {import(\"../pixel.js\").Pixel}\n     * @private\n     */\n    this.downPx_ = null;\n\n    /**\n     * @type {?}\n     * @private\n     */\n    this.downTimeout_;\n\n    /**\n     * @type {number|undefined}\n     * @private\n     */\n    this.lastDragTime_;\n\n    /**\n     * @type {boolean}\n     * @private\n     */\n    this.freehand_ = false;\n\n    /**\n     * Target source for drawn features.\n     * @type {VectorSource}\n     * @private\n     */\n    this.source_ = options.source ? options.source : null;\n\n    /**\n     * Target collection for drawn features.\n     * @type {import(\"../Collection.js\").default<Feature>}\n     * @private\n     */\n    this.features_ = options.features ? options.features : null;\n\n    /**\n     * Pixel distance for snapping.\n     * @type {number}\n     * @private\n     */\n    this.snapTolerance_ = options.snapTolerance ? options.snapTolerance : 12;\n\n    /**\n     * Geometry type.\n     * @type {GeometryType}\n     * @private\n     */\n    this.type_ = /** @type {GeometryType} */ (options.type);\n\n    /**\n     * Drawing mode (derived from geometry type.\n     * @type {Mode}\n     * @private\n     */\n    this.mode_ = getMode(this.type_);\n\n    /**\n     * Stop click, singleclick, and doubleclick events from firing during drawing.\n     * Default is `false`.\n     * @type {boolean}\n     * @private\n     */\n    this.stopClick_ = !!options.stopClick;\n\n    /**\n     * The number of points that must be drawn before a polygon ring or line\n     * string can be finished.  The default is 3 for polygon rings and 2 for\n     * line strings.\n     * @type {number}\n     * @private\n     */\n    this.minPoints_ = options.minPoints ?\n      options.minPoints :\n      (this.mode_ === Mode.POLYGON ? 3 : 2);\n\n    /**\n     * The number of points that can be drawn before a polygon ring or line string\n     * is finished. The default is no restriction.\n     * @type {number}\n     * @private\n     */\n    this.maxPoints_ = options.maxPoints ? options.maxPoints : Infinity;\n\n    /**\n     * A function to decide if a potential finish coordinate is permissible\n     * @private\n     * @type {import(\"../events/condition.js\").Condition}\n     */\n    this.finishCondition_ = options.finishCondition ? options.finishCondition : TRUE;\n\n    var geometryFunction = options.geometryFunction;\n    if (!geometryFunction) {\n      if (this.type_ === GeometryType.CIRCLE) {\n        /**\n         * @param {!LineCoordType} coordinates The coordinates.\n         * @param {import(\"../geom/SimpleGeometry.js\").default=} opt_geometry Optional geometry.\n         * @return {import(\"../geom/SimpleGeometry.js\").default} A geometry.\n         */\n        geometryFunction = function(coordinates, opt_geometry) {\n          var circle = opt_geometry ? /** @type {Circle} */ (opt_geometry) :\n            new Circle([NaN, NaN]);\n          var squaredLength = squaredCoordinateDistance(\n            coordinates[0], coordinates[1]);\n          circle.setCenterAndRadius(coordinates[0], Math.sqrt(squaredLength));\n          return circle;\n        };\n      } else {\n        var Constructor;\n        var mode = this.mode_;\n        if (mode === Mode.POINT) {\n          Constructor = Point;\n        } else if (mode === Mode.LINE_STRING) {\n          Constructor = LineString;\n        } else if (mode === Mode.POLYGON) {\n          Constructor = Polygon;\n        }\n        /**\n         * @param {!LineCoordType} coordinates The coordinates.\n         * @param {import(\"../geom/SimpleGeometry.js\").default=} opt_geometry Optional geometry.\n         * @return {import(\"../geom/SimpleGeometry.js\").default} A geometry.\n         */\n        geometryFunction = function(coordinates, opt_geometry) {\n          var geometry = opt_geometry;\n          if (geometry) {\n            if (mode === Mode.POLYGON) {\n              if (coordinates[0].length) {\n                // Add a closing coordinate to match the first\n                geometry.setCoordinates([coordinates[0].concat([coordinates[0][0]])]);\n              } else {\n                geometry.setCoordinates([]);\n              }\n            } else {\n              geometry.setCoordinates(coordinates);\n            }\n          } else {\n            geometry = new Constructor(coordinates);\n          }\n          return geometry;\n        };\n      }\n    }\n\n    /**\n     * @type {GeometryFunction}\n     * @private\n     */\n    this.geometryFunction_ = geometryFunction;\n\n    /**\n     * @type {number}\n     * @private\n     */\n    this.dragVertexDelay_ = options.dragVertexDelay !== undefined ? options.dragVertexDelay : 500;\n\n    /**\n     * Finish coordinate for the feature (first point for polygons, last point for\n     * linestrings).\n     * @type {import(\"../coordinate.js\").Coordinate}\n     * @private\n     */\n    this.finishCoordinate_ = null;\n\n    /**\n     * Sketch feature.\n     * @type {Feature}\n     * @private\n     */\n    this.sketchFeature_ = null;\n\n    /**\n     * Sketch point.\n     * @type {Feature}\n     * @private\n     */\n    this.sketchPoint_ = null;\n\n    /**\n     * Sketch coordinates. Used when drawing a line or polygon.\n     * @type {SketchCoordType}\n     * @private\n     */\n    this.sketchCoords_ = null;\n\n    /**\n     * Sketch line. Used when drawing polygon.\n     * @type {Feature}\n     * @private\n     */\n    this.sketchLine_ = null;\n\n    /**\n     * Sketch line coordinates. Used when drawing a polygon or circle.\n     * @type {LineCoordType}\n     * @private\n     */\n    this.sketchLineCoords_ = null;\n\n    /**\n     * Squared tolerance for handling up events.  If the squared distance\n     * between a down and up event is greater than this tolerance, up events\n     * will not be handled.\n     * @type {number}\n     * @private\n     */\n    this.squaredClickTolerance_ = options.clickTolerance ?\n      options.clickTolerance * options.clickTolerance : 36;\n\n    /**\n     * Draw overlay where our sketch features are drawn.\n     * @type {VectorLayer}\n     * @private\n     */\n    this.overlay_ = new VectorLayer({\n      source: new VectorSource({\n        useSpatialIndex: false,\n        wrapX: options.wrapX ? options.wrapX : false\n      }),\n      style: options.style ? options.style :\n        getDefaultStyleFunction(),\n      updateWhileInteracting: true\n    });\n\n    /**\n     * Name of the geometry attribute for newly created features.\n     * @type {string|undefined}\n     * @private\n     */\n    this.geometryName_ = options.geometryName;\n\n    /**\n     * @private\n     * @type {import(\"../events/condition.js\").Condition}\n     */\n    this.condition_ = options.condition ? options.condition : noModifierKeys;\n\n    /**\n     * @private\n     * @type {import(\"../events/condition.js\").Condition}\n     */\n    this.freehandCondition_;\n    if (options.freehand) {\n      this.freehandCondition_ = always;\n    } else {\n      this.freehandCondition_ = options.freehandCondition ?\n        options.freehandCondition : shiftKeyOnly;\n    }\n\n    listen(this,\n      getChangeEventType(InteractionProperty.ACTIVE),\n      this.updateState_, this);\n\n  }\n\n  if ( PointerInteraction ) Draw.__proto__ = PointerInteraction;\n  Draw.prototype = Object.create( PointerInteraction && PointerInteraction.prototype );\n  Draw.prototype.constructor = Draw;\n\n  /**\n   * @inheritDoc\n   */\n  Draw.prototype.setMap = function setMap (map) {\n    PointerInteraction.prototype.setMap.call(this, map);\n    this.updateState_();\n  };\n\n  /**\n   * Get the overlay layer that this interaction renders sketch features to.\n   * @return {VectorLayer} Overlay layer.\n   * @api\n   */\n  Draw.prototype.getOverlay = function getOverlay () {\n    return this.overlay_;\n  };\n\n  /**\n   * Handles the {@link module:ol/MapBrowserEvent map browser event} and may actually draw or finish the drawing.\n   * @override\n   * @api\n   */\n  Draw.prototype.handleEvent = function handleEvent (event) {\n    if (event.originalEvent.type === EventType.CONTEXTMENU) {\n      // Avoid context menu for long taps when drawing on mobile\n      event.preventDefault();\n    }\n    this.freehand_ = this.mode_ !== Mode.POINT && this.freehandCondition_(event);\n    var move = event.type === MapBrowserEventType.POINTERMOVE;\n    var pass = true;\n    if (!this.freehand_ && this.lastDragTime_ && event.type === MapBrowserEventType.POINTERDRAG) {\n      var now = Date.now();\n      if (now - this.lastDragTime_ >= this.dragVertexDelay_) {\n        this.downPx_ = event.pixel;\n        this.shouldHandle_ = !this.freehand_;\n        move = true;\n      } else {\n        this.lastDragTime_ = undefined;\n      }\n      if (this.shouldHandle_ && this.downTimeout_ !== undefined) {\n        clearTimeout(this.downTimeout_);\n        this.downTimeout_ = undefined;\n      }\n    }\n    if (this.freehand_ &&\n        event.type === MapBrowserEventType.POINTERDRAG &&\n        this.sketchFeature_ !== null) {\n      this.addToDrawing_(event);\n      pass = false;\n    } else if (this.freehand_ &&\n        event.type === MapBrowserEventType.POINTERDOWN) {\n      pass = false;\n    } else if (move) {\n      pass = event.type === MapBrowserEventType.POINTERMOVE;\n      if (pass && this.freehand_) {\n        pass = this.handlePointerMove_(event);\n      } else if (/** @type {MapBrowserPointerEvent} */ (event).pointerEvent.pointerType == POINTER_TYPE ||\n          (event.type === MapBrowserEventType.POINTERDRAG && this.downTimeout_ === undefined)) {\n        this.handlePointerMove_(event);\n      }\n    } else if (event.type === MapBrowserEventType.DBLCLICK) {\n      pass = false;\n    }\n\n    return PointerInteraction.prototype.handleEvent.call(this, event) && pass;\n  };\n\n  /**\n   * @inheritDoc\n   */\n  Draw.prototype.handleDownEvent = function handleDownEvent (event) {\n    this.shouldHandle_ = !this.freehand_;\n\n    if (this.freehand_) {\n      this.downPx_ = event.pixel;\n      if (!this.finishCoordinate_) {\n        this.startDrawing_(event);\n      }\n      return true;\n    } else if (this.condition_(event)) {\n      this.lastDragTime_ = Date.now();\n      this.downTimeout_ = setTimeout(function() {\n        this.handlePointerMove_(new MapBrowserPointerEvent(\n          MapBrowserEventType.POINTERMOVE, event.map, event.pointerEvent, false, event.frameState));\n      }.bind(this), this.dragVertexDelay_);\n      this.downPx_ = event.pixel;\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n\n  /**\n   * @inheritDoc\n   */\n  Draw.prototype.handleUpEvent = function handleUpEvent (event) {\n    var pass = true;\n\n    if (this.downTimeout_) {\n      clearTimeout(this.downTimeout_);\n      this.downTimeout_ = undefined;\n    }\n\n    this.handlePointerMove_(event);\n\n    var circleMode = this.mode_ === Mode.CIRCLE;\n\n    if (this.shouldHandle_) {\n      if (!this.finishCoordinate_) {\n        this.startDrawing_(event);\n        if (this.mode_ === Mode.POINT) {\n          this.finishDrawing();\n        }\n      } else if (this.freehand_ || circleMode) {\n        this.finishDrawing();\n      } else if (this.atFinish_(event)) {\n        if (this.finishCondition_(event)) {\n          this.finishDrawing();\n        }\n      } else {\n        this.addToDrawing_(event);\n      }\n      pass = false;\n    } else if (this.freehand_) {\n      this.finishCoordinate_ = null;\n      this.abortDrawing_();\n    }\n    if (!pass && this.stopClick_) {\n      event.stopPropagation();\n    }\n    return pass;\n  };\n\n  /**\n   * Handle move events.\n   * @param {import(\"../MapBrowserEvent.js\").default} event A move event.\n   * @return {boolean} Pass the event to other interactions.\n   * @private\n   */\n  Draw.prototype.handlePointerMove_ = function handlePointerMove_ (event) {\n    if (this.downPx_ &&\n        ((!this.freehand_ && this.shouldHandle_) ||\n        (this.freehand_ && !this.shouldHandle_))) {\n      var downPx = this.downPx_;\n      var clickPx = event.pixel;\n      var dx = downPx[0] - clickPx[0];\n      var dy = downPx[1] - clickPx[1];\n      var squaredDistance = dx * dx + dy * dy;\n      this.shouldHandle_ = this.freehand_ ?\n        squaredDistance > this.squaredClickTolerance_ :\n        squaredDistance <= this.squaredClickTolerance_;\n      if (!this.shouldHandle_) {\n        return true;\n      }\n    }\n\n    if (this.finishCoordinate_) {\n      this.modifyDrawing_(event);\n    } else {\n      this.createOrUpdateSketchPoint_(event);\n    }\n    return true;\n  };\n\n  /**\n   * Determine if an event is within the snapping tolerance of the start coord.\n   * @param {import(\"../MapBrowserEvent.js\").default} event Event.\n   * @return {boolean} The event is within the snapping tolerance of the start.\n   * @private\n   */\n  Draw.prototype.atFinish_ = function atFinish_ (event) {\n    var at = false;\n    if (this.sketchFeature_) {\n      var potentiallyDone = false;\n      var potentiallyFinishCoordinates = [this.finishCoordinate_];\n      if (this.mode_ === Mode.LINE_STRING) {\n        potentiallyDone = this.sketchCoords_.length > this.minPoints_;\n      } else if (this.mode_ === Mode.POLYGON) {\n        var sketchCoords = /** @type {PolyCoordType} */ (this.sketchCoords_);\n        potentiallyDone = sketchCoords[0].length > this.minPoints_;\n        potentiallyFinishCoordinates = [sketchCoords[0][0], sketchCoords[0][sketchCoords[0].length - 2]];\n      }\n      if (potentiallyDone) {\n        var map = event.map;\n        for (var i = 0, ii = potentiallyFinishCoordinates.length; i < ii; i++) {\n          var finishCoordinate = potentiallyFinishCoordinates[i];\n          var finishPixel = map.getPixelFromCoordinate(finishCoordinate);\n          var pixel = event.pixel;\n          var dx = pixel[0] - finishPixel[0];\n          var dy = pixel[1] - finishPixel[1];\n          var snapTolerance = this.freehand_ ? 1 : this.snapTolerance_;\n          at = Math.sqrt(dx * dx + dy * dy) <= snapTolerance;\n          if (at) {\n            this.finishCoordinate_ = finishCoordinate;\n            break;\n          }\n        }\n      }\n    }\n    return at;\n  };\n\n  /**\n   * @param {import(\"../MapBrowserEvent.js\").default} event Event.\n   * @private\n   */\n  Draw.prototype.createOrUpdateSketchPoint_ = function createOrUpdateSketchPoint_ (event) {\n    var coordinates = event.coordinate.slice();\n    if (!this.sketchPoint_) {\n      this.sketchPoint_ = new Feature(new Point(coordinates));\n      this.updateSketchFeatures_();\n    } else {\n      var sketchPointGeom = /** @type {Point} */ (this.sketchPoint_.getGeometry());\n      sketchPointGeom.setCoordinates(coordinates);\n    }\n  };\n\n  /**\n   * Start the drawing.\n   * @param {import(\"../MapBrowserEvent.js\").default} event Event.\n   * @private\n   */\n  Draw.prototype.startDrawing_ = function startDrawing_ (event) {\n    var start = event.coordinate;\n    this.finishCoordinate_ = start;\n    if (this.mode_ === Mode.POINT) {\n      this.sketchCoords_ = start.slice();\n    } else if (this.mode_ === Mode.POLYGON) {\n      this.sketchCoords_ = [[start.slice(), start.slice()]];\n      this.sketchLineCoords_ = this.sketchCoords_[0];\n    } else {\n      this.sketchCoords_ = [start.slice(), start.slice()];\n    }\n    if (this.sketchLineCoords_) {\n      this.sketchLine_ = new Feature(\n        new LineString(this.sketchLineCoords_));\n    }\n    var geometry = this.geometryFunction_(this.sketchCoords_);\n    this.sketchFeature_ = new Feature();\n    if (this.geometryName_) {\n      this.sketchFeature_.setGeometryName(this.geometryName_);\n    }\n    this.sketchFeature_.setGeometry(geometry);\n    this.updateSketchFeatures_();\n    this.dispatchEvent(new DrawEvent(DrawEventType.DRAWSTART, this.sketchFeature_));\n  };\n\n  /**\n   * Modify the drawing.\n   * @param {import(\"../MapBrowserEvent.js\").default} event Event.\n   * @private\n   */\n  Draw.prototype.modifyDrawing_ = function modifyDrawing_ (event) {\n    var coordinate = event.coordinate;\n    var geometry = /** @type {import(\"../geom/SimpleGeometry.js\").default} */ (this.sketchFeature_.getGeometry());\n    var coordinates, last;\n    if (this.mode_ === Mode.POINT) {\n      last = this.sketchCoords_;\n    } else if (this.mode_ === Mode.POLYGON) {\n      coordinates = /** @type {PolyCoordType} */ (this.sketchCoords_)[0];\n      last = coordinates[coordinates.length - 1];\n      if (this.atFinish_(event)) {\n        // snap to finish\n        coordinate = this.finishCoordinate_.slice();\n      }\n    } else {\n      coordinates = this.sketchCoords_;\n      last = coordinates[coordinates.length - 1];\n    }\n    last[0] = coordinate[0];\n    last[1] = coordinate[1];\n    this.geometryFunction_(/** @type {!LineCoordType} */ (this.sketchCoords_), geometry);\n    if (this.sketchPoint_) {\n      var sketchPointGeom = /** @type {Point} */ (this.sketchPoint_.getGeometry());\n      sketchPointGeom.setCoordinates(coordinate);\n    }\n    /** @type {LineString} */\n    var sketchLineGeom;\n    if (geometry.getType() == GeometryType.POLYGON &&\n        this.mode_ !== Mode.POLYGON) {\n      if (!this.sketchLine_) {\n        this.sketchLine_ = new Feature();\n      }\n      var ring = /** @type {Polygon} */ (geometry).getLinearRing(0);\n      sketchLineGeom = /** @type {LineString} */ (this.sketchLine_.getGeometry());\n      if (!sketchLineGeom) {\n        sketchLineGeom = new LineString(ring.getFlatCoordinates(), ring.getLayout());\n        this.sketchLine_.setGeometry(sketchLineGeom);\n      } else {\n        sketchLineGeom.setFlatCoordinates(\n          ring.getLayout(), ring.getFlatCoordinates());\n        sketchLineGeom.changed();\n      }\n    } else if (this.sketchLineCoords_) {\n      sketchLineGeom = /** @type {LineString} */ (this.sketchLine_.getGeometry());\n      sketchLineGeom.setCoordinates(this.sketchLineCoords_);\n    }\n    this.updateSketchFeatures_();\n  };\n\n  /**\n   * Add a new coordinate to the drawing.\n   * @param {import(\"../MapBrowserEvent.js\").default} event Event.\n   * @private\n   */\n  Draw.prototype.addToDrawing_ = function addToDrawing_ (event) {\n    var coordinate = event.coordinate;\n    var geometry = /** @type {import(\"../geom/SimpleGeometry.js\").default} */ (this.sketchFeature_.getGeometry());\n    var done;\n    var coordinates;\n    if (this.mode_ === Mode.LINE_STRING) {\n      this.finishCoordinate_ = coordinate.slice();\n      coordinates = /** @type {LineCoordType} */ (this.sketchCoords_);\n      if (coordinates.length >= this.maxPoints_) {\n        if (this.freehand_) {\n          coordinates.pop();\n        } else {\n          done = true;\n        }\n      }\n      coordinates.push(coordinate.slice());\n      this.geometryFunction_(coordinates, geometry);\n    } else if (this.mode_ === Mode.POLYGON) {\n      coordinates = /** @type {PolyCoordType} */ (this.sketchCoords_)[0];\n      if (coordinates.length >= this.maxPoints_) {\n        if (this.freehand_) {\n          coordinates.pop();\n        } else {\n          done = true;\n        }\n      }\n      coordinates.push(coordinate.slice());\n      if (done) {\n        this.finishCoordinate_ = coordinates[0];\n      }\n      this.geometryFunction_(this.sketchCoords_, geometry);\n    }\n    this.updateSketchFeatures_();\n    if (done) {\n      this.finishDrawing();\n    }\n  };\n\n  /**\n   * Remove last point of the feature currently being drawn.\n   * @api\n   */\n  Draw.prototype.removeLastPoint = function removeLastPoint () {\n    if (!this.sketchFeature_) {\n      return;\n    }\n    var geometry = /** @type {import(\"../geom/SimpleGeometry.js\").default} */ (this.sketchFeature_.getGeometry());\n    var coordinates;\n    /** @type {LineString} */\n    var sketchLineGeom;\n    if (this.mode_ === Mode.LINE_STRING) {\n      coordinates = /** @type {LineCoordType} */ (this.sketchCoords_);\n      coordinates.splice(-2, 1);\n      this.geometryFunction_(coordinates, geometry);\n      if (coordinates.length >= 2) {\n        this.finishCoordinate_ = coordinates[coordinates.length - 2].slice();\n      }\n    } else if (this.mode_ === Mode.POLYGON) {\n      coordinates = /** @type {PolyCoordType} */ (this.sketchCoords_)[0];\n      coordinates.splice(-2, 1);\n      sketchLineGeom = /** @type {LineString} */ (this.sketchLine_.getGeometry());\n      sketchLineGeom.setCoordinates(coordinates);\n      this.geometryFunction_(this.sketchCoords_, geometry);\n    }\n\n    if (coordinates.length === 0) {\n      this.finishCoordinate_ = null;\n    }\n\n    this.updateSketchFeatures_();\n  };\n\n  /**\n   * Stop drawing and add the sketch feature to the target layer.\n   * The {@link module:ol/interaction/Draw~DrawEventType.DRAWEND} event is\n   * dispatched before inserting the feature.\n   * @api\n   */\n  Draw.prototype.finishDrawing = function finishDrawing () {\n    var sketchFeature = this.abortDrawing_();\n    if (!sketchFeature) {\n      return;\n    }\n    var coordinates = this.sketchCoords_;\n    var geometry = /** @type {import(\"../geom/SimpleGeometry.js\").default} */ (sketchFeature.getGeometry());\n    if (this.mode_ === Mode.LINE_STRING) {\n      // remove the redundant last point\n      coordinates.pop();\n      this.geometryFunction_(coordinates, geometry);\n    } else if (this.mode_ === Mode.POLYGON) {\n      // remove the redundant last point in ring\n      /** @type {PolyCoordType} */ (coordinates)[0].pop();\n      this.geometryFunction_(coordinates, geometry);\n      coordinates = geometry.getCoordinates();\n    }\n\n    // cast multi-part geometries\n    if (this.type_ === GeometryType.MULTI_POINT) {\n      sketchFeature.setGeometry(new MultiPoint([/** @type {PointCoordType} */(coordinates)]));\n    } else if (this.type_ === GeometryType.MULTI_LINE_STRING) {\n      sketchFeature.setGeometry(new MultiLineString([/** @type {LineCoordType} */(coordinates)]));\n    } else if (this.type_ === GeometryType.MULTI_POLYGON) {\n      sketchFeature.setGeometry(new MultiPolygon([/** @type {PolyCoordType} */(coordinates)]));\n    }\n\n    // First dispatch event to allow full set up of feature\n    this.dispatchEvent(new DrawEvent(DrawEventType.DRAWEND, sketchFeature));\n\n    // Then insert feature\n    if (this.features_) {\n      this.features_.push(sketchFeature);\n    }\n    if (this.source_) {\n      this.source_.addFeature(sketchFeature);\n    }\n  };\n\n  /**\n   * Stop drawing without adding the sketch feature to the target layer.\n   * @return {Feature} The sketch feature (or null if none).\n   * @private\n   */\n  Draw.prototype.abortDrawing_ = function abortDrawing_ () {\n    this.finishCoordinate_ = null;\n    var sketchFeature = this.sketchFeature_;\n    if (sketchFeature) {\n      this.sketchFeature_ = null;\n      this.sketchPoint_ = null;\n      this.sketchLine_ = null;\n      /** @type {VectorSource} */ (this.overlay_.getSource()).clear(true);\n    }\n    return sketchFeature;\n  };\n\n  /**\n   * Extend an existing geometry by adding additional points. This only works\n   * on features with `LineString` geometries, where the interaction will\n   * extend lines by adding points to the end of the coordinates array.\n   * @param {!Feature} feature Feature to be extended.\n   * @api\n   */\n  Draw.prototype.extend = function extend (feature) {\n    var geometry = feature.getGeometry();\n    var lineString = /** @type {LineString} */ (geometry);\n    this.sketchFeature_ = feature;\n    this.sketchCoords_ = lineString.getCoordinates();\n    var last = this.sketchCoords_[this.sketchCoords_.length - 1];\n    this.finishCoordinate_ = last.slice();\n    this.sketchCoords_.push(last.slice());\n    this.updateSketchFeatures_();\n    this.dispatchEvent(new DrawEvent(DrawEventType.DRAWSTART, this.sketchFeature_));\n  };\n\n  /**\n   * Redraw the sketch features.\n   * @private\n   */\n  Draw.prototype.updateSketchFeatures_ = function updateSketchFeatures_ () {\n    var sketchFeatures = [];\n    if (this.sketchFeature_) {\n      sketchFeatures.push(this.sketchFeature_);\n    }\n    if (this.sketchLine_) {\n      sketchFeatures.push(this.sketchLine_);\n    }\n    if (this.sketchPoint_) {\n      sketchFeatures.push(this.sketchPoint_);\n    }\n    var overlaySource = /** @type {VectorSource} */ (this.overlay_.getSource());\n    overlaySource.clear(true);\n    overlaySource.addFeatures(sketchFeatures);\n  };\n\n  /**\n   * @private\n   */\n  Draw.prototype.updateState_ = function updateState_ () {\n    var map = this.getMap();\n    var active = this.getActive();\n    if (!map || !active) {\n      this.abortDrawing_();\n    }\n    this.overlay_.setMap(active ? map : null);\n  };\n\n  return Draw;\n}(PointerInteraction));\n\n\n/**\n * @return {import(\"../style/Style.js\").StyleFunction} Styles.\n */\nfunction getDefaultStyleFunction() {\n  var styles = createEditingStyle();\n  return function(feature, resolution) {\n    return styles[feature.getGeometry().getType()];\n  };\n}\n\n\n/**\n * Create a `geometryFunction` for `type: 'Circle'` that will create a regular\n * polygon with a user specified number of sides and start angle instead of an\n * `import(\"../geom/Circle.js\").Circle` geometry.\n * @param {number=} opt_sides Number of sides of the regular polygon. Default is\n *     32.\n * @param {number=} opt_angle Angle of the first point in radians. 0 means East.\n *     Default is the angle defined by the heading from the center of the\n *     regular polygon to the current pointer position.\n * @return {GeometryFunction} Function that draws a\n *     polygon.\n * @api\n */\nexport function createRegularPolygon(opt_sides, opt_angle) {\n  return function(coordinates, opt_geometry) {\n    var center = /** @type {LineCoordType} */ (coordinates)[0];\n    var end = /** @type {LineCoordType} */ (coordinates)[1];\n    var radius = Math.sqrt(\n      squaredCoordinateDistance(center, end));\n    var geometry = opt_geometry ? /** @type {Polygon} */ (opt_geometry) :\n      fromCircle(new Circle(center), opt_sides);\n    var angle = opt_angle;\n    if (!opt_angle) {\n      var x = end[0] - center[0];\n      var y = end[1] - center[1];\n      angle = Math.atan(y / x) - (x < 0 ? Math.PI : 0);\n    }\n    makeRegular(geometry, center, radius, angle);\n    return geometry;\n  };\n}\n\n\n/**\n * Create a `geometryFunction` that will create a box-shaped polygon (aligned\n * with the coordinate system axes).  Use this with the draw interaction and\n * `type: 'Circle'` to return a box instead of a circle geometry.\n * @return {GeometryFunction} Function that draws a box-shaped polygon.\n * @api\n */\nexport function createBox() {\n  return (\n    function(coordinates, opt_geometry) {\n      var extent = boundingExtent(/** @type {LineCoordType} */ (coordinates));\n      var boxCoordinates = [[\n        getBottomLeft(extent),\n        getBottomRight(extent),\n        getTopRight(extent),\n        getTopLeft(extent),\n        getBottomLeft(extent)\n      ]];\n      var geometry = opt_geometry;\n      if (geometry) {\n        geometry.setCoordinates(boxCoordinates);\n      } else {\n        geometry = new Polygon(boxCoordinates);\n      }\n      return geometry;\n    }\n  );\n}\n\n\n/**\n * Get the drawing mode.  The mode for mult-part geometries is the same as for\n * their single-part cousins.\n * @param {GeometryType} type Geometry type.\n * @return {Mode} Drawing mode.\n */\nfunction getMode(type) {\n  var mode;\n  if (type === GeometryType.POINT ||\n      type === GeometryType.MULTI_POINT) {\n    mode = Mode.POINT;\n  } else if (type === GeometryType.LINE_STRING ||\n      type === GeometryType.MULTI_LINE_STRING) {\n    mode = Mode.LINE_STRING;\n  } else if (type === GeometryType.POLYGON ||\n      type === GeometryType.MULTI_POLYGON) {\n    mode = Mode.POLYGON;\n  } else if (type === GeometryType.CIRCLE) {\n    mode = Mode.CIRCLE;\n  }\n  return (\n    /** @type {!Mode} */ (mode)\n  );\n}\n\n\nexport default Draw;\n\n//# sourceMappingURL=Draw.js.map","/**\n * @module ol/pointer/MsSource\n */\n// Based on https://github.com/Polymer/PointerEvents\n\n// Copyright (c) 2013 The Polymer Authors. All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are\n// met:\n//\n// * Redistributions of source code must retain the above copyright\n// notice, this list of conditions and the following disclaimer.\n// * Redistributions in binary form must reproduce the above\n// copyright notice, this list of conditions and the following disclaimer\n// in the documentation and/or other materials provided with the\n// distribution.\n// * Neither the name of Google Inc. nor the names of its\n// contributors may be used to endorse or promote products derived from\n// this software without specific prior written permission.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n// \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n\nimport EventSource from './EventSource.js';\n\n\n/**\n * @const\n * @type {Array<string>}\n */\nvar POINTER_TYPES = [\n  '',\n  'unavailable',\n  'touch',\n  'pen',\n  'mouse'\n];\n\n/**\n * Handler for `msPointerDown`.\n *\n * @this {MsSource}\n * @param {MSPointerEvent} inEvent The in event.\n */\nfunction msPointerDown(inEvent) {\n  this.pointerMap[inEvent.pointerId.toString()] = inEvent;\n  var e = this.prepareEvent_(inEvent);\n  this.dispatcher.down(e, inEvent);\n}\n\n/**\n * Handler for `msPointerMove`.\n *\n * @this {MsSource}\n * @param {MSPointerEvent} inEvent The in event.\n */\nfunction msPointerMove(inEvent) {\n  var e = this.prepareEvent_(inEvent);\n  this.dispatcher.move(e, inEvent);\n}\n\n/**\n * Handler for `msPointerUp`.\n *\n * @this {MsSource}\n * @param {MSPointerEvent} inEvent The in event.\n */\nfunction msPointerUp(inEvent) {\n  var e = this.prepareEvent_(inEvent);\n  this.dispatcher.up(e, inEvent);\n  this.cleanup(inEvent.pointerId);\n}\n\n/**\n * Handler for `msPointerOut`.\n *\n * @this {MsSource}\n * @param {MSPointerEvent} inEvent The in event.\n */\nfunction msPointerOut(inEvent) {\n  var e = this.prepareEvent_(inEvent);\n  this.dispatcher.leaveOut(e, inEvent);\n}\n\n/**\n * Handler for `msPointerOver`.\n *\n * @this {MsSource}\n * @param {MSPointerEvent} inEvent The in event.\n */\nfunction msPointerOver(inEvent) {\n  var e = this.prepareEvent_(inEvent);\n  this.dispatcher.enterOver(e, inEvent);\n}\n\n/**\n * Handler for `msPointerCancel`.\n *\n * @this {MsSource}\n * @param {MSPointerEvent} inEvent The in event.\n */\nfunction msPointerCancel(inEvent) {\n  var e = this.prepareEvent_(inEvent);\n  this.dispatcher.cancel(e, inEvent);\n  this.cleanup(inEvent.pointerId);\n}\n\n/**\n * Handler for `msLostPointerCapture`.\n *\n * @this {MsSource}\n * @param {MSPointerEvent} inEvent The in event.\n */\nfunction msLostPointerCapture(inEvent) {\n  var e = this.dispatcher.makeEvent('lostpointercapture', inEvent, inEvent);\n  this.dispatcher.dispatchEvent(e);\n}\n\n/**\n * Handler for `msGotPointerCapture`.\n *\n * @this {MsSource}\n * @param {MSPointerEvent} inEvent The in event.\n */\nfunction msGotPointerCapture(inEvent) {\n  var e = this.dispatcher.makeEvent('gotpointercapture', inEvent, inEvent);\n  this.dispatcher.dispatchEvent(e);\n}\n\nvar MsSource = /*@__PURE__*/(function (EventSource) {\n  function MsSource(dispatcher) {\n    var mapping = {\n      'MSPointerDown': msPointerDown,\n      'MSPointerMove': msPointerMove,\n      'MSPointerUp': msPointerUp,\n      'MSPointerOut': msPointerOut,\n      'MSPointerOver': msPointerOver,\n      'MSPointerCancel': msPointerCancel,\n      'MSGotPointerCapture': msGotPointerCapture,\n      'MSLostPointerCapture': msLostPointerCapture\n    };\n    EventSource.call(this, dispatcher, mapping);\n\n    /**\n     * @const\n     * @type {!Object<string, MSPointerEvent|Object>}\n     */\n    this.pointerMap = dispatcher.pointerMap;\n  }\n\n  if ( EventSource ) MsSource.__proto__ = EventSource;\n  MsSource.prototype = Object.create( EventSource && EventSource.prototype );\n  MsSource.prototype.constructor = MsSource;\n\n  /**\n   * Creates a copy of the original event that will be used\n   * for the fake pointer event.\n   *\n   * @private\n   * @param {MSPointerEvent} inEvent The in event.\n   * @return {Object} The copied event.\n   */\n  MsSource.prototype.prepareEvent_ = function prepareEvent_ (inEvent) {\n    /** @type {MSPointerEvent|Object} */\n    var e = inEvent;\n    if (typeof inEvent.pointerType === 'number') {\n      e = this.dispatcher.cloneEvent(inEvent, inEvent);\n      e.pointerType = POINTER_TYPES[inEvent.pointerType];\n    }\n\n    return e;\n  };\n\n  /**\n   * Remove this pointer from the list of active pointers.\n   * @param {number} pointerId Pointer identifier.\n   */\n  MsSource.prototype.cleanup = function cleanup (pointerId) {\n    delete this.pointerMap[pointerId.toString()];\n  };\n\n  return MsSource;\n}(EventSource));\n\nexport default MsSource;\n\n//# sourceMappingURL=MsSource.js.map","/**\n * @module ol/pointer/NativeSource\n */\n\n// Based on https://github.com/Polymer/PointerEvents\n\n// Copyright (c) 2013 The Polymer Authors. All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are\n// met:\n//\n// * Redistributions of source code must retain the above copyright\n// notice, this list of conditions and the following disclaimer.\n// * Redistributions in binary form must reproduce the above\n// copyright notice, this list of conditions and the following disclaimer\n// in the documentation and/or other materials provided with the\n// distribution.\n// * Neither the name of Google Inc. nor the names of its\n// contributors may be used to endorse or promote products derived from\n// this software without specific prior written permission.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n// \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n\nimport EventSource from './EventSource.js';\n\n/**\n * Handler for `pointerdown`.\n *\n * @this {NativeSource}\n * @param {Event} inEvent The in event.\n */\nfunction pointerDown(inEvent) {\n  this.dispatcher.fireNativeEvent(inEvent);\n}\n\n/**\n * Handler for `pointermove`.\n *\n * @this {NativeSource}\n * @param {Event} inEvent The in event.\n */\nfunction pointerMove(inEvent) {\n  this.dispatcher.fireNativeEvent(inEvent);\n}\n\n/**\n * Handler for `pointerup`.\n *\n * @this {NativeSource}\n * @param {Event} inEvent The in event.\n */\nfunction pointerUp(inEvent) {\n  this.dispatcher.fireNativeEvent(inEvent);\n}\n\n/**\n * Handler for `pointerout`.\n *\n * @this {NativeSource}\n * @param {Event} inEvent The in event.\n */\nfunction pointerOut(inEvent) {\n  this.dispatcher.fireNativeEvent(inEvent);\n}\n\n/**\n * Handler for `pointerover`.\n *\n * @this {NativeSource}\n * @param {Event} inEvent The in event.\n */\nfunction pointerOver(inEvent) {\n  this.dispatcher.fireNativeEvent(inEvent);\n}\n\n/**\n * Handler for `pointercancel`.\n *\n * @this {NativeSource}\n * @param {Event} inEvent The in event.\n */\nfunction pointerCancel(inEvent) {\n  this.dispatcher.fireNativeEvent(inEvent);\n}\n\n/**\n * Handler for `lostpointercapture`.\n *\n * @this {NativeSource}\n * @param {Event} inEvent The in event.\n */\nfunction lostPointerCapture(inEvent) {\n  this.dispatcher.fireNativeEvent(inEvent);\n}\n\n/**\n * Handler for `gotpointercapture`.\n *\n * @this {NativeSource}\n * @param {Event} inEvent The in event.\n */\nfunction gotPointerCapture(inEvent) {\n  this.dispatcher.fireNativeEvent(inEvent);\n}\n\nvar NativeSource = /*@__PURE__*/(function (EventSource) {\n  function NativeSource(dispatcher) {\n    var mapping = {\n      'pointerdown': pointerDown,\n      'pointermove': pointerMove,\n      'pointerup': pointerUp,\n      'pointerout': pointerOut,\n      'pointerover': pointerOver,\n      'pointercancel': pointerCancel,\n      'gotpointercapture': gotPointerCapture,\n      'lostpointercapture': lostPointerCapture\n    };\n    EventSource.call(this, dispatcher, mapping);\n  }\n\n  if ( EventSource ) NativeSource.__proto__ = EventSource;\n  NativeSource.prototype = Object.create( EventSource && EventSource.prototype );\n  NativeSource.prototype.constructor = NativeSource;\n\n  return NativeSource;\n}(EventSource));\n\nexport default NativeSource;\n\n//# sourceMappingURL=NativeSource.js.map","/**\n * @module ol/pointer/PointerEvent\n */\n\n// Based on https://github.com/Polymer/PointerEvents\n\n// Copyright (c) 2013 The Polymer Authors. All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are\n// met:\n//\n// * Redistributions of source code must retain the above copyright\n// notice, this list of conditions and the following disclaimer.\n// * Redistributions in binary form must reproduce the above\n// copyright notice, this list of conditions and the following disclaimer\n// in the documentation and/or other materials provided with the\n// distribution.\n// * Neither the name of Google Inc. nor the names of its\n// contributors may be used to endorse or promote products derived from\n// this software without specific prior written permission.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n// \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n\nimport _Event from '../events/Event.js';\n\n\n/**\n * Is the `buttons` property supported?\n * @type {boolean}\n */\nvar HAS_BUTTONS = false;\n\n\nvar PointerEvent = /*@__PURE__*/(function (_Event) {\n  function PointerEvent(type, originalEvent, opt_eventDict) {\n    _Event.call(this, type);\n\n    /**\n     * @const\n     * @type {Event}\n     */\n    this.originalEvent = originalEvent;\n\n    var eventDict = opt_eventDict ? opt_eventDict : {};\n\n    /**\n     * @type {number}\n     */\n    this.buttons = getButtons(eventDict);\n\n    /**\n     * @type {number}\n     */\n    this.pressure = getPressure(eventDict, this.buttons);\n\n    // MouseEvent related properties\n\n    /**\n     * @type {boolean}\n     */\n    this.bubbles = 'bubbles' in eventDict ? eventDict['bubbles'] : false;\n\n    /**\n     * @type {boolean}\n     */\n    this.cancelable = 'cancelable' in eventDict ? eventDict['cancelable'] : false;\n\n    /**\n     * @type {Object}\n     */\n    this.view = 'view' in eventDict ? eventDict['view'] : null;\n\n    /**\n     * @type {number}\n     */\n    this.detail = 'detail' in eventDict ? eventDict['detail'] : null;\n\n    /**\n     * @type {number}\n     */\n    this.screenX = 'screenX' in eventDict ? eventDict['screenX'] : 0;\n\n    /**\n     * @type {number}\n     */\n    this.screenY = 'screenY' in eventDict ? eventDict['screenY'] : 0;\n\n    /**\n     * @type {number}\n     */\n    this.clientX = 'clientX' in eventDict ? eventDict['clientX'] : 0;\n\n    /**\n     * @type {number}\n     */\n    this.clientY = 'clientY' in eventDict ? eventDict['clientY'] : 0;\n\n    /**\n     * @type {boolean}\n     */\n    this.ctrlKey = 'ctrlKey' in eventDict ? eventDict['ctrlKey'] : false;\n\n    /**\n     * @type {boolean}\n     */\n    this.altKey = 'altKey' in eventDict ? eventDict['altKey'] : false;\n\n    /**\n     * @type {boolean}\n     */\n    this.shiftKey = 'shiftKey' in eventDict ? eventDict['shiftKey'] : false;\n\n    /**\n     * @type {boolean}\n     */\n    this.metaKey = 'metaKey' in eventDict ? eventDict['metaKey'] : false;\n\n    /**\n     * @type {number}\n     */\n    this.button = 'button' in eventDict ? eventDict['button'] : 0;\n\n    /**\n     * @type {Node}\n     */\n    this.relatedTarget = 'relatedTarget' in eventDict ?\n      eventDict['relatedTarget'] : null;\n\n    // PointerEvent related properties\n\n    /**\n     * @const\n     * @type {number}\n     */\n    this.pointerId = 'pointerId' in eventDict ? eventDict['pointerId'] : 0;\n\n    /**\n     * @type {number}\n     */\n    this.width = 'width' in eventDict ? eventDict['width'] : 0;\n\n    /**\n     * @type {number}\n     */\n    this.height = 'height' in eventDict ? eventDict['height'] : 0;\n\n    /**\n     * @type {number}\n     */\n    this.tiltX = 'tiltX' in eventDict ? eventDict['tiltX'] : 0;\n\n    /**\n     * @type {number}\n     */\n    this.tiltY = 'tiltY' in eventDict ? eventDict['tiltY'] : 0;\n\n    /**\n     * @type {string}\n     */\n    this.pointerType = 'pointerType' in eventDict ? eventDict['pointerType'] : '';\n\n    /**\n     * @type {number}\n     */\n    this.hwTimestamp = 'hwTimestamp' in eventDict ? eventDict['hwTimestamp'] : 0;\n\n    /**\n     * @type {boolean}\n     */\n    this.isPrimary = 'isPrimary' in eventDict ? eventDict['isPrimary'] : false;\n\n    // keep the semantics of preventDefault\n    if (originalEvent.preventDefault) {\n      this.preventDefault = function() {\n        originalEvent.preventDefault();\n      };\n    }\n  }\n\n  if ( _Event ) PointerEvent.__proto__ = _Event;\n  PointerEvent.prototype = Object.create( _Event && _Event.prototype );\n  PointerEvent.prototype.constructor = PointerEvent;\n\n  return PointerEvent;\n}(_Event));\n\n\n/**\n * @param {Object<string, ?>} eventDict The event dictionary.\n * @return {number} Button indicator.\n */\nfunction getButtons(eventDict) {\n  // According to the w3c spec,\n  // http://www.w3.org/TR/DOM-Level-3-Events/#events-MouseEvent-button\n  // MouseEvent.button == 0 can mean either no mouse button depressed, or the\n  // left mouse button depressed.\n  //\n  // As of now, the only way to distinguish between the two states of\n  // MouseEvent.button is by using the deprecated MouseEvent.which property, as\n  // this maps mouse buttons to positive integers > 0, and uses 0 to mean that\n  // no mouse button is held.\n  //\n  // MouseEvent.which is derived from MouseEvent.button at MouseEvent creation,\n  // but initMouseEvent does not expose an argument with which to set\n  // MouseEvent.which. Calling initMouseEvent with a buttonArg of 0 will set\n  // MouseEvent.button == 0 and MouseEvent.which == 1, breaking the expectations\n  // of app developers.\n  //\n  // The only way to propagate the correct state of MouseEvent.which and\n  // MouseEvent.button to a new MouseEvent.button == 0 and MouseEvent.which == 0\n  // is to call initMouseEvent with a buttonArg value of -1.\n  //\n  // This is fixed with DOM Level 4's use of buttons\n  var buttons;\n  if (eventDict.buttons || HAS_BUTTONS) {\n    buttons = eventDict.buttons;\n  } else {\n    switch (eventDict.which) {\n      case 1: buttons = 1; break;\n      case 2: buttons = 4; break;\n      case 3: buttons = 2; break;\n      default: buttons = 0;\n    }\n  }\n  return buttons;\n}\n\n\n/**\n * @param {Object<string, ?>} eventDict The event dictionary.\n * @param {number} buttons Button indicator.\n * @return {number} The pressure.\n */\nfunction getPressure(eventDict, buttons) {\n  // Spec requires that pointers without pressure specified use 0.5 for down\n  // state and 0 for up state.\n  var pressure = 0;\n  if (eventDict.pressure) {\n    pressure = eventDict.pressure;\n  } else {\n    pressure = buttons ? 0.5 : 0;\n  }\n  return pressure;\n}\n\n\n/**\n * Checks if the `buttons` property is supported.\n */\n(function() {\n  try {\n    var ev = new MouseEvent('click', {buttons: 1});\n    HAS_BUTTONS = ev.buttons === 1;\n  } catch (e) {\n    // pass\n  }\n})();\n\nexport default PointerEvent;\n\n//# sourceMappingURL=PointerEvent.js.map","/**\n * @module ol/pointer/TouchSource\n */\n\n// Based on https://github.com/Polymer/PointerEvents\n\n// Copyright (c) 2013 The Polymer Authors. All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are\n// met:\n//\n// * Redistributions of source code must retain the above copyright\n// notice, this list of conditions and the following disclaimer.\n// * Redistributions in binary form must reproduce the above\n// copyright notice, this list of conditions and the following disclaimer\n// in the documentation and/or other materials provided with the\n// distribution.\n// * Neither the name of Google Inc. nor the names of its\n// contributors may be used to endorse or promote products derived from\n// this software without specific prior written permission.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n// \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n\nimport {remove} from '../array.js';\nimport EventSource from './EventSource.js';\nimport {POINTER_ID} from './MouseSource.js';\n\n\n/**\n * @type {number}\n */\nvar CLICK_COUNT_TIMEOUT = 200;\n\n/**\n * @type {string}\n */\nvar POINTER_TYPE = 'touch';\n\n/**\n * Handler for `touchstart`, triggers `pointerover`,\n * `pointerenter` and `pointerdown` events.\n *\n * @this {TouchSource}\n * @param {TouchEvent} inEvent The in event.\n */\nfunction touchstart(inEvent) {\n  this.vacuumTouches_(inEvent);\n  this.setPrimaryTouch_(inEvent.changedTouches[0]);\n  this.dedupSynthMouse_(inEvent);\n  this.clickCount_++;\n  this.processTouches_(inEvent, this.overDown_);\n}\n\n/**\n * Handler for `touchmove`.\n *\n * @this {TouchSource}\n * @param {TouchEvent} inEvent The in event.\n */\nfunction touchmove(inEvent) {\n  this.processTouches_(inEvent, this.moveOverOut_);\n}\n\n/**\n * Handler for `touchend`, triggers `pointerup`,\n * `pointerout` and `pointerleave` events.\n *\n * @this {TouchSource}\n * @param {TouchEvent} inEvent The event.\n */\nfunction touchend(inEvent) {\n  this.dedupSynthMouse_(inEvent);\n  this.processTouches_(inEvent, this.upOut_);\n}\n\n/**\n * Handler for `touchcancel`, triggers `pointercancel`,\n * `pointerout` and `pointerleave` events.\n *\n * @this {TouchSource}\n * @param {TouchEvent} inEvent The in event.\n */\nfunction touchcancel(inEvent) {\n  this.processTouches_(inEvent, this.cancelOut_);\n}\n\n\nvar TouchSource = /*@__PURE__*/(function (EventSource) {\n  function TouchSource(dispatcher, mouseSource) {\n    var mapping = {\n      'touchstart': touchstart,\n      'touchmove': touchmove,\n      'touchend': touchend,\n      'touchcancel': touchcancel\n    };\n    EventSource.call(this, dispatcher, mapping);\n\n    /**\n     * @const\n     * @type {!Object<string, Event|Object>}\n     */\n    this.pointerMap = dispatcher.pointerMap;\n\n    /**\n     * @const\n     * @type {import(\"./MouseSource.js\").default}\n     */\n    this.mouseSource = mouseSource;\n\n    /**\n     * @private\n     * @type {number|undefined}\n     */\n    this.firstTouchId_ = undefined;\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.clickCount_ = 0;\n\n    /**\n     * @private\n     * @type {?}\n     */\n    this.resetId_;\n\n    /**\n     * Mouse event timeout: This should be long enough to\n     * ignore compat mouse events made by touch.\n     * @private\n     * @type {number}\n     */\n    this.dedupTimeout_ = 2500;\n  }\n\n  if ( EventSource ) TouchSource.__proto__ = EventSource;\n  TouchSource.prototype = Object.create( EventSource && EventSource.prototype );\n  TouchSource.prototype.constructor = TouchSource;\n\n  /**\n   * @private\n   * @param {Touch} inTouch The in touch.\n   * @return {boolean} True, if this is the primary touch.\n   */\n  TouchSource.prototype.isPrimaryTouch_ = function isPrimaryTouch_ (inTouch) {\n    return this.firstTouchId_ === inTouch.identifier;\n  };\n\n  /**\n   * Set primary touch if there are no pointers, or the only pointer is the mouse.\n   * @param {Touch} inTouch The in touch.\n   * @private\n   */\n  TouchSource.prototype.setPrimaryTouch_ = function setPrimaryTouch_ (inTouch) {\n    var count = Object.keys(this.pointerMap).length;\n    if (count === 0 || (count === 1 && POINTER_ID.toString() in this.pointerMap)) {\n      this.firstTouchId_ = inTouch.identifier;\n      this.cancelResetClickCount_();\n    }\n  };\n\n  /**\n   * @private\n   * @param {PointerEvent} inPointer The in pointer object.\n   */\n  TouchSource.prototype.removePrimaryPointer_ = function removePrimaryPointer_ (inPointer) {\n    if (inPointer.isPrimary) {\n      this.firstTouchId_ = undefined;\n      this.resetClickCount_();\n    }\n  };\n\n  /**\n   * @private\n   */\n  TouchSource.prototype.resetClickCount_ = function resetClickCount_ () {\n    this.resetId_ = setTimeout(\n      this.resetClickCountHandler_.bind(this),\n      CLICK_COUNT_TIMEOUT);\n  };\n\n  /**\n   * @private\n   */\n  TouchSource.prototype.resetClickCountHandler_ = function resetClickCountHandler_ () {\n    this.clickCount_ = 0;\n    this.resetId_ = undefined;\n  };\n\n  /**\n   * @private\n   */\n  TouchSource.prototype.cancelResetClickCount_ = function cancelResetClickCount_ () {\n    if (this.resetId_ !== undefined) {\n      clearTimeout(this.resetId_);\n    }\n  };\n\n  /**\n   * @private\n   * @param {TouchEvent} browserEvent Browser event\n   * @param {Touch} inTouch Touch event\n   * @return {PointerEvent} A pointer object.\n   */\n  TouchSource.prototype.touchToPointer_ = function touchToPointer_ (browserEvent, inTouch) {\n    var e = this.dispatcher.cloneEvent(browserEvent, inTouch);\n    // Spec specifies that pointerId 1 is reserved for Mouse.\n    // Touch identifiers can start at 0.\n    // Add 2 to the touch identifier for compatibility.\n    e.pointerId = inTouch.identifier + 2;\n    // TODO: check if this is necessary?\n    //e.target = findTarget(e);\n    e.bubbles = true;\n    e.cancelable = true;\n    e.detail = this.clickCount_;\n    e.button = 0;\n    e.buttons = 1;\n    e.width = inTouch.radiusX || 0;\n    e.height = inTouch.radiusY || 0;\n    e.pressure = inTouch.force || 0.5;\n    e.isPrimary = this.isPrimaryTouch_(inTouch);\n    e.pointerType = POINTER_TYPE;\n\n    // make sure that the properties that are different for\n    // each `Touch` object are not copied from the BrowserEvent object\n    e.clientX = inTouch.clientX;\n    e.clientY = inTouch.clientY;\n    e.screenX = inTouch.screenX;\n    e.screenY = inTouch.screenY;\n\n    return e;\n  };\n\n  /**\n   * @private\n   * @param {TouchEvent} inEvent Touch event\n   * @param {function(TouchEvent, PointerEvent)} inFunction In function.\n   */\n  TouchSource.prototype.processTouches_ = function processTouches_ (inEvent, inFunction) {\n    var touches = Array.prototype.slice.call(inEvent.changedTouches);\n    var count = touches.length;\n    function preventDefault() {\n      inEvent.preventDefault();\n    }\n    for (var i = 0; i < count; ++i) {\n      var pointer = this.touchToPointer_(inEvent, touches[i]);\n      // forward touch preventDefaults\n      pointer.preventDefault = preventDefault;\n      inFunction.call(this, inEvent, pointer);\n    }\n  };\n\n  /**\n   * @private\n   * @param {TouchList} touchList The touch list.\n   * @param {number} searchId Search identifier.\n   * @return {boolean} True, if the `Touch` with the given id is in the list.\n   */\n  TouchSource.prototype.findTouch_ = function findTouch_ (touchList, searchId) {\n    var l = touchList.length;\n    for (var i = 0; i < l; i++) {\n      var touch = touchList[i];\n      if (touch.identifier === searchId) {\n        return true;\n      }\n    }\n    return false;\n  };\n\n  /**\n   * In some instances, a touchstart can happen without a touchend. This\n   * leaves the pointermap in a broken state.\n   * Therefore, on every touchstart, we remove the touches that did not fire a\n   * touchend event.\n   * To keep state globally consistent, we fire a pointercancel for\n   * this \"abandoned\" touch\n   *\n   * @private\n   * @param {TouchEvent} inEvent The in event.\n   */\n  TouchSource.prototype.vacuumTouches_ = function vacuumTouches_ (inEvent) {\n    var touchList = inEvent.touches;\n    // pointerMap.getCount() should be < touchList.length here,\n    // as the touchstart has not been processed yet.\n    var keys = Object.keys(this.pointerMap);\n    var count = keys.length;\n    if (count >= touchList.length) {\n      var d = [];\n      for (var i = 0; i < count; ++i) {\n        var key = Number(keys[i]);\n        var value = this.pointerMap[key];\n        // Never remove pointerId == 1, which is mouse.\n        // Touch identifiers are 2 smaller than their pointerId, which is the\n        // index in pointermap.\n        if (key != POINTER_ID && !this.findTouch_(touchList, key - 2)) {\n          d.push(value.out);\n        }\n      }\n      for (var i$1 = 0; i$1 < d.length; ++i$1) {\n        this.cancelOut_(inEvent, d[i$1]);\n      }\n    }\n  };\n\n  /**\n   * @private\n   * @param {TouchEvent} browserEvent The event.\n   * @param {PointerEvent} inPointer The in pointer object.\n   */\n  TouchSource.prototype.overDown_ = function overDown_ (browserEvent, inPointer) {\n    this.pointerMap[inPointer.pointerId] = {\n      target: inPointer.target,\n      out: inPointer,\n      outTarget: inPointer.target\n    };\n    this.dispatcher.over(inPointer, browserEvent);\n    this.dispatcher.enter(inPointer, browserEvent);\n    this.dispatcher.down(inPointer, browserEvent);\n  };\n\n  /**\n   * @private\n   * @param {TouchEvent} browserEvent The event.\n   * @param {PointerEvent} inPointer The in pointer.\n   */\n  TouchSource.prototype.moveOverOut_ = function moveOverOut_ (browserEvent, inPointer) {\n    var event = inPointer;\n    var pointer = this.pointerMap[event.pointerId];\n    // a finger drifted off the screen, ignore it\n    if (!pointer) {\n      return;\n    }\n    var outEvent = pointer.out;\n    var outTarget = pointer.outTarget;\n    this.dispatcher.move(event, browserEvent);\n    if (outEvent && outTarget !== event.target) {\n      outEvent.relatedTarget = event.target;\n      /** @type {Object} */ (event).relatedTarget = outTarget;\n      // recover from retargeting by shadow\n      outEvent.target = outTarget;\n      if (event.target) {\n        this.dispatcher.leaveOut(outEvent, browserEvent);\n        this.dispatcher.enterOver(event, browserEvent);\n      } else {\n        // clean up case when finger leaves the screen\n        /** @type {Object} */ (event).target = outTarget;\n        /** @type {Object} */ (event).relatedTarget = null;\n        this.cancelOut_(browserEvent, event);\n      }\n    }\n    pointer.out = event;\n    pointer.outTarget = event.target;\n  };\n\n  /**\n   * @private\n   * @param {TouchEvent} browserEvent An event.\n   * @param {PointerEvent} inPointer The inPointer object.\n   */\n  TouchSource.prototype.upOut_ = function upOut_ (browserEvent, inPointer) {\n    this.dispatcher.up(inPointer, browserEvent);\n    this.dispatcher.out(inPointer, browserEvent);\n    this.dispatcher.leave(inPointer, browserEvent);\n    this.cleanUpPointer_(inPointer);\n  };\n\n  /**\n   * @private\n   * @param {TouchEvent} browserEvent The event.\n   * @param {PointerEvent} inPointer The in pointer.\n   */\n  TouchSource.prototype.cancelOut_ = function cancelOut_ (browserEvent, inPointer) {\n    this.dispatcher.cancel(inPointer, browserEvent);\n    this.dispatcher.out(inPointer, browserEvent);\n    this.dispatcher.leave(inPointer, browserEvent);\n    this.cleanUpPointer_(inPointer);\n  };\n\n  /**\n   * @private\n   * @param {PointerEvent} inPointer The inPointer object.\n   */\n  TouchSource.prototype.cleanUpPointer_ = function cleanUpPointer_ (inPointer) {\n    delete this.pointerMap[inPointer.pointerId];\n    this.removePrimaryPointer_(inPointer);\n  };\n\n  /**\n   * Prevent synth mouse events from creating pointer events.\n   *\n   * @private\n   * @param {TouchEvent} inEvent The in event.\n   */\n  TouchSource.prototype.dedupSynthMouse_ = function dedupSynthMouse_ (inEvent) {\n    var lts = this.mouseSource.lastTouches;\n    var t = inEvent.changedTouches[0];\n    // only the primary finger will synth mouse events\n    if (this.isPrimaryTouch_(t)) {\n      // remember x/y of last touch\n      var lt = [t.clientX, t.clientY];\n      lts.push(lt);\n\n      setTimeout(function() {\n        // remove touch after timeout\n        remove(lts, lt);\n      }, this.dedupTimeout_);\n    }\n  };\n\n  return TouchSource;\n}(EventSource));\n\nexport default TouchSource;\n\n//# sourceMappingURL=TouchSource.js.map","/**\n * @module ol/pointer/PointerEventHandler\n */\n\n// Based on https://github.com/Polymer/PointerEvents\n\n// Copyright (c) 2013 The Polymer Authors. All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are\n// met:\n//\n// * Redistributions of source code must retain the above copyright\n// notice, this list of conditions and the following disclaimer.\n// * Redistributions in binary form must reproduce the above\n// copyright notice, this list of conditions and the following disclaimer\n// in the documentation and/or other materials provided with the\n// distribution.\n// * Neither the name of Google Inc. nor the names of its\n// contributors may be used to endorse or promote products derived from\n// this software without specific prior written permission.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n// \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n\nimport {listen, unlisten} from '../events.js';\nimport EventTarget from '../events/Target.js';\nimport {POINTER, MSPOINTER, TOUCH} from '../has.js';\nimport PointerEventType from './EventType.js';\nimport MouseSource, {prepareEvent as prepareMouseEvent} from './MouseSource.js';\nimport MsSource from './MsSource.js';\nimport NativeSource from './NativeSource.js';\nimport PointerEvent from './PointerEvent.js';\nimport TouchSource from './TouchSource.js';\n\n\n/**\n * Properties to copy when cloning an event, with default values.\n * @type {Array<Array>}\n */\nvar CLONE_PROPS = [\n  // MouseEvent\n  ['bubbles', false],\n  ['cancelable', false],\n  ['view', null],\n  ['detail', null],\n  ['screenX', 0],\n  ['screenY', 0],\n  ['clientX', 0],\n  ['clientY', 0],\n  ['ctrlKey', false],\n  ['altKey', false],\n  ['shiftKey', false],\n  ['metaKey', false],\n  ['button', 0],\n  ['relatedTarget', null],\n  // DOM Level 3\n  ['buttons', 0],\n  // PointerEvent\n  ['pointerId', 0],\n  ['width', 0],\n  ['height', 0],\n  ['pressure', 0],\n  ['tiltX', 0],\n  ['tiltY', 0],\n  ['pointerType', ''],\n  ['hwTimestamp', 0],\n  ['isPrimary', false],\n  // event instance\n  ['type', ''],\n  ['target', null],\n  ['currentTarget', null],\n  ['which', 0]\n];\n\n\nvar PointerEventHandler = /*@__PURE__*/(function (EventTarget) {\n  function PointerEventHandler(element) {\n    EventTarget.call(this);\n\n    /**\n     * @const\n     * @private\n     * @type {Element|HTMLDocument}\n     */\n    this.element_ = element;\n\n    /**\n     * @const\n     * @type {!Object<string, Event|Object>}\n     */\n    this.pointerMap = {};\n\n    /**\n     * @type {Object<string, function(Event)>}\n     * @private\n     */\n    this.eventMap_ = {};\n\n    /**\n     * @type {Array<import(\"./EventSource.js\").default>}\n     * @private\n     */\n    this.eventSourceList_ = [];\n\n    this.registerSources();\n  }\n\n  if ( EventTarget ) PointerEventHandler.__proto__ = EventTarget;\n  PointerEventHandler.prototype = Object.create( EventTarget && EventTarget.prototype );\n  PointerEventHandler.prototype.constructor = PointerEventHandler;\n\n  /**\n   * Set up the event sources (mouse, touch and native pointers)\n   * that generate pointer events.\n   */\n  PointerEventHandler.prototype.registerSources = function registerSources () {\n    if (POINTER) {\n      this.registerSource('native', new NativeSource(this));\n    } else if (MSPOINTER) {\n      this.registerSource('ms', new MsSource(this));\n    } else {\n      var mouseSource = new MouseSource(this);\n      this.registerSource('mouse', mouseSource);\n\n      if (TOUCH) {\n        this.registerSource('touch', new TouchSource(this, mouseSource));\n      }\n    }\n\n    // register events on the viewport element\n    this.register_();\n  };\n\n  /**\n   * Add a new event source that will generate pointer events.\n   *\n   * @param {string} name A name for the event source\n   * @param {import(\"./EventSource.js\").default} source The source event.\n   */\n  PointerEventHandler.prototype.registerSource = function registerSource (name, source) {\n    var s = source;\n    var newEvents = s.getEvents();\n\n    if (newEvents) {\n      newEvents.forEach(function(e) {\n        var handler = s.getHandlerForEvent(e);\n\n        if (handler) {\n          this.eventMap_[e] = handler.bind(s);\n        }\n      }.bind(this));\n      this.eventSourceList_.push(s);\n    }\n  };\n\n  /**\n   * Set up the events for all registered event sources.\n   * @private\n   */\n  PointerEventHandler.prototype.register_ = function register_ () {\n    var l = this.eventSourceList_.length;\n    for (var i = 0; i < l; i++) {\n      var eventSource = this.eventSourceList_[i];\n      this.addEvents_(eventSource.getEvents());\n    }\n  };\n\n  /**\n   * Remove all registered events.\n   * @private\n   */\n  PointerEventHandler.prototype.unregister_ = function unregister_ () {\n    var l = this.eventSourceList_.length;\n    for (var i = 0; i < l; i++) {\n      var eventSource = this.eventSourceList_[i];\n      this.removeEvents_(eventSource.getEvents());\n    }\n  };\n\n  /**\n   * Calls the right handler for a new event.\n   * @private\n   * @param {Event} inEvent Browser event.\n   */\n  PointerEventHandler.prototype.eventHandler_ = function eventHandler_ (inEvent) {\n    var type = inEvent.type;\n    var handler = this.eventMap_[type];\n    if (handler) {\n      handler(inEvent);\n    }\n  };\n\n  /**\n   * Setup listeners for the given events.\n   * @private\n   * @param {Array<string>} events List of events.\n   */\n  PointerEventHandler.prototype.addEvents_ = function addEvents_ (events) {\n    events.forEach(function(eventName) {\n      listen(this.element_, eventName, this.eventHandler_, this);\n    }.bind(this));\n  };\n\n  /**\n   * Unregister listeners for the given events.\n   * @private\n   * @param {Array<string>} events List of events.\n   */\n  PointerEventHandler.prototype.removeEvents_ = function removeEvents_ (events) {\n    events.forEach(function(e) {\n      unlisten(this.element_, e, this.eventHandler_, this);\n    }.bind(this));\n  };\n\n  /**\n   * Returns a snapshot of inEvent, with writable properties.\n   *\n   * @param {Event} event Browser event.\n   * @param {Event|Touch} inEvent An event that contains\n   *    properties to copy.\n   * @return {Object} An object containing shallow copies of\n   *    `inEvent`'s properties.\n   */\n  PointerEventHandler.prototype.cloneEvent = function cloneEvent (event, inEvent) {\n    var eventCopy = {};\n    for (var i = 0, ii = CLONE_PROPS.length; i < ii; i++) {\n      var p = CLONE_PROPS[i][0];\n      eventCopy[p] = event[p] || inEvent[p] || CLONE_PROPS[i][1];\n    }\n\n    return eventCopy;\n  };\n\n  // EVENTS\n\n\n  /**\n   * Triggers a 'pointerdown' event.\n   * @param {Object} data Pointer event data.\n   * @param {Event} event The event.\n   */\n  PointerEventHandler.prototype.down = function down (data, event) {\n    this.fireEvent(PointerEventType.POINTERDOWN, data, event);\n  };\n\n  /**\n   * Triggers a 'pointermove' event.\n   * @param {Object} data Pointer event data.\n   * @param {Event} event The event.\n   */\n  PointerEventHandler.prototype.move = function move (data, event) {\n    this.fireEvent(PointerEventType.POINTERMOVE, data, event);\n  };\n\n  /**\n   * Triggers a 'pointerup' event.\n   * @param {Object} data Pointer event data.\n   * @param {Event} event The event.\n   */\n  PointerEventHandler.prototype.up = function up (data, event) {\n    this.fireEvent(PointerEventType.POINTERUP, data, event);\n  };\n\n  /**\n   * Triggers a 'pointerenter' event.\n   * @param {Object} data Pointer event data.\n   * @param {Event} event The event.\n   */\n  PointerEventHandler.prototype.enter = function enter (data, event) {\n    data.bubbles = false;\n    this.fireEvent(PointerEventType.POINTERENTER, data, event);\n  };\n\n  /**\n   * Triggers a 'pointerleave' event.\n   * @param {Object} data Pointer event data.\n   * @param {Event} event The event.\n   */\n  PointerEventHandler.prototype.leave = function leave (data, event) {\n    data.bubbles = false;\n    this.fireEvent(PointerEventType.POINTERLEAVE, data, event);\n  };\n\n  /**\n   * Triggers a 'pointerover' event.\n   * @param {Object} data Pointer event data.\n   * @param {Event} event The event.\n   */\n  PointerEventHandler.prototype.over = function over (data, event) {\n    data.bubbles = true;\n    this.fireEvent(PointerEventType.POINTEROVER, data, event);\n  };\n\n  /**\n   * Triggers a 'pointerout' event.\n   * @param {Object} data Pointer event data.\n   * @param {Event} event The event.\n   */\n  PointerEventHandler.prototype.out = function out (data, event) {\n    data.bubbles = true;\n    this.fireEvent(PointerEventType.POINTEROUT, data, event);\n  };\n\n  /**\n   * Triggers a 'pointercancel' event.\n   * @param {Object} data Pointer event data.\n   * @param {Event} event The event.\n   */\n  PointerEventHandler.prototype.cancel = function cancel (data, event) {\n    this.fireEvent(PointerEventType.POINTERCANCEL, data, event);\n  };\n\n  /**\n   * Triggers a combination of 'pointerout' and 'pointerleave' events.\n   * @param {Object} data Pointer event data.\n   * @param {Event} event The event.\n   */\n  PointerEventHandler.prototype.leaveOut = function leaveOut (data, event) {\n    this.out(data, event);\n    if (!this.contains_(data.target, data.relatedTarget)) {\n      this.leave(data, event);\n    }\n  };\n\n  /**\n   * Triggers a combination of 'pointerover' and 'pointerevents' events.\n   * @param {Object} data Pointer event data.\n   * @param {Event} event The event.\n   */\n  PointerEventHandler.prototype.enterOver = function enterOver (data, event) {\n    this.over(data, event);\n    if (!this.contains_(data.target, data.relatedTarget)) {\n      this.enter(data, event);\n    }\n  };\n\n  /**\n   * @private\n   * @param {Element} container The container element.\n   * @param {Element} contained The contained element.\n   * @return {boolean} Returns true if the container element\n   *   contains the other element.\n   */\n  PointerEventHandler.prototype.contains_ = function contains_ (container, contained) {\n    if (!container || !contained) {\n      return false;\n    }\n    return container.contains(contained);\n  };\n\n  // EVENT CREATION AND TRACKING\n  /**\n   * Creates a new Event of type `inType`, based on the information in\n   * `data`.\n   *\n   * @param {string} inType A string representing the type of event to create.\n   * @param {Object} data Pointer event data.\n   * @param {Event} event The event.\n   * @return {PointerEvent} A PointerEvent of type `inType`.\n   */\n  PointerEventHandler.prototype.makeEvent = function makeEvent (inType, data, event) {\n    return new PointerEvent(inType, event, data);\n  };\n\n  /**\n   * Make and dispatch an event in one call.\n   * @param {string} inType A string representing the type of event.\n   * @param {Object} data Pointer event data.\n   * @param {Event} event The event.\n   */\n  PointerEventHandler.prototype.fireEvent = function fireEvent (inType, data, event) {\n    var e = this.makeEvent(inType, data, event);\n    this.dispatchEvent(e);\n  };\n\n  /**\n   * Creates a pointer event from a native pointer event\n   * and dispatches this event.\n   * @param {Event} event A platform event with a target.\n   */\n  PointerEventHandler.prototype.fireNativeEvent = function fireNativeEvent (event) {\n    var e = this.makeEvent(event.type, event, event);\n    this.dispatchEvent(e);\n  };\n\n  /**\n   * Wrap a native mouse event into a pointer event.\n   * This proxy method is required for the legacy IE support.\n   * @param {string} eventType The pointer event type.\n   * @param {Event} event The event.\n   * @return {PointerEvent} The wrapped event.\n   */\n  PointerEventHandler.prototype.wrapMouseEvent = function wrapMouseEvent (eventType, event) {\n    var pointerEvent = this.makeEvent(\n      eventType, prepareMouseEvent(event, this), event);\n    return pointerEvent;\n  };\n\n  /**\n   * @inheritDoc\n   */\n  PointerEventHandler.prototype.disposeInternal = function disposeInternal () {\n    this.unregister_();\n    EventTarget.prototype.disposeInternal.call(this);\n  };\n\n  return PointerEventHandler;\n}(EventTarget));\n\nexport default PointerEventHandler;\n\n//# sourceMappingURL=PointerEventHandler.js.map","/**\n * @module ol/interaction/Snap\n */\nimport {getUid} from '../util.js';\nimport CollectionEventType from '../CollectionEventType.js';\nimport {distance as coordinateDistance, squaredDistance as squaredCoordinateDistance, closestOnCircle, closestOnSegment, squaredDistanceToSegment} from '../coordinate.js';\nimport {listen, unlistenByKey} from '../events.js';\nimport EventType from '../events/EventType.js';\nimport {boundingExtent, createEmpty} from '../extent.js';\nimport {TRUE, FALSE} from '../functions.js';\nimport GeometryType from '../geom/GeometryType.js';\nimport {fromCircle} from '../geom/Polygon.js';\nimport PointerInteraction from './Pointer.js';\nimport {getValues} from '../obj.js';\nimport VectorEventType from '../source/VectorEventType.js';\nimport RBush from '../structs/RBush.js';\n\n\n/**\n * @typedef {Object} Result\n * @property {boolean} snapped\n * @property {import(\"../coordinate.js\").Coordinate|null} vertex\n * @property {import(\"../pixel.js\").Pixel|null} vertexPixel\n */\n\n\n/**\n * @typedef {Object} SegmentData\n * @property {import(\"../Feature.js\").default} feature\n * @property {Array<import(\"../coordinate.js\").Coordinate>} segment\n */\n\n\n/**\n * @typedef {Object} Options\n * @property {import(\"../Collection.js\").default<import(\"../Feature.js\").default>} [features] Snap to these features. Either this option or source should be provided.\n * @property {boolean} [edge=true] Snap to edges.\n * @property {boolean} [vertex=true] Snap to vertices.\n * @property {number} [pixelTolerance=10] Pixel tolerance for considering the pointer close enough to a segment or\n * vertex for snapping.\n * @property {import(\"../source/Vector.js\").default} [source] Snap to features from this source. Either this option or features should be provided\n */\n\n\n/**\n * @param  {import(\"../source/Vector.js\").VectorSourceEvent|import(\"../Collection.js\").CollectionEvent} evt Event.\n * @return {import(\"../Feature.js\").default} Feature.\n */\nfunction getFeatureFromEvent(evt) {\n  if (/** @type {import(\"../source/Vector.js\").VectorSourceEvent} */ (evt).feature) {\n    return /** @type {import(\"../source/Vector.js\").VectorSourceEvent} */ (evt).feature;\n  } else if (/** @type {import(\"../Collection.js\").CollectionEvent} */ (evt).element) {\n    return /** @type {import(\"../Feature.js\").default} */ (/** @type {import(\"../Collection.js\").CollectionEvent} */ (evt).element);\n  }\n\n}\n\n/**\n * @classdesc\n * Handles snapping of vector features while modifying or drawing them.  The\n * features can come from a {@link module:ol/source/Vector} or {@link module:ol/Collection~Collection}\n * Any interaction object that allows the user to interact\n * with the features using the mouse can benefit from the snapping, as long\n * as it is added before.\n *\n * The snap interaction modifies map browser event `coordinate` and `pixel`\n * properties to force the snap to occur to any interaction that them.\n *\n * Example:\n *\n *     import Snap from 'ol/interaction/Snap';\n *\n *     var snap = new Snap({\n *       source: source\n *     });\n *\n * @api\n */\nvar Snap = /*@__PURE__*/(function (PointerInteraction) {\n  function Snap(opt_options) {\n\n    var options = opt_options ? opt_options : {};\n\n    var pointerOptions = /** @type {import(\"./Pointer.js\").Options} */ (options);\n\n    if (!pointerOptions.handleDownEvent) {\n      pointerOptions.handleDownEvent = TRUE;\n    }\n\n    if (!pointerOptions.stopDown) {\n      pointerOptions.stopDown = FALSE;\n    }\n\n    PointerInteraction.call(this, pointerOptions);\n\n    /**\n     * @type {import(\"../source/Vector.js\").default}\n     * @private\n     */\n    this.source_ = options.source ? options.source : null;\n\n    /**\n     * @private\n     * @type {boolean}\n     */\n    this.vertex_ = options.vertex !== undefined ? options.vertex : true;\n\n    /**\n     * @private\n     * @type {boolean}\n     */\n    this.edge_ = options.edge !== undefined ? options.edge : true;\n\n    /**\n     * @type {import(\"../Collection.js\").default<import(\"../Feature.js\").default>}\n     * @private\n     */\n    this.features_ = options.features ? options.features : null;\n\n    /**\n     * @type {Array<import(\"../events.js\").EventsKey>}\n     * @private\n     */\n    this.featuresListenerKeys_ = [];\n\n    /**\n     * @type {Object<string, import(\"../events.js\").EventsKey>}\n     * @private\n     */\n    this.featureChangeListenerKeys_ = {};\n\n    /**\n     * Extents are preserved so indexed segment can be quickly removed\n     * when its feature geometry changes\n     * @type {Object<string, import(\"../extent.js\").Extent>}\n     * @private\n     */\n    this.indexedFeaturesExtents_ = {};\n\n    /**\n     * If a feature geometry changes while a pointer drag|move event occurs, the\n     * feature doesn't get updated right away.  It will be at the next 'pointerup'\n     * event fired.\n     * @type {!Object<string, import(\"../Feature.js\").default>}\n     * @private\n     */\n    this.pendingFeatures_ = {};\n\n    /**\n     * Used for distance sorting in sortByDistance_\n     * @type {import(\"../coordinate.js\").Coordinate}\n     * @private\n     */\n    this.pixelCoordinate_ = null;\n\n    /**\n     * @type {number}\n     * @private\n     */\n    this.pixelTolerance_ = options.pixelTolerance !== undefined ?\n      options.pixelTolerance : 10;\n\n    /**\n     * @type {function(SegmentData, SegmentData): number}\n     * @private\n     */\n    this.sortByDistance_ = sortByDistance.bind(this);\n\n\n    /**\n    * Segment RTree for each layer\n    * @type {import(\"../structs/RBush.js\").default<SegmentData>}\n    * @private\n    */\n    this.rBush_ = new RBush();\n\n\n    /**\n    * @const\n    * @private\n    * @type {Object<string, function(import(\"../Feature.js\").default, import(\"../geom/Geometry.js\").default)>}\n    */\n    this.SEGMENT_WRITERS_ = {\n      'Point': this.writePointGeometry_,\n      'LineString': this.writeLineStringGeometry_,\n      'LinearRing': this.writeLineStringGeometry_,\n      'Polygon': this.writePolygonGeometry_,\n      'MultiPoint': this.writeMultiPointGeometry_,\n      'MultiLineString': this.writeMultiLineStringGeometry_,\n      'MultiPolygon': this.writeMultiPolygonGeometry_,\n      'GeometryCollection': this.writeGeometryCollectionGeometry_,\n      'Circle': this.writeCircleGeometry_\n    };\n  }\n\n  if ( PointerInteraction ) Snap.__proto__ = PointerInteraction;\n  Snap.prototype = Object.create( PointerInteraction && PointerInteraction.prototype );\n  Snap.prototype.constructor = Snap;\n\n  /**\n   * Add a feature to the collection of features that we may snap to.\n   * @param {import(\"../Feature.js\").default} feature Feature.\n   * @param {boolean=} opt_listen Whether to listen to the feature change or not\n   *     Defaults to `true`.\n   * @api\n   */\n  Snap.prototype.addFeature = function addFeature (feature, opt_listen) {\n    var register = opt_listen !== undefined ? opt_listen : true;\n    var feature_uid = getUid(feature);\n    var geometry = feature.getGeometry();\n    if (geometry) {\n      var segmentWriter = this.SEGMENT_WRITERS_[geometry.getType()];\n      if (segmentWriter) {\n        this.indexedFeaturesExtents_[feature_uid] = geometry.getExtent(createEmpty());\n        segmentWriter.call(this, feature, geometry);\n      }\n    }\n\n    if (register) {\n      this.featureChangeListenerKeys_[feature_uid] = listen(\n        feature,\n        EventType.CHANGE,\n        this.handleFeatureChange_, this);\n    }\n  };\n\n  /**\n   * @param {import(\"../Feature.js\").default} feature Feature.\n   * @private\n   */\n  Snap.prototype.forEachFeatureAdd_ = function forEachFeatureAdd_ (feature) {\n    this.addFeature(feature);\n  };\n\n  /**\n   * @param {import(\"../Feature.js\").default} feature Feature.\n   * @private\n   */\n  Snap.prototype.forEachFeatureRemove_ = function forEachFeatureRemove_ (feature) {\n    this.removeFeature(feature);\n  };\n\n  /**\n   * @return {import(\"../Collection.js\").default<import(\"../Feature.js\").default>|Array<import(\"../Feature.js\").default>} Features.\n   * @private\n   */\n  Snap.prototype.getFeatures_ = function getFeatures_ () {\n    var features;\n    if (this.features_) {\n      features = this.features_;\n    } else if (this.source_) {\n      features = this.source_.getFeatures();\n    }\n    return features;\n  };\n\n  /**\n   * @inheritDoc\n   */\n  Snap.prototype.handleEvent = function handleEvent (evt) {\n    var result = this.snapTo(evt.pixel, evt.coordinate, evt.map);\n    if (result.snapped) {\n      evt.coordinate = result.vertex.slice(0, 2);\n      evt.pixel = result.vertexPixel;\n    }\n    return PointerInteraction.prototype.handleEvent.call(this, evt);\n  };\n\n  /**\n   * @param {import(\"../source/Vector.js\").VectorSourceEvent|import(\"../Collection.js\").CollectionEvent} evt Event.\n   * @private\n   */\n  Snap.prototype.handleFeatureAdd_ = function handleFeatureAdd_ (evt) {\n    var feature = getFeatureFromEvent(evt);\n    this.addFeature(feature);\n  };\n\n  /**\n   * @param {import(\"../source/Vector.js\").VectorSourceEvent|import(\"../Collection.js\").CollectionEvent} evt Event.\n   * @private\n   */\n  Snap.prototype.handleFeatureRemove_ = function handleFeatureRemove_ (evt) {\n    var feature = getFeatureFromEvent(evt);\n    this.removeFeature(feature);\n  };\n\n  /**\n   * @param {import(\"../events/Event.js\").default} evt Event.\n   * @private\n   */\n  Snap.prototype.handleFeatureChange_ = function handleFeatureChange_ (evt) {\n    var feature = /** @type {import(\"../Feature.js\").default} */ (evt.target);\n    if (this.handlingDownUpSequence) {\n      var uid = getUid(feature);\n      if (!(uid in this.pendingFeatures_)) {\n        this.pendingFeatures_[uid] = feature;\n      }\n    } else {\n      this.updateFeature_(feature);\n    }\n  };\n\n  /**\n   * @inheritDoc\n   */\n  Snap.prototype.handleUpEvent = function handleUpEvent (evt) {\n    var featuresToUpdate = getValues(this.pendingFeatures_);\n    if (featuresToUpdate.length) {\n      featuresToUpdate.forEach(this.updateFeature_.bind(this));\n      this.pendingFeatures_ = {};\n    }\n    return false;\n  };\n\n  /**\n   * Remove a feature from the collection of features that we may snap to.\n   * @param {import(\"../Feature.js\").default} feature Feature\n   * @param {boolean=} opt_unlisten Whether to unlisten to the feature change\n   *     or not. Defaults to `true`.\n   * @api\n   */\n  Snap.prototype.removeFeature = function removeFeature (feature, opt_unlisten) {\n    var unregister = opt_unlisten !== undefined ? opt_unlisten : true;\n    var feature_uid = getUid(feature);\n    var extent = this.indexedFeaturesExtents_[feature_uid];\n    if (extent) {\n      var rBush = this.rBush_;\n      var nodesToRemove = [];\n      rBush.forEachInExtent(extent, function(node) {\n        if (feature === node.feature) {\n          nodesToRemove.push(node);\n        }\n      });\n      for (var i = nodesToRemove.length - 1; i >= 0; --i) {\n        rBush.remove(nodesToRemove[i]);\n      }\n    }\n\n    if (unregister) {\n      unlistenByKey(this.featureChangeListenerKeys_[feature_uid]);\n      delete this.featureChangeListenerKeys_[feature_uid];\n    }\n  };\n\n  /**\n   * @inheritDoc\n   */\n  Snap.prototype.setMap = function setMap (map) {\n    var currentMap = this.getMap();\n    var keys = this.featuresListenerKeys_;\n    var features = /** @type {Array<import(\"../Feature.js\").default>} */ (this.getFeatures_());\n\n    if (currentMap) {\n      keys.forEach(unlistenByKey);\n      keys.length = 0;\n      features.forEach(this.forEachFeatureRemove_.bind(this));\n    }\n    PointerInteraction.prototype.setMap.call(this, map);\n\n    if (map) {\n      if (this.features_) {\n        keys.push(\n          listen(this.features_, CollectionEventType.ADD,\n            this.handleFeatureAdd_, this),\n          listen(this.features_, CollectionEventType.REMOVE,\n            this.handleFeatureRemove_, this)\n        );\n      } else if (this.source_) {\n        keys.push(\n          listen(this.source_, VectorEventType.ADDFEATURE,\n            this.handleFeatureAdd_, this),\n          listen(this.source_, VectorEventType.REMOVEFEATURE,\n            this.handleFeatureRemove_, this)\n        );\n      }\n      features.forEach(this.forEachFeatureAdd_.bind(this));\n    }\n  };\n\n  /**\n   * @param {import(\"../pixel.js\").Pixel} pixel Pixel\n   * @param {import(\"../coordinate.js\").Coordinate} pixelCoordinate Coordinate\n   * @param {import(\"../PluggableMap.js\").default} map Map.\n   * @return {Result} Snap result\n   */\n  Snap.prototype.snapTo = function snapTo (pixel, pixelCoordinate, map) {\n\n    var lowerLeft = map.getCoordinateFromPixel(\n      [pixel[0] - this.pixelTolerance_, pixel[1] + this.pixelTolerance_]);\n    var upperRight = map.getCoordinateFromPixel(\n      [pixel[0] + this.pixelTolerance_, pixel[1] - this.pixelTolerance_]);\n    var box = boundingExtent([lowerLeft, upperRight]);\n\n    var segments = this.rBush_.getInExtent(box);\n\n    // If snapping on vertices only, don't consider circles\n    if (this.vertex_ && !this.edge_) {\n      segments = segments.filter(function(segment) {\n        return segment.feature.getGeometry().getType() !==\n            GeometryType.CIRCLE;\n      });\n    }\n\n    var snappedToVertex = false;\n    var snapped = false;\n    var vertex = null;\n    var vertexPixel = null;\n    var dist, pixel1, pixel2, squaredDist1, squaredDist2;\n    if (segments.length > 0) {\n      this.pixelCoordinate_ = pixelCoordinate;\n      segments.sort(this.sortByDistance_);\n      var closestSegment = segments[0].segment;\n      var isCircle = segments[0].feature.getGeometry().getType() ===\n          GeometryType.CIRCLE;\n      if (this.vertex_ && !this.edge_) {\n        pixel1 = map.getPixelFromCoordinate(closestSegment[0]);\n        pixel2 = map.getPixelFromCoordinate(closestSegment[1]);\n        squaredDist1 = squaredCoordinateDistance(pixel, pixel1);\n        squaredDist2 = squaredCoordinateDistance(pixel, pixel2);\n        dist = Math.sqrt(Math.min(squaredDist1, squaredDist2));\n        snappedToVertex = dist <= this.pixelTolerance_;\n        if (snappedToVertex) {\n          snapped = true;\n          vertex = squaredDist1 > squaredDist2 ? closestSegment[1] : closestSegment[0];\n          vertexPixel = map.getPixelFromCoordinate(vertex);\n        }\n      } else if (this.edge_) {\n        if (isCircle) {\n          vertex = closestOnCircle(pixelCoordinate,\n            /** @type {import(\"../geom/Circle.js\").default} */ (segments[0].feature.getGeometry()));\n        } else {\n          vertex = closestOnSegment(pixelCoordinate, closestSegment);\n        }\n        vertexPixel = map.getPixelFromCoordinate(vertex);\n        if (coordinateDistance(pixel, vertexPixel) <= this.pixelTolerance_) {\n          snapped = true;\n          if (this.vertex_ && !isCircle) {\n            pixel1 = map.getPixelFromCoordinate(closestSegment[0]);\n            pixel2 = map.getPixelFromCoordinate(closestSegment[1]);\n            squaredDist1 = squaredCoordinateDistance(vertexPixel, pixel1);\n            squaredDist2 = squaredCoordinateDistance(vertexPixel, pixel2);\n            dist = Math.sqrt(Math.min(squaredDist1, squaredDist2));\n            snappedToVertex = dist <= this.pixelTolerance_;\n            if (snappedToVertex) {\n              vertex = squaredDist1 > squaredDist2 ? closestSegment[1] : closestSegment[0];\n              vertexPixel = map.getPixelFromCoordinate(vertex);\n            }\n          }\n        }\n      }\n      if (snapped) {\n        vertexPixel = [Math.round(vertexPixel[0]), Math.round(vertexPixel[1])];\n      }\n    }\n    return (\n      /** @type {Result} */ ({\n        snapped: snapped,\n        vertex: vertex,\n        vertexPixel: vertexPixel\n      })\n    );\n  };\n\n  /**\n   * @param {import(\"../Feature.js\").default} feature Feature\n   * @private\n   */\n  Snap.prototype.updateFeature_ = function updateFeature_ (feature) {\n    this.removeFeature(feature, false);\n    this.addFeature(feature, false);\n  };\n\n  /**\n   * @param {import(\"../Feature.js\").default} feature Feature\n   * @param {import(\"../geom/Circle.js\").default} geometry Geometry.\n   * @private\n   */\n  Snap.prototype.writeCircleGeometry_ = function writeCircleGeometry_ (feature, geometry) {\n    var polygon = fromCircle(geometry);\n    var coordinates = polygon.getCoordinates()[0];\n    for (var i = 0, ii = coordinates.length - 1; i < ii; ++i) {\n      var segment = coordinates.slice(i, i + 2);\n      var segmentData = /** @type {SegmentData} */ ({\n        feature: feature,\n        segment: segment\n      });\n      this.rBush_.insert(boundingExtent(segment), segmentData);\n    }\n  };\n\n  /**\n   * @param {import(\"../Feature.js\").default} feature Feature\n   * @param {import(\"../geom/GeometryCollection.js\").default} geometry Geometry.\n   * @private\n   */\n  Snap.prototype.writeGeometryCollectionGeometry_ = function writeGeometryCollectionGeometry_ (feature, geometry) {\n    var geometries = geometry.getGeometriesArray();\n    for (var i = 0; i < geometries.length; ++i) {\n      var segmentWriter = this.SEGMENT_WRITERS_[geometries[i].getType()];\n      if (segmentWriter) {\n        segmentWriter.call(this, feature, geometries[i]);\n      }\n    }\n  };\n\n  /**\n   * @param {import(\"../Feature.js\").default} feature Feature\n   * @param {import(\"../geom/LineString.js\").default} geometry Geometry.\n   * @private\n   */\n  Snap.prototype.writeLineStringGeometry_ = function writeLineStringGeometry_ (feature, geometry) {\n    var coordinates = geometry.getCoordinates();\n    for (var i = 0, ii = coordinates.length - 1; i < ii; ++i) {\n      var segment = coordinates.slice(i, i + 2);\n      var segmentData = /** @type {SegmentData} */ ({\n        feature: feature,\n        segment: segment\n      });\n      this.rBush_.insert(boundingExtent(segment), segmentData);\n    }\n  };\n\n  /**\n   * @param {import(\"../Feature.js\").default} feature Feature\n   * @param {import(\"../geom/MultiLineString.js\").default} geometry Geometry.\n   * @private\n   */\n  Snap.prototype.writeMultiLineStringGeometry_ = function writeMultiLineStringGeometry_ (feature, geometry) {\n    var lines = geometry.getCoordinates();\n    for (var j = 0, jj = lines.length; j < jj; ++j) {\n      var coordinates = lines[j];\n      for (var i = 0, ii = coordinates.length - 1; i < ii; ++i) {\n        var segment = coordinates.slice(i, i + 2);\n        var segmentData = /** @type {SegmentData} */ ({\n          feature: feature,\n          segment: segment\n        });\n        this.rBush_.insert(boundingExtent(segment), segmentData);\n      }\n    }\n  };\n\n  /**\n   * @param {import(\"../Feature.js\").default} feature Feature\n   * @param {import(\"../geom/MultiPoint.js\").default} geometry Geometry.\n   * @private\n   */\n  Snap.prototype.writeMultiPointGeometry_ = function writeMultiPointGeometry_ (feature, geometry) {\n    var points = geometry.getCoordinates();\n    for (var i = 0, ii = points.length; i < ii; ++i) {\n      var coordinates = points[i];\n      var segmentData = /** @type {SegmentData} */ ({\n        feature: feature,\n        segment: [coordinates, coordinates]\n      });\n      this.rBush_.insert(geometry.getExtent(), segmentData);\n    }\n  };\n\n  /**\n   * @param {import(\"../Feature.js\").default} feature Feature\n   * @param {import(\"../geom/MultiPolygon.js\").default} geometry Geometry.\n   * @private\n   */\n  Snap.prototype.writeMultiPolygonGeometry_ = function writeMultiPolygonGeometry_ (feature, geometry) {\n    var polygons = geometry.getCoordinates();\n    for (var k = 0, kk = polygons.length; k < kk; ++k) {\n      var rings = polygons[k];\n      for (var j = 0, jj = rings.length; j < jj; ++j) {\n        var coordinates = rings[j];\n        for (var i = 0, ii = coordinates.length - 1; i < ii; ++i) {\n          var segment = coordinates.slice(i, i + 2);\n          var segmentData = /** @type {SegmentData} */ ({\n            feature: feature,\n            segment: segment\n          });\n          this.rBush_.insert(boundingExtent(segment), segmentData);\n        }\n      }\n    }\n  };\n\n  /**\n   * @param {import(\"../Feature.js\").default} feature Feature\n   * @param {import(\"../geom/Point.js\").default} geometry Geometry.\n   * @private\n   */\n  Snap.prototype.writePointGeometry_ = function writePointGeometry_ (feature, geometry) {\n    var coordinates = geometry.getCoordinates();\n    var segmentData = /** @type {SegmentData} */ ({\n      feature: feature,\n      segment: [coordinates, coordinates]\n    });\n    this.rBush_.insert(geometry.getExtent(), segmentData);\n  };\n\n  /**\n   * @param {import(\"../Feature.js\").default} feature Feature\n   * @param {import(\"../geom/Polygon.js\").default} geometry Geometry.\n   * @private\n   */\n  Snap.prototype.writePolygonGeometry_ = function writePolygonGeometry_ (feature, geometry) {\n    var rings = geometry.getCoordinates();\n    for (var j = 0, jj = rings.length; j < jj; ++j) {\n      var coordinates = rings[j];\n      for (var i = 0, ii = coordinates.length - 1; i < ii; ++i) {\n        var segment = coordinates.slice(i, i + 2);\n        var segmentData = /** @type {SegmentData} */ ({\n          feature: feature,\n          segment: segment\n        });\n        this.rBush_.insert(boundingExtent(segment), segmentData);\n      }\n    }\n  };\n\n  return Snap;\n}(PointerInteraction));\n\n\n/**\n * Sort segments by distance, helper function\n * @param {SegmentData} a The first segment data.\n * @param {SegmentData} b The second segment data.\n * @return {number} The difference in distance.\n * @this {Snap}\n */\nfunction sortByDistance(a, b) {\n  var deltaA = squaredDistanceToSegment(this.pixelCoordinate_, a.segment);\n  var deltaB = squaredDistanceToSegment(this.pixelCoordinate_, b.segment);\n  return deltaA - deltaB;\n}\n\nexport default Snap;\n\n//# sourceMappingURL=Snap.js.map","/**\n * @module ol/interaction/Property\n */\n\n/**\n * @enum {string}\n */\nexport default {\n  ACTIVE: 'active'\n};\n\n//# sourceMappingURL=Property.js.map","/**\n * @module ol/layer/Image\n */\nimport LayerType from '../LayerType.js';\nimport Layer from './Layer.js';\n\n\n/**\n * @typedef {Object} Options\n * @property {number} [opacity=1] Opacity (0, 1).\n * @property {boolean} [visible=true] Visibility.\n * @property {import(\"../extent.js\").Extent} [extent] The bounding extent for layer rendering.  The layer will not be\n * rendered outside of this extent.\n * @property {number} [zIndex] The z-index for layer rendering.  At rendering time, the layers\n * will be ordered, first by Z-index and then by position. When `undefined`, a `zIndex` of 0 is assumed\n * for layers that are added to the map's `layers` collection, or `Infinity` when the layer's `setMap()`\n * method was used.\n * @property {number} [minResolution] The minimum resolution (inclusive) at which this layer will be\n * visible.\n * @property {number} [maxResolution] The maximum resolution (exclusive) below which this layer will\n * be visible.\n * @property {import(\"../PluggableMap.js\").default} [map] Sets the layer as overlay on a map. The map will not manage\n * this layer in its layers collection, and the layer will be rendered on top. This is useful for\n * temporary layers. The standard way to add a layer to a map and have it managed by the map is to\n * use {@link module:ol/Map#addLayer}.\n * @property {import(\"../source/Image.js\").default} [source] Source for this layer.\n */\n\n\n/**\n * @classdesc\n * Server-rendered images that are available for arbitrary extents and\n * resolutions.\n * Note that any property set in the options is set as a {@link module:ol/Object~BaseObject}\n * property on the layer object; for example, setting `title: 'My Title'` in the\n * options means that `title` is observable, and has get/set accessors.\n *\n * @fires import(\"../render/Event.js\").RenderEvent\n * @api\n */\nvar ImageLayer = /*@__PURE__*/(function (Layer) {\n  function ImageLayer(opt_options) {\n    var options = opt_options ? opt_options : {};\n    Layer.call(this, options);\n\n    /**\n     * The layer type.\n     * @protected\n     * @type {import(\"../LayerType.js\").default}\n     */\n    this.type = LayerType.IMAGE;\n\n  }\n\n  if ( Layer ) ImageLayer.__proto__ = Layer;\n  ImageLayer.prototype = Object.create( Layer && Layer.prototype );\n  ImageLayer.prototype.constructor = ImageLayer;\n\n  return ImageLayer;\n}(Layer));\n\n\n/**\n * Return the associated {@link module:ol/source/Image source} of the image layer.\n * @function\n * @return {import(\"../source/Image.js\").default} Source.\n * @api\n */\nImageLayer.prototype.getSource;\nexport default ImageLayer;\n\n//# sourceMappingURL=Image.js.map","/**\n * @module ol/pointer/EventType\n */\n\n/**\n * Constants for event names.\n * @enum {string}\n */\nexport default {\n  POINTERMOVE: 'pointermove',\n  POINTERDOWN: 'pointerdown',\n  POINTERUP: 'pointerup',\n  POINTEROVER: 'pointerover',\n  POINTEROUT: 'pointerout',\n  POINTERENTER: 'pointerenter',\n  POINTERLEAVE: 'pointerleave',\n  POINTERCANCEL: 'pointercancel'\n};\n\n//# sourceMappingURL=EventType.js.map","/**\n * @module ol/layer/Property\n */\n\n/**\n * @enum {string}\n */\nexport default {\n  OPACITY: 'opacity',\n  VISIBLE: 'visible',\n  EXTENT: 'extent',\n  Z_INDEX: 'zIndex',\n  MAX_RESOLUTION: 'maxResolution',\n  MIN_RESOLUTION: 'minResolution',\n  SOURCE: 'source'\n};\n\n//# sourceMappingURL=Property.js.map","/**\n * @module ol/net\n */\nimport {getUid} from './util.js';\n\n\n/**\n * Simple JSONP helper. Supports error callbacks and a custom callback param.\n * The error callback will be called when no JSONP is executed after 10 seconds.\n *\n * @param {string} url Request url. A 'callback' query parameter will be\n *     appended.\n * @param {Function} callback Callback on success.\n * @param {function()=} opt_errback Callback on error.\n * @param {string=} opt_callbackParam Custom query parameter for the JSONP\n *     callback. Default is 'callback'.\n */\nexport function jsonp(url, callback, opt_errback, opt_callbackParam) {\n  var script = document.createElement('script');\n  var key = 'olc_' + getUid(callback);\n  function cleanup() {\n    delete window[key];\n    script.parentNode.removeChild(script);\n  }\n  script.async = true;\n  script.src = url + (url.indexOf('?') == -1 ? '?' : '&') +\n      (opt_callbackParam || 'callback') + '=' + key;\n  var timer = setTimeout(function() {\n    cleanup();\n    if (opt_errback) {\n      opt_errback();\n    }\n  }, 10000);\n  window[key] = function(data) {\n    clearTimeout(timer);\n    cleanup();\n    callback(data);\n  };\n  document.getElementsByTagName('head')[0].appendChild(script);\n}\n\n//# sourceMappingURL=net.js.map","/**\n * @module ol/proj/Units\n */\n\n/**\n * Projection units: `'degrees'`, `'ft'`, `'m'`, `'pixels'`, `'tile-pixels'` or\n * `'us-ft'`.\n * @enum {string}\n */\nvar Units = {\n  DEGREES: 'degrees',\n  FEET: 'ft',\n  METERS: 'm',\n  PIXELS: 'pixels',\n  TILE_PIXELS: 'tile-pixels',\n  USFEET: 'us-ft'\n};\n\n\n/**\n * Meters per unit lookup table.\n * @const\n * @type {Object<Units, number>}\n * @api\n */\nexport var METERS_PER_UNIT = {};\n// use the radius of the Normal sphere\nMETERS_PER_UNIT[Units.DEGREES] = 2 * Math.PI * 6370997 / 360;\nMETERS_PER_UNIT[Units.FEET] = 0.3048;\nMETERS_PER_UNIT[Units.METERS] = 1;\nMETERS_PER_UNIT[Units.USFEET] = 1200 / 3937;\n\nexport default Units;\n\n//# sourceMappingURL=Units.js.map"],"sourceRoot":""}