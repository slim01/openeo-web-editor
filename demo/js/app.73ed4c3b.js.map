{"version":3,"sources":["webpack:///./src/assets/logo.png","webpack:///./src/config.js","webpack:///src/components/DataTable.vue","webpack:///./src/components/DataTable.vue?77b3","webpack:///./src/components/DataTable.vue","webpack:///src/components/AccountPanel.vue","webpack:///./src/components/AccountPanel.vue?ad45","webpack:///./src/components/AccountPanel.vue","webpack:///src/components/BackendPanel.vue","webpack:///./src/components/BackendPanel.vue?883b","webpack:///./src/components/BackendPanel.vue","webpack:///src/components/ObjectTree.vue","webpack:///./src/components/ObjectTree.vue?b5eb","webpack:///./src/components/ObjectTree.vue","webpack:///src/components/DataViewer.vue","webpack:///./src/components/DataViewer.vue?d555","webpack:///./src/components/DataViewer.vue","webpack:///src/components/FilePanel.vue","webpack:///./src/components/FilePanel.vue?3e48","webpack:///./src/components/FilePanel.vue","webpack:///src/components/ImageViewer.vue","webpack:///./src/components/ImageViewer.vue?288b","webpack:///./src/components/ImageViewer.vue","webpack:///src/components/JobPanel.vue","webpack:///./src/components/JobPanel.vue?3f8e","webpack:///./src/components/JobPanel.vue","webpack:///./src/leaflet-geotiff-customrenderer.js","webpack:///src/components/MapViewer.vue","webpack:///./src/components/MapViewer.vue?b8ad","webpack:///./src/components/MapViewer.vue","webpack:///src/components/List.vue","webpack:///./src/components/List.vue?1b0f","webpack:///./src/components/List.vue","webpack:///src/components/Modal.vue","webpack:///./src/components/Modal.vue?a0ef","webpack:///./src/components/Modal.vue","webpack:///src/components/ProcessGraphPanel.vue","webpack:///./src/components/ProcessGraphPanel.vue?874f","webpack:///./src/components/ProcessGraphPanel.vue","webpack:///src/components/ServicePanel.vue","webpack:///./src/components/ServicePanel.vue?2673","webpack:///./src/components/ServicePanel.vue","webpack:///./src/components/SourceEnvironment.vue?6e90","webpack:///./src/components/SourceEnvironment.vue","webpack:///./src/visualizations.js","webpack:///src/Editor.vue","webpack:///./src/Editor.vue?9d3f","webpack:///./src/Editor.vue","webpack:///./src/utils.js","webpack:///./src/main.js","webpack:///./src/eventbus.js","webpack:///src/components/SourceEnvironment.vue"],"names":["module","exports","__webpack_require__","p","config","serverUrl","allowServerChange","defaultScript","DataTable","updateView","length","determinePrimaryKey","col","error","_this","this","dataSource","then","data","catch","Array","isArray","_this2","id","newData","_this3","hasOwnProperty","primaryKey","row","_this4","toLowerCase","key","toString","filter","sort","format","value","i","DataTable_render","_vm","_h","$createElement","_c","_self","staticClass","attrs","_t","directives","name","rawName","expression","type","placeholder","domProps","on","input","$event","target","composing","filterValue","disabled","hasFilter","click","clearFilter","_e","_l","class","_v","_s","data-value","stylable","formattedValue","view","colspan","columnCount","noDataMessage","staticRenderFns","injectStyle","context","__vue_template_functional__","__vue_styles__","__vue_scopeId__","__vue_module_identifier__","Component","Object","component_normalizer","components_DataTable","AccountPanel","updateData","userId","getCredits","AccountPanel_render","userName","openEO","Capabilities","userCredits","credits","topUpCredits","AccountPanel_staticRenderFns","AccountPanel___vue_template_functional__","AccountPanel___vue_styles__","AccountPanel___vue_scopeId__","AccountPanel___vue_module_identifier__","AccountPanel_Component","components_AccountPanel","BackendPanel","newVal","changeServer","discoverData","storedServers","serverUrls","url","get","setDiscoveredData","setDiscoveredProcesses","newUrl","updateServerUrlFromInput","baseUrl","rawData","SupportedServices","SupportedOutputFormats","info","code","Visualizations","select","defaultValue","argList","join","argsCode","BackendPanel_render","$config","ref","list","title","showServerSelector","getServerInfo","showDataSelector","d","product_id","description","insertDataToEditor","dataInfo","showDataInfo","showProcessSelector","process_id","insertProcessToEditor","processInfo","showProcessInfo","label","v","k","insertVisualization","BackendPanel_staticRenderFns","BackendPanel_injectStyle","BackendPanel___vue_template_functional__","BackendPanel___vue_styles__","BackendPanel___vue_scopeId__","BackendPanel___vue_module_identifier__","BackendPanel_Component","components_BackendPanel","ObjectTree","isObjectTree","typeof_default","keys","collapsed","split","ObjectTree_render","toggle","prettifyKey","showObjectTree","ObjectTree_staticRenderFns","ObjectTree___vue_template_functional__","ObjectTree___vue_styles__","ObjectTree___vue_scopeId__","ObjectTree___vue_module_identifier__","ObjectTree_Component","components_ObjectTree","DataViewer","reset","result","json","FileReader","callback","blob","DataViewer_render","isText","nl2br","content","DataViewer_staticRenderFns","DataViewer_injectStyle","DataViewer___vue_template_functional__","DataViewer___vue_styles__","DataViewer___vue_scopeId__","DataViewer___vue_module_identifier__","DataViewer_Component","components_DataViewer","FilePanel","getFiles","retrieveData","size","toISOString","delete","FilePanel_render","columns","scopedSlots","_u","fn","uploadUserFile","uploadFile","downloadUserFile","downloadFile","deleteUserFile","deleteFile","FilePanel_staticRenderFns","FilePanel_injectStyle","FilePanel___vue_template_functional__","FilePanel___vue_styles__","FilePanel___vue_scopeId__","FilePanel___vue_module_identifier__","FilePanel_Component","components_FilePanel","ImageViewer","script","message","updateCanvas","src","naturalHeight","height","naturalWidth","ImageViewer_render","visibleContent","ImageViewer_staticRenderFns","ImageViewer_injectStyle","ImageViewer___vue_template_functional__","ImageViewer___vue_styles__","ImageViewer___vue_scopeId__","ImageViewer___vue_module_identifier__","ImageViewer_Component","components_ImageViewer","JobPanel","jobCreated","getJobs","userJobs","job_id","options","output","_this5","queue","pause","cancel","_this6","ext","_this7","indexOf","JobPanel_render","createJob","createJobFromScript","jobInfo","showJobInfo","updateJob","editJob","queueJob","pauseJob","cancelJob","downloadJob","createService","createServiceFromJob","JobPanel_staticRenderFns","JobPanel_injectStyle","JobPanel___vue_template_functional__","JobPanel___vue_styles__","JobPanel___vue_scopeId__","JobPanel___vue_module_identifier__","JobPanel_Component","components_JobPanel","leaflet_geotiff_default","a","LeafletGeotiff","CustomRenderer","LeafletGeotiffRenderer","extend","initialize","setOptions","setScript","Visualization","function","parent","_reset","render","raster","canvas","ctx","args","hasScript","imageData","createImageData","width","y","x","set","putImageData","transform","xStart","yStart","leaflet_geotiff_customrenderer","customRenderer","createMap","viewWebService","map","expandTree","updateLayerTree","baseLayer","dataLayer","tree","service","tiff","renderer","opts","wms","recolor","el","tileSize","Image","tile","coords","MapViewer_render","MapViewer_staticRenderFns","MapViewer_injectStyle","MapViewer___vue_template_functional__","MapViewer___vue_styles__","MapViewer___vue_scopeId__","MapViewer___vue_module_identifier__","MapViewer_Component","MapViewer","components_MapViewer","List","item","close","List_render","doMainAction","action","icon","doAction","List_staticRenderFns","List_injectStyle","List___vue_template_functional__","List___vue_styles__","List___vue_scopeId__","List___vue_module_identifier__","List_Component","components_List","Modal","showModal","showComponentModal","body","compname","props","show","Modal_render","possiblyClose","_b","tag","Modal_staticRenderFns","Modal_injectStyle","Modal___vue_template_functional__","Modal___vue_styles__","Modal___vue_scopeId__","Modal___vue_module_identifier__","Modal_Component","components_Modal","ProcessGraphPanel","getProcessGraphs","ProcessGraph","ProcessGraphPanel_render","createUserProcessGraph","addGraph","userProcessGraphInfo","graphInfo","updateUserProcessGraph","editGraph","deleteUserProcessGraph","deleteGraph","ProcessGraphPanel_staticRenderFns","ProcessGraphPanel_injectStyle","ProcessGraphPanel___vue_template_functional__","ProcessGraphPanel___vue_styles__","ProcessGraphPanel___vue_scopeId__","ProcessGraphPanel___vue_module_identifier__","ProcessGraphPanel_Component","components_ProcessGraphPanel","ServicePanel","serviceCreated","getServices","ServicePanel_render","viewService","serviceInfo","updateService","editService","deleteService","ServicePanel_staticRenderFns","ServicePanel_injectStyle","ServicePanel___vue_template_functional__","ServicePanel___vue_styles__","ServicePanel___vue_scopeId__","ServicePanel___vue_module_identifier__","ServicePanel_Component","components_ServicePanel","SourceEnvironment_render","scriptName","executeJob","executeScript","newScript","loadScript","saveScript","downloadScript","SourceEnvironment_staticRenderFns","SourceEnvironment_injectStyle","SourceEnvironment___vue_template_functional__","SourceEnvironment___vue_styles__","SourceEnvironment___vue_scopeId__","SourceEnvironment___vue_module_identifier__","SourceEnvironment_Component","SourceEnvironment","components_SourceEnvironment","rampColors","o","band","valMin","valMax","clrMin","clrMax","m","elMin","arguments","invertColors","visualizations","window","axios","axios_default","openeo","serverChanged","showInViewer","showMapViewer","showImageViewer","showDataViewer","requestCapabilities","requestSupportedOutputFormats","requestSupportedServices","requestAuth","user_id","evt","container","originalOutputFormat","e","Editor_render","changeUserTab","userProcessGraphs","userFiles","Auth","_m","changeViewerTab","Editor_staticRenderFns","href","Editor_injectStyle","Editor___vue_template_functional__","Editor___vue_styles__","Editor___vue_scopeId__","Editor___vue_module_identifier__","Editor_Component","Editor","src_Editor","utils","vm","undefined","$snotify","ok","success","downloadData","document","createElement","appendChild","style","fileName","Blob","URL","createObjectURL","download","revokeObjectURL","isNumeric","n","isNaN","parseFloat","isFinite","recolorImage","originalImage","getContext","tgtData","getImageData","slice","es","console","log","vue_runtime_esm","use","vue_snotify_esm","toast","timeout","prototype","$utils","productionTip","errorHandler","err","App","h","$mount","__webpack_exports__","__WEBPACK_IMPORTED_MODULE_0_vue__","editorOptions","insertToEditor","evalScript","getSelection","getValue","clearEditor","text"],"mappings":"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","file":"js/app.73ed4c3b.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/logo.637896da.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/logo.png\n// module id = 7Otq\n// module chunks = 1","export default {\n\n\tserverUrl: 'http://localhost:8000/',\n\tallowServerChange: true,\n\tdefaultScript: `// Create the process graph\nOpenEO.Editor.ProcessGraph = OpenEO.ImageCollection.create('Sentinel2A-L1C')\n\t.filter_daterange(\"2018-01-01\",\"2018-01-31\")\n\t.NDVI(\"B04\",\"B08\")\n\t.max_time();`\n};\n\n\n// WEBPACK FOOTER //\n// ./src/config.js","<template>\n\t<div class=\"dataTable\" :id=\"id\">\n\t\t<div class=\"dataTableMenu\">\n\t\t\t<div class=\"dataTableToolbar\">\n\t\t\t\t<slot name=\"toolbar\"></slot>\n\t\t\t</div>\n\t\t\t<div class=\"dataTableFilter\" v-if=\"data.length > 0\">\n\t\t\t\t<i class=\"fas fa-search filter-icon\"></i>\n\t\t\t\t<input type=\"text\" placeholder=\"Search term\" v-model=\"filterValue\">\n\t\t\t\t<button @click=\"clearFilter\" :disabled=\"!hasFilter\"><i class=\"fas fa-times-circle\"></i></button>\n\t\t\t</div>\n\t\t</div>\n\t\t<table v-if=\"data.length > 0\">\n\t\t\t<tr>\n\t\t\t\t<th v-for=\"(col, id) in columns\" :key=\"id\" :class=\"id\">{{ col.name }}</th>\n\t\t\t</tr>\n\t\t\t<tr v-for=\"(row, i) in view\" :key=\"i\">\n\t\t\t\t<td v-for=\"(col, id) in columns\" :key=\"id\" :class=\"id\" :data-value=\"col.stylable ? value(row, col, id) : false\">\n\t\t\t\t\t<slot :name=\"id\" :row=\"row\" :col=\"col\" :id=\"id\">\n\t\t\t\t\t\t{{ formattedValue(row, col, id) }}\n\t\t\t\t\t</slot>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t\t<tr v-if=\"data.length > 0 && view.length == 0\" class=\"noSearchResults\">\n\t\t\t\t<td :colspan=\"columnCount\">Sorry, no element matches your search criteria.</td>\n\t\t\t</tr>\n\t\t</table>\n\t\t<div class=\"noDataMessage\" v-if=\"data.length == 0\">{{ noDataMessage }}</div>\n\t</div>\n</template>\n\n<script>\nimport EventBus from '../eventbus.js';\n\nexport default {\n\tname: 'DataTable',\n\tprops: ['id', 'columns', 'dataSource'],\n\tdata() {\n\t\treturn {\n\t\t\tdata: [],\n\t\t\tview: [],\n\t\t\tfilterValue: null,\n\t\t\tprimaryKey: null,\n\t\t\tnoDataMessage: 'Loading data...'\n\t\t};\n\t},\n\twatch: {\n\t\tdata(newVal, oldVal) {\n\t\t\tthis.updateView();\n\t\t},\n\t\tfilterValue(newVal, oldVal) {\n\t\t\tthis.updateView();\n\t\t}\n\t},\n\tcomputed: {\n\t\tcolumnCount() {\n\t\t\treturn Object.keys(this.columns).length;\n\t\t},\n\t\thasFilter() {\n\t\t\treturn (typeof this.filterValue === 'string' && this.filterValue.length > 0) ? true : false;\n\t\t},\n\t},\n\tcreated() {\n\t\tthis.determinePrimaryKey();\n\t},\n\tmethods: {\n\t\tdeterminePrimaryKey() {\n\t\t\tfor(var col in this.columns) {\n\t\t\t\tif (this.columns[col].primaryKey) {\n\t\t\t\t\tthis.primaryKey = col;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tsetNoData(error) {\n\t\t\tthis.data = [];\n\t\t\tif (typeof error === 'number') {\n\t\t\t\tswitch(error) {\n\t\t\t\t\tcase 401:\n\t\t\t\t\t\tthis.noDataMessage = 'Please authenticate to use this feature.';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 403:\n\t\t\t\t\tcase 404:\n\t\t\t\t\t\tthis.noDataMessage = 'Sorry, authentication failed. Please try again.';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 501:\n\t\t\t\t\t\tthis.noDataMessage = 'Sorry, this feature is not supported by the server.';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tthis.noDataMessage = 'Sorry, an error occured. Please try again later.';\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.noDataMessage = error;\n\t\t\t}\n\t\t},\n\t\tretrieveData() {\n\t\t\tthis.data = [];\n\t\t\tif (typeof this.dataSource === 'function') {\n\t\t\t\tthis.dataSource()\n\t\t\t\t\t.then(data => {\n\t\t\t\t\t\tif (Array.isArray(data) && data.length > 0) {\n\t\t\t\t\t\t\tthis.data = data;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tthis.setNoData('Sorry, no data found.');\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch(error => {\n\t\t\t\t\t\tthis.setNoData(error);\n\t\t\t\t\t});\n\t\t\t}\n\t\t\telse if(Array.isArray(this.dataSource) && this.dataSource.length > 0) {\n\t\t\t\tthis.data = this.dataSource;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.setNoData('Sorry, no data available.');\n\t\t\t}\n\t\t},\n\t\tremoveData(id) {\n\t\t\tif (this.primaryKey === null) {\n\t\t\t\tthrow new Error('No primary key specified.');\n\t\t\t}\n\t\t\tthis.data = this.data.filter(row => row[this.primaryKey] != id);\n\t\t},\n\t\taddData(newData) {\n\t\t\tif (!newData.hasOwnProperty(this.primaryKey)) {\n\t\t\t\tthrow new Error('Object does not contain a value for the primary key.');\n\t\t\t}\n\t\t\tthis.data.push(newData);\n\t\t},\n\t\treplaceData(newData) {\n\t\t\tif (this.primaryKey === null) {\n\t\t\t\tthrow new Error('No primary key specified.');\n\t\t\t}\n\t\t\telse if (!newData.hasOwnProperty(this.primaryKey)) {\n\t\t\t\tthrow new Error('Object does not contain a value for the primary key.');\n\t\t\t}\n\t\t\tconst index = this.data.findIndex(row => { row[this.primaryKey] == newData[this.primaryKey] });\n\t\t\tif (index >= 0) {\n\t\t\t\tthis.data[index] = newData;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.data.push(newData);\n\t\t\t}\n\t\t},\n\t\tvalue(row, col, id) {\n\t\t\tif (typeof row === 'object') {\n\t\t\t\treturn row[id];\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (id === '$') {\n\t\t\t\t\treturn row;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tformattedValue(row, col, id) {\n\t\t\treturn this.format(this.value(row, col, id), col);\n\t\t},\n\t\tsort() {\n\t\t\t// Sort this.view...\n\t\t},\n\t\tfilter() {\n\t\t\tif (!this.hasFilter) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar searchTerm = this.filterValue.toLowerCase();\n\n\t\t\tthis.view = this.view.filter(row => {\n\t\t\t\tfor(var key in row) {\n\t\t\t\t\tvar col = this.columns[key];\n\t\t\t\t\tif (typeof col !== 'undefined' && col.hasOwnProperty('filterable') && col.filterable === false) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tvar value = this.value(row, col, key);\n\t\t\t\t\tif (typeof value === 'number' || typeof value === 'string' || typeof value === 'boolean') {\n\t\t\t\t\t\tvalue = value.toString();\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tif (value.toLowerCase().indexOf(searchTerm) !== -1) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t});\n\t\t},\n\t\tclearFilter() {\n\t\t\tthis.filterValue = '';\n\t\t\tthis.updateView();\n\t\t},\n\t\tupdateView() {\n\t\t\tif (!Array.isArray(this.data)) {\n\t\t\t\tthis.view = [];\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.view = this.data;\n\t\t\tif (this.data.length > 0) {\n\t\t\t\tthis.filter();\n\t\t\t\tthis.sort();\n\t\t\t}\n\t\t},\n\t\tformat(value, col) {\n\t\t\tif (typeof col.format === 'string') {\n\t\t\t\tif (typeof this['format' + col.format] === 'function') {\n\t\t\t\t\tvalue = this['format' + col.format](value, col);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tconsole.log(col.format + ' is an invalid formatter.');\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (typeof col.format === 'function') {\n\t\t\t\tvalue = col.format.call(this, value, col);\n\t\t\t}\n\t\t\treturn value;\n\t\t},\n\t\tformatFileSize(value, col) {\n\t\t\tif (!value) {\n\t\t\t\treturn '';\n\t\t\t}\n\t\t\tvar i = value == 0 ? 0 : Math.floor( Math.log(value) / Math.log(1024) );\n\t\t\treturn ( value / Math.pow(1024, i) ).toFixed(2) * 1 + ' ' + ['B', 'kB', 'MB', 'GB', 'TB'][i];\n\t\t},\n\t\tformatDateTime(value, col) {\n\t\t\tif (!value) {\n\t\t\t\treturn '';\n\t\t\t}\n\t\t\tlet date = new Date(value);\n\t\t\treturn date.toISOString().replace('T', ' ').replace('Z', '').substring(0,19);\n\t\t}\n\t}\n}\n</script>\n\n<style>\n.filter-icon {\n\tmargin-right: 3px;\n}\n.noDataMessage {\n\ttext-align: center;\n\tmargin: 1em;\n\tfont-weight: bold;\n}\n.noSearchResults td {\n\ttext-align: center;\n}\n.dataTableToolbar {\n\tfloat: left;\n\twidth: 60%;\n}\n.dataTableFilter {\n\twidth: 40%;\n\tfloat: right;\n\ttext-align: right;\n}\n.dataTableMenu {\n\tmargin-bottom: 5px;\n}\n.dataTableMenu:after {\n    content: \".\";\n    clear: both;\n    display: block;\n    visibility: hidden;\n    height: 0px;\n}\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/DataTable.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"dataTable\",attrs:{\"id\":_vm.id}},[_c('div',{staticClass:\"dataTableMenu\"},[_c('div',{staticClass:\"dataTableToolbar\"},[_vm._t(\"toolbar\")],2),(_vm.data.length > 0)?_c('div',{staticClass:\"dataTableFilter\"},[_c('i',{staticClass:\"fas fa-search filter-icon\"}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filterValue),expression:\"filterValue\"}],attrs:{\"type\":\"text\",\"placeholder\":\"Search term\"},domProps:{\"value\":(_vm.filterValue)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.filterValue=$event.target.value}}}),_c('button',{attrs:{\"disabled\":!_vm.hasFilter},on:{\"click\":_vm.clearFilter}},[_c('i',{staticClass:\"fas fa-times-circle\"})])]):_vm._e()]),(_vm.data.length > 0)?_c('table',[_c('tr',_vm._l((_vm.columns),function(col,id){return _c('th',{key:id,class:id},[_vm._v(_vm._s(col.name))])})),_vm._l((_vm.view),function(row,i){return _c('tr',{key:i},_vm._l((_vm.columns),function(col,id){return _c('td',{key:id,class:id,attrs:{\"data-value\":col.stylable ? _vm.value(row, col, id) : false}},[_vm._t(id,[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.formattedValue(row, col, id))+\"\\n\\t\\t\\t\\t\")],{row:row,col:col,id:id})],2)}))}),(_vm.data.length > 0 && _vm.view.length == 0)?_c('tr',{staticClass:\"noSearchResults\"},[_c('td',{attrs:{\"colspan\":_vm.columnCount}},[_vm._v(\"Sorry, no element matches your search criteria.\")])]):_vm._e()],2):_vm._e(),(_vm.data.length == 0)?_c('div',{staticClass:\"noDataMessage\"},[_vm._v(_vm._s(_vm.noDataMessage))]):_vm._e()])}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-497e573f\",\"hasScoped\":false,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/DataTable.vue\n// module id = null\n// module chunks = ","function injectStyle (context) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":false,\\\"minimize\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"scoped\\\":false,\\\"sourceMap\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./DataTable.vue\")\n}\n/* script */\nexport * from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/home/travis/build/Open-EO/openeo-web-editor/node_modules/.cache/cache-loader\\\"}!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./DataTable.vue\"\nimport __vue_script__ from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/home/travis/build/Open-EO/openeo-web-editor/node_modules/.cache/cache-loader\\\"}!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./DataTable.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-497e573f\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./DataTable.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/DataTable.vue\n// module id = null\n// module chunks = ","<template>\n\t<div id=\"filePanel\">\n\t\t<h3>User '{{ userName }}'</h3>\n\t\t<br>\n\t\t<ul>\n\t\t\t<li v-if=\"openEO.Capabilities.userCredits()\">Credits: {{ credits === null ? 'N/A' : credits }} <button id=\"topUpCredits\" v-if=\"credits !== null\" @click=\"topUpCredits\">Top up</button></li>\n\t\t</ul>\n\t</div>\n</template>\n\n<script>\nimport EventBus from '../eventbus.js';\nimport DataTable from './DataTable.vue';\n\nexport default {\n\tname: 'FilePanel',\n\tprops: ['openEO','userId'],\n\tcomponents: {\n\t\tDataTable\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tcredits: null\n\t\t}\n\t},\n\tcreated() {\n\t\tEventBus.$on('serverChanged', this.updateData);\n\t},\n\twatch: { \n\t\tuserId(newVal, oldVal) {\n\t\t\tif (newVal !== null) {\n\t\t\t\tthis.updateData();\n\t\t\t}\n\t\t}\n\t},\n\tcomputed: {\n\t\tuserName: {\n\t\t\tget() {\n\t\t\t\tif ((typeof this.userId !== 'string' && typeof this.userId !== 'number') || this.userId == 'me') {\n\t\t\t\t\treturn 'Guest';\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\treturn this.userId;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tmethods: {\n\t\tupdateData() {\n\t\t\tthis.credits = null;\n\t\t\tif (typeof this.userId !== 'string' && typeof this.userId !== 'number') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (this.openEO.Capabilities.userCredits()) {\n\t\t\t\tlet user = this.openEO.Users.getObject(this.userId);\n\t\t\t\tuser.getCredits()\n\t\t\t\t\t.then(data => {this.credits = data})\n\t\t\t\t\t.catch(error => {this.credits = null; });\n\t\t\t}\n\t\t},\n\t\ttopUpCredits() {\n\t\t\tthis.$utils.error(this, 'Not implemented!');\n\t\t}\n\t}\n}\n</script>\n\n\n// WEBPACK FOOTER //\n// src/components/AccountPanel.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"filePanel\"}},[_c('h3',[_vm._v(\"User '\"+_vm._s(_vm.userName)+\"'\")]),_c('br'),_c('ul',[(_vm.openEO.Capabilities.userCredits())?_c('li',[_vm._v(\"Credits: \"+_vm._s(_vm.credits === null ? 'N/A' : _vm.credits)+\" \"),(_vm.credits !== null)?_c('button',{attrs:{\"id\":\"topUpCredits\"},on:{\"click\":_vm.topUpCredits}},[_vm._v(\"Top up\")]):_vm._e()]):_vm._e()])])}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-a6f1efd0\",\"hasScoped\":false,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/AccountPanel.vue\n// module id = null\n// module chunks = ","/* script */\nexport * from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/home/travis/build/Open-EO/openeo-web-editor/node_modules/.cache/cache-loader\\\"}!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./AccountPanel.vue\"\nimport __vue_script__ from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/home/travis/build/Open-EO/openeo-web-editor/node_modules/.cache/cache-loader\\\"}!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./AccountPanel.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a6f1efd0\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./AccountPanel.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/AccountPanel.vue\n// module id = null\n// module chunks = ","<template>\n\t<div id=\"backendPanel\">\n\t\t<div class=\"server-toolbar\" v-show=\"$config.allowServerChange\">\n\t\t\t<h3>Server:</h3>\n\t\t\t<input id=\"serverUrl\" ref=\"serverUrl\" list=\"serverUrls\" value=\"\" />\n\t\t\t<button @click=\"showServerSelector\" title=\"Select previously used server\"><i class=\"fas fa-book\"></i></button>\n\t\t\t<button @click=\"updateServerUrlFromInput\" title=\"Change server\"><i class=\"fas fa-check\"></i></button>\n\t\t</div>\n\t\t<div class=\"info-toolbar\">\n\t\t\t<button @click=\"getServerInfo\" title=\"Get server information\"><i class=\"fas fa-info\"></i></button>\n\t\t</div>\n\t\t<div class=\"data-toolbar\" v-show=\"showDataSelector()\">\n\t\t\tData: <select id=\"data\" ref=\"data\">\n\t\t\t\t<option v-for=\"d in data\" :key=\"d.product_id\" :value=\"d.product_id\" :title=\"d.description\">{{ d.product_id }}</option>\n\t\t\t</select>\n\t\t\t<button id=\"insertData\" @click=\"insertDataToEditor\" title=\"Insert into script\"><i class=\"fas fa-plus\"></i></button>\n\t\t\t<button @click=\"showDataInfo\" title=\"Show details\" v-show=\"openEO.Capabilities.dataInfo()\"><i class=\"fas fa-info\"></i></button>\n\t\t</div>\n\t\t<div class=\"processes-toolbar\" v-show=\"showProcessSelector()\">\n\t\t\tProcesses: <select id=\"processes\" ref=\"processes\">\n\t\t\t\t<option v-for=\"p in processes\" :key=\"p.process_id\" :value=\"p.process_id\" :title=\"p.description\">{{ p.process_id }}</option>\n\t\t\t</select>\n\t\t\t<button id=\"insertProcesses\" @click=\"insertProcessToEditor\" title=\"Insert into script\"><i class=\"fas fa-plus\"></i></button>\n\t\t\t<button @click=\"showProcessInfo\" title=\"Show details\" v-show=\"openEO.Capabilities.processInfo()\"><i class=\"fas fa-info\"></i></button>\n\t\t</div>\n\t\t<div class=\"vis-toolbar\">\n\t\t\tVisualizations: <select id=\"visualizations\">\n\t\t\t\t<option value=\"\">None</option>\n\t\t\t\t<option value=\"custom\">Custom function</option>\n\t\t\t\t<optgroup label=\"Pre-defined\">\n\t\t\t\t\t<option v-for=\"(v, k) in openEO.Visualizations\" :key=\"k\" :value=\"k\">{{ v.name }}</option>\n\t\t\t\t</optgroup>\n\t\t\t</select> <button id=\"insertVisualizations\" title=\"Insert into script\" @click=\"insertVisualization\"><i class=\"fas fa-plus\"></i></button>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport EventBus from '../eventbus.js';\n\nexport default {\n\tname: 'BackendPanel',\n\tprops: ['openEO'],\n\tdata() {\n\t\treturn {\n\t\t\tprocesses: [],\n\t\t\tdata: [],\n\t\t\tserverUrls: []\n\t\t};\n\t},\n\twatch: {\n\t\tserverUrls: function(newVal, oldVal) {\n\t\t\tlocalStorage.setItem(\"serverUrls\", JSON.stringify(newVal));\n\t\t}\n\t},\n\tcreated() {\n\t\tEventBus.$on('changeServerUrl', this.changeServer);\n\t\tEventBus.$on('serverChanged', this.discoverData);\n\t},\n\tmounted() {\n\t\tvar storedServers = localStorage.getItem(\"serverUrls\");\n\t\tif (storedServers !== null) {\n\t\t\tthis.serverUrls = JSON.parse(storedServers);\n\t\t}\n\t},\n\tmethods: {\n\n\t\tshowDataSelector() {\n\t\t\treturn this.openEO.Capabilities.data() && this.data.length > 0;\n\t\t},\n\n\t\tshowProcessSelector() {\n\t\t\treturn this.openEO.Capabilities.processes() && this.processes.length > 0;\n\t\t},\n\n\t\tshowServerSelector() {\n\t\t\tEventBus.$emit('showComponentModal', 'Select previously used server', 'List', {\n\t\t\t\titems: this.serverUrls,\n\t\t\t\tactions: [\n\t\t\t\t\t{\n\t\t\t\t\t\tcallback: (url) => this.updateServerUrlTo(url) || true,  // return true to close the modal\n\t\t\t\t\t\ticon: 'check',\n\t\t\t\t\t\ttitle: 'Select this server'\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tcallback: (url) => this.serverUrls.splice(this.serverUrls.indexOf(url), 1),\n\t\t\t\t\t\ticon: 'trash',\n\t\t\t\t\t\ttitle: 'Delete entry from history'\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t});\n\t\t},\n\n\t\tchangeServer(url) {\n\t\t\tthis.$refs.serverUrl.value = url;\n\t\t\tif (this.serverUrls.indexOf(url) === -1) {\n\t\t\t\tthis.serverUrls.push(url);\n\t\t\t}\n\t\t},\n\n\t\tdiscoverData() {\n\t\t\tif (this.openEO.Capabilities.data()) {\n\t\t\t\tthis.openEO.Data.get()\n\t\t\t\t\t.then(this.setDiscoveredData)\n\t\t\t\t\t.catch(error => this.setDiscoveredData([]));\n\t\t\t}\n\t\t\tif (this.openEO.Capabilities.processes()) {\n\t\t\t\tthis.openEO.Processes.get()\n\t\t\t\t\t.then(this.setDiscoveredProcesses)\n\t\t\t\t\t.catch(error => this.setDiscoveredProcesses([]));\n\t\t\t}\n\t\t},\n\n\t\tupdateServerUrlFromInput() {\n\t\t\tvar newUrl = this.$refs.serverUrl.value;\n\t\t\tif (typeof newUrl === 'string' && newUrl != this.openEO.API.baseUrl) {\n\t\t\t\tEventBus.$emit('changeServerUrl', newUrl);\n\t\t\t}\n\t\t},\n\n\t\tupdateServerUrlTo(newUrl) {\n\t\t\tthis.$refs.serverUrl.value = newUrl;\n\t\t\tthis.updateServerUrlFromInput();\n\t\t},\n\n\t\tgetServerInfo() {\n\t\t\tvar info = {\n\t\t\t\turl: this.openEO.API.baseUrl,\n\t\t\t\tsupportedEndpoints: this.openEO.Capabilities.rawData,\n\t\t\t\tsupportedWebServices: this.openEO.SupportedServices,\n\t\t\t\tsupportedOutputFormats: this.openEO.SupportedOutputFormats\n\t\t\t};\n\t\t\tEventBus.$emit('showModal', 'Server information', info);\n\t\t},\n\n\t\tshowDataInfo() {\n\t\t\tthis.openEO.Data.getById(this.$refs.data.value)\n\t\t\t\t.then(data => {\n\t\t\t\t\tEventBus.$emit('showModal', 'Data: ' + this.$refs.data.value, data);\n\t\t\t\t})\n\t\t\t\t.catch(error => this.$utils.error(this, 'Sorry, can\\'t load process details.'));\n\t\t},\n\n\t\tshowProcessInfo() {\n\t\t\tthis.openEO.Processes.getById(this.$refs.processes.value)\n\t\t\t\t.then(data => {\n\t\t\t\t\tEventBus.$emit('showModal', 'Process: ' + this.$refs.processes.value, data);\n\t\t\t\t})\n\t\t\t\t.catch(error => this.$utils.error(this, 'Sorry, can\\'t load process details.'));\n\t\t},\n\n\t\tinsertDataToEditor() {\n\t\t\tthis.insertToEditor(this.$refs.data.value);\n\t\t},\n\n\t\tinsertProcessToEditor() {\n\t\t\tthis.insertToEditor(this.$refs.processes.value);\n\t\t},\n\n\t\tinsertToEditor(code) {\n\t\t\tEventBus.$emit('addToSource', code);\n\t\t},\n\t\n\t\tsetDiscoveredData(data) {\n\t\t\tthis.data = [];\n\t\t\tfor (var i in data) {\n\t\t\t\tif (typeof data[i].product_id === 'undefined') {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tthis.data.push(data[i]);\n\t\t\t}\n\t\t},\n\t\t\n\t\tsetDiscoveredProcesses(processes) {\n\t\t\tthis.processes = [];\n\t\t\tfor (var i in processes) {\n\t\t\t\tif (typeof processes[i].process_id === 'undefined') {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tthis.processes.push(processes[i]);\n\t\t\t}\n\t\t},\n\t\n\tinsertVisualization() {\n\t\tvar select = document.getElementById('visualizations');\n\t\tvar code;\n\t\tif (select.value === 'custom') {\n\t\t\tcode = `\nOpenEO.Editor.Visualization = {\n\tfunction: function(input) {\n\t\t// ToDo: Implement your custom visualization\n\t}\n};\n`;\n\t\t}\n\t\telse if (typeof this.openEO.Visualizations[select.value] !== 'undefined') {\n\t\t\tvar argsCode = '';\n\t\t\tvar argList = [];\n\t\t\tfor(var key in this.openEO.Visualizations[select.value].arguments) {\n\t\t\t\tvar arg = this.openEO.Visualizations[select.value].arguments[key];\n\t\t\t\tvar value = prompt(arg.description, JSON.stringify(arg.defaultValue));\n\t\t\t\tif (value !== null) {\n\t\t\t\t\targList.push('\"' + key + '\": ' + value);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t// User clicked 'Cancel' -> Abort inserting visualization\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (argList.length > 0) {\n\t\t\t\targsCode = `,\n\targs: {\n\t\t` + argList.join(\",\\r\\n\t\t\") + `\n\t}`;\n\t\t\t}\n\n\t\t\tcode = `\nOpenEO.Editor.Visualization = {\n\tfunction: OpenEO.Visualizations.` + select.value + argsCode + `\n};\n`;\n\t\t}\n\t\telse {\n\t\t\tcode = '';\n\t\t}\n\t\tthis.insertToEditor(code);\n\t},\n\n\t}\n}\n</script>\n\n<style scoped>\nh3 {\n\tmargin-top: 1px;\n\tdisplay: inline-block;\n\tpadding-right: 5px;\n}\n#backendPanel {\n\tborder: solid 1px #676767;\n\tbackground-color: #f7f7f7;\n\tmargin: 1%;\n\tpadding: 5px;\n\tvertical-align: middle;\n}\n#serverUrl {\n\twidth: 60%;\n}\n.server-toolbar {\n\tmargin-bottom: 5px;\n\tpadding-bottom: 5px;\n\tborder-bottom: 1px dotted #ddd;\n}\n.data-toolbar, .processes-toolbar, .info-toolbar {\n\tdisplay: inline-block;\n\tmargin-right: 3%;\n}\n.vis-toolbar {\n\tdisplay: inline-block;\n}\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/BackendPanel.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"backendPanel\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.$config.allowServerChange),expression:\"$config.allowServerChange\"}],staticClass:\"server-toolbar\"},[_c('h3',[_vm._v(\"Server:\")]),_c('input',{ref:\"serverUrl\",attrs:{\"id\":\"serverUrl\",\"list\":\"serverUrls\",\"value\":\"\"}}),_c('button',{attrs:{\"title\":\"Select previously used server\"},on:{\"click\":_vm.showServerSelector}},[_c('i',{staticClass:\"fas fa-book\"})]),_c('button',{attrs:{\"title\":\"Change server\"},on:{\"click\":_vm.updateServerUrlFromInput}},[_c('i',{staticClass:\"fas fa-check\"})])]),_c('div',{staticClass:\"info-toolbar\"},[_c('button',{attrs:{\"title\":\"Get server information\"},on:{\"click\":_vm.getServerInfo}},[_c('i',{staticClass:\"fas fa-info\"})])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showDataSelector()),expression:\"showDataSelector()\"}],staticClass:\"data-toolbar\"},[_vm._v(\"\\n\\t\\tData: \"),_c('select',{ref:\"data\",attrs:{\"id\":\"data\"}},_vm._l((_vm.data),function(d){return _c('option',{key:d.product_id,attrs:{\"title\":d.description},domProps:{\"value\":d.product_id}},[_vm._v(_vm._s(d.product_id))])})),_c('button',{attrs:{\"id\":\"insertData\",\"title\":\"Insert into script\"},on:{\"click\":_vm.insertDataToEditor}},[_c('i',{staticClass:\"fas fa-plus\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.openEO.Capabilities.dataInfo()),expression:\"openEO.Capabilities.dataInfo()\"}],attrs:{\"title\":\"Show details\"},on:{\"click\":_vm.showDataInfo}},[_c('i',{staticClass:\"fas fa-info\"})])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showProcessSelector()),expression:\"showProcessSelector()\"}],staticClass:\"processes-toolbar\"},[_vm._v(\"\\n\\t\\tProcesses: \"),_c('select',{ref:\"processes\",attrs:{\"id\":\"processes\"}},_vm._l((_vm.processes),function(p){return _c('option',{key:p.process_id,attrs:{\"title\":p.description},domProps:{\"value\":p.process_id}},[_vm._v(_vm._s(p.process_id))])})),_c('button',{attrs:{\"id\":\"insertProcesses\",\"title\":\"Insert into script\"},on:{\"click\":_vm.insertProcessToEditor}},[_c('i',{staticClass:\"fas fa-plus\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.openEO.Capabilities.processInfo()),expression:\"openEO.Capabilities.processInfo()\"}],attrs:{\"title\":\"Show details\"},on:{\"click\":_vm.showProcessInfo}},[_c('i',{staticClass:\"fas fa-info\"})])]),_c('div',{staticClass:\"vis-toolbar\"},[_vm._v(\"\\n\\t\\tVisualizations: \"),_c('select',{attrs:{\"id\":\"visualizations\"}},[_c('option',{attrs:{\"value\":\"\"}},[_vm._v(\"None\")]),_c('option',{attrs:{\"value\":\"custom\"}},[_vm._v(\"Custom function\")]),_c('optgroup',{attrs:{\"label\":\"Pre-defined\"}},_vm._l((_vm.openEO.Visualizations),function(v,k){return _c('option',{key:k,domProps:{\"value\":k}},[_vm._v(_vm._s(v.name))])}))]),_c('button',{attrs:{\"id\":\"insertVisualizations\",\"title\":\"Insert into script\"},on:{\"click\":_vm.insertVisualization}},[_c('i',{staticClass:\"fas fa-plus\"})])])])}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-c8b9cb2e\",\"hasScoped\":true,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/BackendPanel.vue\n// module id = null\n// module chunks = ","function injectStyle (context) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":false,\\\"minimize\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"id\\\":\\\"data-v-c8b9cb2e\\\",\\\"scoped\\\":true,\\\"sourceMap\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./BackendPanel.vue\")\n}\n/* script */\nexport * from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/home/travis/build/Open-EO/openeo-web-editor/node_modules/.cache/cache-loader\\\"}!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./BackendPanel.vue\"\nimport __vue_script__ from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/home/travis/build/Open-EO/openeo-web-editor/node_modules/.cache/cache-loader\\\"}!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./BackendPanel.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c8b9cb2e\\\",\\\"hasScoped\\\":true,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./BackendPanel.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-c8b9cb2e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/BackendPanel.vue\n// module id = null\n// module chunks = ","<template>\n\t<em v-if=\"isEmpty\">None</em>\n\t<em v-else-if=\"collapsed\">... (<a @click=\"toggle()\">show all {{ data.length }} entries</a>)</em>\n\t<ul v-else>\n\t\t<li v-for=\"(value, key) in data\" :key=\"key\">\n\t\t\t<template v-if=\"shouldShowKey\"><em>{{ prettifyKey(key) }}</em>: </template>\n\t\t\t<ObjectTree v-if=\"showObjectTree(value)\" :data=\"value\"></ObjectTree>\n\t\t\t<template v-else>{{ value }}</template>\n\t\t</li>\n\t</ul>\n</template>\n\n<script>\nexport default {\n    name: 'ObjectTree',\n\tprops: ['data'],\n\tdata() {\n\t\treturn {\n\t\t\tcollapsed: false,\n\t\t\tisObjectTree: true\n\t\t};\n\t},\n\tcreated() {\n\t\tthis.collapsed = (Array.isArray(this.data) && this.data.length > 50 && this.$parent.isObjectTree);\n\t},\n\tcomputed: {\n\t\tshouldShowKey() {\n            // the first item's type is regarded as representative for the whole array despite arrays of mixed types being possible in JS\n            return !(Array.isArray(this.data) && this.data.length > 0 && typeof this.data[0] !== 'object');\n\t\t},\n        isEmpty() {\n            return this.data == null\n                || Array.isArray(this.data) && this.data.length == 0\n                || typeof this.data == 'object' && Object.keys(this.data).length == 0;\n\t\t},\n\t},\n    methods: {\n\t\ttoggle() {\n\t\t\tthis.collapsed = !this.collapsed;\n\t\t},\n\t\tshowObjectTree(value) {\n\t\t\treturn (typeof value === 'object') && !this.collapsed;\n\t\t},\n        prettifyKey(key) {\n            if(this.$utils.isNumeric(key)) {\n                return key;\n            } else {\n                return key\n                    // split at each underscore (removing that underscore) and at each upper case letter (leaving that letter)\n                    .split(/_|(?=[A-Z])/)\n                    // capitalize each word that is longer than 2 characters\n                    .map((e) => e.length <= 2 ? e : e.charAt(0).toUpperCase() + e.substr(1))\n                    // join with spaces\n                    .join(' ');\n            }\n        }\n    }\n};\n</script>\n\n\n// WEBPACK FOOTER //\n// src/components/ObjectTree.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isEmpty)?_c('em',[_vm._v(\"None\")]):(_vm.collapsed)?_c('em',[_vm._v(\"... (\"),_c('a',{on:{\"click\":function($event){_vm.toggle()}}},[_vm._v(\"show all \"+_vm._s(_vm.data.length)+\" entries\")]),_vm._v(\")\")]):_c('ul',_vm._l((_vm.data),function(value,key){return _c('li',{key:key},[(_vm.shouldShowKey)?[_c('em',[_vm._v(_vm._s(_vm.prettifyKey(key)))]),_vm._v(\": \")]:_vm._e(),(_vm.showObjectTree(value))?_c('ObjectTree',{attrs:{\"data\":value}}):[_vm._v(_vm._s(value))]],2)}))}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-31c70ee6\",\"hasScoped\":false,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ObjectTree.vue\n// module id = null\n// module chunks = ","/* script */\nexport * from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/home/travis/build/Open-EO/openeo-web-editor/node_modules/.cache/cache-loader\\\"}!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ObjectTree.vue\"\nimport __vue_script__ from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/home/travis/build/Open-EO/openeo-web-editor/node_modules/.cache/cache-loader\\\"}!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ObjectTree.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-31c70ee6\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ObjectTree.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ObjectTree.vue\n// module id = null\n// module chunks = ","<template>\n\t<div id=\"dataViewer\">\n\t\t<span v-if=\"isText()\">{{ nl2br(content) }}</span>\n\t\t<ObjectTree v-else :data=\"content\"></ObjectTree>\n\t</div>\n</template>\n\n<script>\nimport EventBus from '../eventbus.js';\nimport ObjectTree from './ObjectTree.vue';\n\nexport default {\n\tname: 'DataViewer',\n\tcomponents:  {\n\t\tObjectTree\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tcontent: null,\n\t\t};\n\t},\n\tmounted() {\n\t\tthis.reset();\n\t},\n\tmethods: {\n\n\t\tisText() {\n\t\t\treturn (typeof this.content === 'string');\n\t\t},\n\n\t\treset() {\n\t\t\tthis.content = 'Nothing to show.';\n\t\t},\n\n\t\tshowJson(data) {\n\t\t\tthis.content = data;\n\t\t\tEventBus.$emit('showDataViewer');\n\t\t},\n\n\t\tshowText(data) {\n\t\t\tthis.content = data;\n\t\t\tEventBus.$emit('showDataViewer');\n\t\t},\n\n\t\tshowBlob(blob) {\n\t\t\tswitch(blob.type) {\n\t\t\t\tcase 'application/json':\n\t\t\t\t\tthis.blobToText(blob, (event) => {\n\t\t\t\t\t\tvar json = JSON.parse(event.target.result);\n\t\t\t\t\t\tthis.showJson(json);\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'text/plain':\n\t\t\t\t\tthis.blobToText(blob, (event) => {\n\t\t\t\t\t\tthis.showText(event.target.result);\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\n\t\tnl2br (str) {\n\t\t\tif (typeof str === 'undefined' || str === null) {\n\t\t\t\treturn '';\n\t\t\t}\n\t\t\treturn (str + '').replace(/([^>\\r\\n]?)(\\r\\n|\\n\\r|\\r|\\n)/g, '$1<br>$2');\n\t\t},\n\n\t\tblobToText(blob, callback) {\n\t\t\tvar reader = new FileReader();\n\t\t\treader.onload = callback;\n\t\t\treader.readAsText(blob);\n\t\t}\n\n\t}\n};\n</script>\n\n<style scoped>\n#dataViewer {\n\tpadding: 5px;\n}\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/DataViewer.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"dataViewer\"}},[(_vm.isText())?_c('span',[_vm._v(_vm._s(_vm.nl2br(_vm.content)))]):_c('ObjectTree',{attrs:{\"data\":_vm.content}})],1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-c97bdf14\",\"hasScoped\":true,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/DataViewer.vue\n// module id = null\n// module chunks = ","function injectStyle (context) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":false,\\\"minimize\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"id\\\":\\\"data-v-c97bdf14\\\",\\\"scoped\\\":true,\\\"sourceMap\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./DataViewer.vue\")\n}\n/* script */\nexport * from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/home/travis/build/Open-EO/openeo-web-editor/node_modules/.cache/cache-loader\\\"}!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./DataViewer.vue\"\nimport __vue_script__ from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/home/travis/build/Open-EO/openeo-web-editor/node_modules/.cache/cache-loader\\\"}!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./DataViewer.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c97bdf14\\\",\\\"hasScoped\\\":true,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./DataViewer.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-c97bdf14\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/DataViewer.vue\n// module id = null\n// module chunks = ","<template>\n\t<DataTable ref=\"table\" :dataSource=\"dataSource\" :columns=\"columns\" id=\"FilePanel\">\n\t\t<template slot=\"toolbar\" slot-scope=\"p\">\n\t\t\t<span v-show=\"openEO.Capabilities.uploadUserFile()\">\n\t\t\t\t<input type=\"file\" name=\"uploadUserFile\" id=\"uploadUserFile\">\n\t\t\t\t<button title=\"Add new file\" id=\"uploadUserFileBtn\" @click=\"uploadFile()\"><i class=\"fas fa-upload\"></i></button>\n\t\t\t\t<span id=\"uploadUserFileStatus\"></span>\n\t\t\t</span>\n\t\t\t<button title=\"Refresh files\" @click=\"updateData()\"><i class=\"fas fa-sync-alt\"></i></button> <!-- ToDo: Should be done automatically later -->\n\t\t</template>\n\t\t<template slot=\"actions\" slot-scope=\"p\">\n\t\t\t<button title=\"Download\" @click=\"downloadFile(p.row[p.col.id])\" v-show=\"openEO.Capabilities.downloadUserFile()\"><i class=\"fas fa-download\"></i></button>\n\t\t\t<button title=\"Delete\" @click=\"deleteFile(p.row[p.col.id])\" v-show=\"openEO.Capabilities.deleteUserFile()\"><i class=\"fas fa-trash\"></i></button>\n\t\t</template>\n\t</DataTable>\n</template>\n\n<script>\nimport EventBus from '../eventbus.js';\nimport DataTable from './DataTable.vue';\n\nexport default {\n  \tname: 'FilePanel',\n\tprops: ['openEO','userId'],\n\tcomponents: {\n\t\tDataTable\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tcolumns: {\n\t\t\t\tname: {\n\t\t\t\t\tname: 'Path / Name',\n\t\t\t\t\tprimaryKey: true\n\t\t\t\t},\n\t\t\t\tsize: {\n\t\t\t\t\tname: 'Size',\n\t\t\t\t\tformat: \"FileSize\",\n\t\t\t\t\tfilterable: false\n\t\t\t\t},\n\t\t\t\tmodified: {\n\t\t\t\t\tname: 'Last modified',\n\t\t\t\t\tformat: 'DateTime'\n\t\t\t\t},\n\t\t\t\tactions: {\n\t\t\t\t\tname: 'Actions',\n\t\t\t\t\tfilterable: false,\n\t\t\t\t\tid: 'name'\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t},\n\tcreated() {\n\t\tEventBus.$on('serverChanged', this.updateData);\n\t},\n\twatch: { \n\t\tuserId(newVal, oldVal) {\n\t\t\tif (newVal !== null) {\n\t\t\t\tthis.updateData();\n\t\t\t}\n\t\t}\n\t},\n  \tmethods: {\n\t\tdataSource() {\n\t\t\tlet users = this.openEO.Users.getObject(this.userId);\n\t\t\treturn users.getFiles();\n\t\t},\n\t\tupdateData() {\n\t\t\tif (!this.$refs.table || !this.openEO.Capabilities.userFiles()) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\telse if (typeof this.userId !== 'string' && typeof this.userId !== 'number') {\n\t\t\t\tthis.$refs.table.setNoData(401);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.$refs.table.retrieveData();\n\t\t\t}\n\t\t},\n\t\tuploadFile() {\n\t\t\tvar field = document.getElementById('uploadUserFile');\n\t\t\tvar status = document.getElementById('uploadUserFileStatus');\n\t\t\tvar file = field.files[0];\n\t\t\tvar fileApi = this.openEO.Users.getObject(this.userId).getFileObject(file.name);\n\t\t\tfileApi.replace(file, percent => {\n\t\t\t\tstatus.innerText = percent + '%';\n\t\t\t}).then(data => {\n\t\t\t\t// ToDo: This should not be self generated\n\t\t\t\tthis.$refs.table.replaceData({\n\t\t\t\t\t\"name\": file.name,\n\t\t\t\t\t\"size\": file.size,\n\t\t\t\t\t\"modified\": (new Date()).toISOString()\n\t\t\t\t});\n\t\t\t\tstatus.innerText = '';\n\t\t\t\tfield.value = '';\n\t\t\t\tthis.$utils.ok(this, 'File upload completed.');\n\t\t\t}).catch(error => {\n\t\t\t\tstatus.innerText = '';\n\t\t\t\tthis.$utils.error(this, 'Sorry, file upload failed.');\n\t\t\t});\n\t\t},\n\t\tdownloadFile(id) {\n\t\t\tthis.$utils.info(this, 'Download requested. Please wait...');\n\t\t\tvar fileApi = this.openEO.Users.getObject(this.userId).getFileObject(id);\n\t\t\tfileApi.get().then(data => {\n\t\t\t\tthis.$utils.downloadData(data, id);\n\t\t\t});\n\t\t},\n\t\tdeleteFile(id) {\n\t\t\tvar fileApi = this.openEO.Users.getObject(this.userId).getFileObject(id);\n\t\t\tfileApi.delete()\n\t\t\t\t.then(data => {\n\t\t\t\t\tthis.$refs.table.removeData(id);\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tthis.$utils.error(this, 'Sorry, could not delete file.');\n\t\t\t\t});\n\t\t}\n\t}\n}\n</script>\n\n<style>\n#FilePanel .name {\n\twidth: 50%;\n}\n#FilePanel td.name {\n\tword-break: break-all;\n}\n#FilePanel .size {\n\twidth: 10%;\n}\n#FilePanel .modified {\n\twidth: 20%;\n}\n#FilePanel td.size, #FilePanel td.modified {\n\ttext-align: right;\n}\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/FilePanel.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('DataTable',{ref:\"table\",attrs:{\"dataSource\":_vm.dataSource,\"columns\":_vm.columns,\"id\":\"FilePanel\"},scopedSlots:_vm._u([{key:\"toolbar\",fn:function(p){return [_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.openEO.Capabilities.uploadUserFile()),expression:\"openEO.Capabilities.uploadUserFile()\"}]},[_c('input',{attrs:{\"type\":\"file\",\"name\":\"uploadUserFile\",\"id\":\"uploadUserFile\"}}),_c('button',{attrs:{\"title\":\"Add new file\",\"id\":\"uploadUserFileBtn\"},on:{\"click\":function($event){_vm.uploadFile()}}},[_c('i',{staticClass:\"fas fa-upload\"})]),_c('span',{attrs:{\"id\":\"uploadUserFileStatus\"}})]),_c('button',{attrs:{\"title\":\"Refresh files\"},on:{\"click\":function($event){_vm.updateData()}}},[_c('i',{staticClass:\"fas fa-sync-alt\"})])]}},{key:\"actions\",fn:function(p){return [_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.openEO.Capabilities.downloadUserFile()),expression:\"openEO.Capabilities.downloadUserFile()\"}],attrs:{\"title\":\"Download\"},on:{\"click\":function($event){_vm.downloadFile(p.row[p.col.id])}}},[_c('i',{staticClass:\"fas fa-download\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.openEO.Capabilities.deleteUserFile()),expression:\"openEO.Capabilities.deleteUserFile()\"}],attrs:{\"title\":\"Delete\"},on:{\"click\":function($event){_vm.deleteFile(p.row[p.col.id])}}},[_c('i',{staticClass:\"fas fa-trash\"})])]}}])})}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2230eb4c\",\"hasScoped\":false,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/FilePanel.vue\n// module id = null\n// module chunks = ","function injectStyle (context) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":false,\\\"minimize\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"scoped\\\":false,\\\"sourceMap\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./FilePanel.vue\")\n}\n/* script */\nexport * from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/home/travis/build/Open-EO/openeo-web-editor/node_modules/.cache/cache-loader\\\"}!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./FilePanel.vue\"\nimport __vue_script__ from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/home/travis/build/Open-EO/openeo-web-editor/node_modules/.cache/cache-loader\\\"}!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./FilePanel.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2230eb4c\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./FilePanel.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/FilePanel.vue\n// module id = null\n// module chunks = ","<template>\n\t<div id=\"imageViewer\" ref=\"imageContainer\">\n\t\t<span ref=\"emptyMsg\" v-show=\"visibleContent == 'text'\"></span>\n\t\t<canvas ref=\"canvas\" v-show=\"visibleContent == 'canvas'\"></canvas>\n\t\t<img ref=\"image\" v-show=\"visibleContent == 'image'\" />\n\t</div>\n</template>\n\n<script>\nimport EventBus from '../eventbus.js';\n\nexport default {\n\tname: 'ImageViewer',\n\n\tdata() {\n\t\treturn {\n\t\t\tscript: null,\n\t\t\tvisibleContent: 'text'\n\t\t};\n\t},\n\n\tmounted() {\n\t\tthis.reset();\n\t},\n\n\tmethods: {\n\n\t\tsetScript(script) {\n\t\t\tthis.script = script;\n\t\t},\n\n\t\treset() {\n\t\t\tthis.setMessage('Nothing to show.');\n\t\t},\n\n\t\tsetMessage(message) {\n\t\t\tthis.$refs.emptyMsg.innerText = message;\n\t\t\tthis.visibleContent = 'text';\n\t\t\tthis.setCanvasSize(0, 0);\n\t\t},\n\t\t\n\t\tshowImage(src) {\n\t\t\tthis.setMessage('Loading image...');\n\t\t\tEventBus.$emit('showImageViewer');\n\t\t\tthis.$refs.image.onload = () => {\n\t\t\t\tthis.visibleContent = 'image';\n\t\t\t\tif (this.script.Visualization && this.script.Visualization.function) {\n\t\t\t\t\tthis.updateCanvas();\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.$refs.image.src = src;\n\t\t},\n\n\t\tshowImageBlob(data) {\n\t\t\tthis.showImage(URL.createObjectURL(data));\n\t\t},\n\n\t\tshowImageBase64(data) {\n\t\t\tvar base64 = \"data:\" + contentType + \";base64,\" + btoa(data);\n\t\t\tthis.showImage(data);\n\t\t},\n\n\t\tupdateCanvas() {\n\t\t\tthis.setCanvasSize(this.$refs.image.naturalWidth, this.$refs.image.naturalHeight);\n\n\t\t\tvar context = this.$refs.canvas.getContext('2d');\n\t\t\tcontext.drawImage(this.$refs.image, 0, 0);\n\t\t\tthis.$refs.canvas.originalImage = context.getImageData(0, 0, this.$refs.canvas.width, this.$refs.canvas.height);\n\t\t\tthis.$utils.recolorImage(this.$refs.canvas, this.script);\n\n\t\t\tthis.visibleContent = 'canvas';\n\t\t},\n\n\t\tsetCanvasSize(w, h) {\n\t\t\tthis.$refs.canvas.width = this.$refs.image.naturalWidth;\n\t\t\tthis.$refs.canvas.height = this.$refs.image.naturalHeight;\n\n\t\t}\n\n\t}\n};\n</script>\n\n<style>\n#imageViewer {\n\tpadding: 5px;\n}\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/ImageViewer.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"imageContainer\",attrs:{\"id\":\"imageViewer\"}},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.visibleContent == 'text'),expression:\"visibleContent == 'text'\"}],ref:\"emptyMsg\"}),_c('canvas',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.visibleContent == 'canvas'),expression:\"visibleContent == 'canvas'\"}],ref:\"canvas\"}),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.visibleContent == 'image'),expression:\"visibleContent == 'image'\"}],ref:\"image\"})])}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-20cf0f2e\",\"hasScoped\":false,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ImageViewer.vue\n// module id = null\n// module chunks = ","function injectStyle (context) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":false,\\\"minimize\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"scoped\\\":false,\\\"sourceMap\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ImageViewer.vue\")\n}\n/* script */\nexport * from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/home/travis/build/Open-EO/openeo-web-editor/node_modules/.cache/cache-loader\\\"}!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ImageViewer.vue\"\nimport __vue_script__ from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/home/travis/build/Open-EO/openeo-web-editor/node_modules/.cache/cache-loader\\\"}!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ImageViewer.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-20cf0f2e\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ImageViewer.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ImageViewer.vue\n// module id = null\n// module chunks = ","<template>\n\t<DataTable ref=\"table\" :dataSource=\"dataSource\" :columns=\"columns\" id=\"JobPanel\">\n\t\t<template slot=\"toolbar\" slot-scope=\"p\">\n\t\t\t<button title=\"Add new job\" @click=\"createJobFromScript\" v-show=\"openEO.Capabilities.createJob()\"><i class=\"fas fa-plus\"></i> Add</button>\n\t\t\t<button title=\"Refresh jobs\" @click=\"updateData()\" v-show=\"openEO.Capabilities.userJobs()\"><i class=\"fas fa-sync-alt\"></i></button> <!-- ToDo: Should be done automatically later -->\n\t\t</template>\n\t\t<template slot=\"actions\" slot-scope=\"p\">\n\t\t\t<button title=\"Details\" @click=\"showJobInfo(p.row[p.col.id])\" v-show=\"openEO.Capabilities.jobInfo()\"><i class=\"fas fa-info\"></i></button>\n\t\t\t<button title=\"Edit\" @click=\"editJob(p.row[p.col.id])\" v-show=\"openEO.Capabilities.updateJob()\"><i class=\"fas fa-edit\"></i></button>\n\t\t\t<button title=\"Queue as batch job\" @click=\"queueJob(p.row[p.col.id])\" v-show=\"openEO.Capabilities.queueJob()\"><i class=\"fas fa-play-circle\"></i></button>\n\t\t\t<button title=\"Pause batch job\" @click=\"pauseJob(p.row[p.col.id])\" v-show=\"openEO.Capabilities.pauseJob()\"><i class=\"fas fa-pause-circle\"></i></button>\n\t\t\t<button title=\"Disable\" @click=\"cancelJob(p.row[p.col.id])\" v-show=\"openEO.Capabilities.cancelJob()\"><i class=\"fas fa-stop-circle\"></i></button>\n\t\t\t<button title=\"Download\" @click=\"downloadJob(p.row[p.col.id])\" v-show=\"openEO.Capabilities.downloadJob()\"><i class=\"fas fa-download\"></i></button>\n\t\t\t<button title=\"View results\" @click=\"downloadJob(p.row[p.col.id], true)\" v-show=\"openEO.Capabilities.downloadJob()\"><i class=\"fas fa-eye\"></i></button>\n\t\t\t<button title=\"Create Service\" @click=\"createServiceFromJob(p.row[p.col.id])\" v-show=\"openEO.Capabilities.createService()\"><i class=\"fas fa-plus\"></i> <i class=\"fas fa-cloud\"></i></button>\n\t\t</template>\n\t</DataTable>\n</template>\n\n<script>\nimport EventBus from '../eventbus.js';\nimport DataTable from './DataTable.vue';\n\nexport default {\n\tname: 'JobPanel',\n\tprops: ['openEO','userId'],\n\tcomponents: {\n\t\tDataTable\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tcolumns: {\n\t\t\t\tjob_id: {\n\t\t\t\t\tname: 'ID',\n\t\t\t\t\tprimaryKey: true\n\t\t\t\t},\n\t\t\t\tstatus: {\n\t\t\t\t\tname: 'Status',\n\t\t\t\t\tstylable: true\n\t\t\t\t},\n\t\t\t\tsubmitted: {\n\t\t\t\t\tname: 'Submitted',\n\t\t\t\t\tformat: 'DateTime'\n\t\t\t\t},\n\t\t\t\tupdated: {\n\t\t\t\t\tname: 'Last update',\n\t\t\t\t\tformat: 'DateTime'\n\t\t\t\t},\n\t\t\t\tconsumed_credits: {\n\t\t\t\t\tname: 'Costs',\n\t\t\t\t\tfilterable: false\n\t\t\t\t},\n\t\t\t\tactions: {\n\t\t\t\t\tname: 'Actions',\n\t\t\t\t\tfilterable: false,\n\t\t\t\t\tid: 'job_id'\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t},\n\tcreated() {\n\t\tEventBus.$on('jobCreated', this.jobCreated);\n\t\tEventBus.$on('serverChanged', this.updateData);\n\t},\n\twatch: { \n\t\tuserId(newVal, oldVal) {\n\t\t\tif (newVal !== null) {\n\t\t\t\tthis.updateData();\n\t\t\t}\n\t\t}\n\t},\n\tmethods: {\n\t\tdataSource() {\n\t\t\tlet users = this.openEO.Users.getObject(this.userId);\n\t\t\treturn users.getJobs();\n\t\t},\n\t\tupdateData() {\n\t\t\tif (!this.$refs.table) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\telse if (typeof this.userId !== 'string' && typeof this.userId !== 'number') {\n\t\t\t\tthis.$refs.table.setNoData(401);\n\t\t\t}\n\t\t\telse if (this.openEO.Capabilities.userJobs()) {\n\t\t\t\tthis.$refs.table.retrieveData();\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.$refs.table.setNoData(this.openEO.Capabilities.createJob() ? '' : 501);\n\t\t\t}\n\t\t},\n\t\tjobCreated(data) {\n\t\t\tthis.$refs.table.addData(data);\n\n\t\t\tvar options = {\n\t\t\t\tbuttons: []\n\t\t\t};\n\t\t\tif (this.openEO.Capabilities.downloadJob()) {\n\t\t\t\toptions.buttons.push({text: 'Download', action: () => this.downloadJob(data.job_id)});\n\t\t\t\toptions.timeout = 10000;\n\t\t\t}\n\t\t\tthis.$snotify.confirm('Job created!', null, options);\n\t\t},\n\t\tcreateJob(job, output) {\n\t\t\tthis.openEO.Jobs.create(job.ProcessGraph, output)\n\t\t\t\t.then(data => {\n\t\t\t\t\tEventBus.$emit('jobCreated', data);\n\t\t\t\t}).catch(error => {\n\t\t\t\t\tthis.$utils.error(this, 'Sorry, could not create an OpenEO job.');\n\t\t\t\t});\n\t\t},\n\t\tcreateJobFromScript(id) {\n\t\t\t// Todo: Output formats\n\t\t\tvar output = {};\n\t\t\tvar format = prompt('Please specify the file format you need or leave empty for default format.', '');\n\t\t\tif (format === null) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\telse if (format.length > 0) {\n\t\t\t\toutput = {format: format};\n\t\t\t}\n\t\t\tEventBus.$emit('evalScript', (script) => {\n\t\t\t\tthis.createJob(script, output);\n\t\t\t});\n\t\t},\n\t\tshowJobInfo(id) {\n\t\t\tvar jobApi = this.openEO.Jobs.getObject(id);\n\t\t\tjobApi.get()\n\t\t\t\t.then(data => {\n\t\t\t\t\tEventBus.$emit('showModal', 'Job: ' + id, data);\n\t\t\t\t})\n\t\t\t\t.catch(error => this.$utils.error(this, 'Sorry, could not load job details.'));\n\t\t},\n\t\teditJob(id) {\n\t\t\tEventBus.$emit('evalScript', (script) => {\n\t\t\t\tvar jobApi = this.openEO.Jobs.getObject(id);\n\t\t\t\tjobApi.modify(script.ProcessGraph, {});\n\t\t\t} , false);\n\t\t\t\n\t\t},\n\t\tqueueJob(id) {\n\t\t\ttry {\n\t\t\t\tvar jobApi = this.openEO.Jobs.getObject(id);\n\t\t\t\tjobApi.queue();\n\t\t\t} catch (e) {\n\t\t\t\tthis.$utils.error(this, e.message);\n\t\t\t}\n\t\t},\n\t\tpauseJob(id) {\n\t\t\ttry {\n\t\t\t\tvar jobApi = this.openEO.Jobs.getObject(id);\n\t\t\t\tjobApi.pause();\n\t\t\t} catch (e) {\n\t\t\t\tthis.$utils.error(this, e.message);\n\t\t\t}\n\t\t},\n\t\tcancelJob(id) {\n\t\t\ttry {\n\t\t\t\tvar jobApi = this.openEO.Jobs.getObject(id);\n\t\t\t\tjobApi.cancel();\n\t\t\t} catch (e) {\n\t\t\t\tthis.$utils.error(this, e.message);\n\t\t\t}\n\t\t},\n\t\tdownloadJob(id, view = false) {\n\t\t\tvar format = prompt('Please specify the file format you need or leave empty for default format.', '');\n\t\t\tif (format === null) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.$utils.info(this, (view ? 'Data' : 'Download') + ' requested. Please wait...');\n\t\t\tvar jobApi = this.openEO.Jobs.getObject(id);\n\t\t\tjobApi.download(format).then(data => {\n\t\t\t\tif (view) {\n\t\t\t\t\t// View in browser\n\t\t\t\t\tEventBus.$emit('evalScript', (script) => {\n\t\t\t\t\t\tEventBus.$emit('showInViewer', data, script, {format: format});\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t// Download to computer\n\t\t\t\t\tvar ext = '';\n\t\t\t\t\tif (format) {\n\t\t\t\t\t\text = \".\" + format;\n\t\t\t\t\t}\n\t\t\t\t\tthis.$utils.downloadData(data, id + ext);\n\t\t\t\t}\n\t\t\t}).catch(error => {\n\t\t\t\tthis.$utils.error(this, \"Sorry, an error occured.\");\n\t\t\t});\n\t\t},\n\t\tcreateServiceFromJob(id) {\n\t\t\tvar type;\n\t\t\tif (this.openEO.SupportedServices.length == 1) {\n\t\t\t\ttype = this.openEO.SupportedServices[0];\n\t\t\t}\n\t\t\telse {\n\t\t\t\tvar type = prompt('Please specify the service type you want to create:', '');\n\t\t\t\tif (type === null) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\telse if (this.openEO.SupportedServices.indexOf(type.toLowerCase()) === -1) {\n\t\t\t\t\tthis.$utils.error(this, 'Invalid service type specified.');\n\t\t\t\t}\n\t\t\t}\n\t\t\t// ToDo: Ask user for service arguments\n\t\t\tthis.openEO.Services.create(id, type, {}).then(data => {\n\t\t\t\tEventBus.$emit('serviceCreated', data);\n\t\t\t}).catch(error => {\n\t\t\t\tthis.$utils.error(this, \"Sorry, an error occured.\");\n\t\t\t});\n\t\t}\n\t}\n}\n</script>\n\n<style>\n#JobPanel .job_id {\n\twidth: 20%;\n}\n#JobPanel .status {\n\twidth: 10%;\n}\n#JobPanel .submitted {\n\twidth: 18%;\n}\n#JobPanel .updated {\n\twidth: 18%;\n}\n#JobPanel .consumed_credits {\n\twidth: 5%;\n}\n#JobPanel td.consumed_credits, #JobPanel td.updated, #JobPanel td.submitted {\n\ttext-align: right;\n}\n#JobPanel td.status[data-value=\"submitted\"] {\n\tcolor: black;\n}\n#JobPanel td.status[data-value=\"running\"] {\n\tcolor: darkorange;\n}\n#JobPanel td.status[data-value=\"queued\"] {\n\tcolor: darkblue;\n}\n#JobPanel td.status[data-value=\"paused\"] {\n\tcolor: purple;\n}\n#JobPanel td.status[data-value=\"finished\"] {\n\tcolor: darkgreen;\n}\n#JobPanel td.status[data-value=\"canceled\"] {\n\tcolor: darkgrey;\n}\n#JobPanel td.status[data-value=\"error\"] {\n\tcolor: red;\n}\n#JobPanel td.status[data-value=\"unknown\"] {\n\tcolor: darkgrey;\n}\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/JobPanel.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('DataTable',{ref:\"table\",attrs:{\"dataSource\":_vm.dataSource,\"columns\":_vm.columns,\"id\":\"JobPanel\"},scopedSlots:_vm._u([{key:\"toolbar\",fn:function(p){return [_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.openEO.Capabilities.createJob()),expression:\"openEO.Capabilities.createJob()\"}],attrs:{\"title\":\"Add new job\"},on:{\"click\":_vm.createJobFromScript}},[_c('i',{staticClass:\"fas fa-plus\"}),_vm._v(\" Add\")]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.openEO.Capabilities.userJobs()),expression:\"openEO.Capabilities.userJobs()\"}],attrs:{\"title\":\"Refresh jobs\"},on:{\"click\":function($event){_vm.updateData()}}},[_c('i',{staticClass:\"fas fa-sync-alt\"})])]}},{key:\"actions\",fn:function(p){return [_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.openEO.Capabilities.jobInfo()),expression:\"openEO.Capabilities.jobInfo()\"}],attrs:{\"title\":\"Details\"},on:{\"click\":function($event){_vm.showJobInfo(p.row[p.col.id])}}},[_c('i',{staticClass:\"fas fa-info\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.openEO.Capabilities.updateJob()),expression:\"openEO.Capabilities.updateJob()\"}],attrs:{\"title\":\"Edit\"},on:{\"click\":function($event){_vm.editJob(p.row[p.col.id])}}},[_c('i',{staticClass:\"fas fa-edit\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.openEO.Capabilities.queueJob()),expression:\"openEO.Capabilities.queueJob()\"}],attrs:{\"title\":\"Queue as batch job\"},on:{\"click\":function($event){_vm.queueJob(p.row[p.col.id])}}},[_c('i',{staticClass:\"fas fa-play-circle\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.openEO.Capabilities.pauseJob()),expression:\"openEO.Capabilities.pauseJob()\"}],attrs:{\"title\":\"Pause batch job\"},on:{\"click\":function($event){_vm.pauseJob(p.row[p.col.id])}}},[_c('i',{staticClass:\"fas fa-pause-circle\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.openEO.Capabilities.cancelJob()),expression:\"openEO.Capabilities.cancelJob()\"}],attrs:{\"title\":\"Disable\"},on:{\"click\":function($event){_vm.cancelJob(p.row[p.col.id])}}},[_c('i',{staticClass:\"fas fa-stop-circle\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.openEO.Capabilities.downloadJob()),expression:\"openEO.Capabilities.downloadJob()\"}],attrs:{\"title\":\"Download\"},on:{\"click\":function($event){_vm.downloadJob(p.row[p.col.id])}}},[_c('i',{staticClass:\"fas fa-download\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.openEO.Capabilities.downloadJob()),expression:\"openEO.Capabilities.downloadJob()\"}],attrs:{\"title\":\"View results\"},on:{\"click\":function($event){_vm.downloadJob(p.row[p.col.id], true)}}},[_c('i',{staticClass:\"fas fa-eye\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.openEO.Capabilities.createService()),expression:\"openEO.Capabilities.createService()\"}],attrs:{\"title\":\"Create Service\"},on:{\"click\":function($event){_vm.createServiceFromJob(p.row[p.col.id])}}},[_c('i',{staticClass:\"fas fa-plus\"}),_c('i',{staticClass:\"fas fa-cloud\"})])]}}])})}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-235bd770\",\"hasScoped\":false,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/JobPanel.vue\n// module id = null\n// module chunks = ","function injectStyle (context) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":false,\\\"minimize\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"scoped\\\":false,\\\"sourceMap\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./JobPanel.vue\")\n}\n/* script */\nexport * from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/home/travis/build/Open-EO/openeo-web-editor/node_modules/.cache/cache-loader\\\"}!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./JobPanel.vue\"\nimport __vue_script__ from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/home/travis/build/Open-EO/openeo-web-editor/node_modules/.cache/cache-loader\\\"}!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./JobPanel.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-235bd770\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./JobPanel.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/JobPanel.vue\n// module id = null\n// module chunks = ","import L from \"leaflet-geotiff/leaflet-geotiff.js\"\n\nL.LeafletGeotiff.CustomRenderer = L.LeafletGeotiffRenderer.extend({\n\toptions: {\n\t\tscript: null\n\t},\n\tinitialize(options) {\n\t\tthis.name = \"openEO-geotiff-visualizer\";\n\t\tL.setOptions(this, options);\n\t},\n\tsetScript(script) {\n\t\tif (script && script.Visualization && script.Visualization.function) {\n\t\t\tthis.options.script = script;\n\t\t}\n        this.parent._reset();\n\t},\n\trender(raster, canvas, ctx, args) {\n\t\tvar hasScript = (this.options.script && this.options.script.Visualization && this.options.script.Visualization.function) ? true : false;\n\t\tvar imageData = ctx.createImageData(raster.width, raster.height);\n\t\tfor (var y = 0; y < raster.height; y++) {\n\t\t\tfor (var x = 0; x < raster.width; x++) {\n\t\t\t\tvar i = (y*raster.width)+x;\n\t\t\t\tvar input = [raster.data[i], raster.data[i], raster.data[i], 255];\n\t\t\t\tif (hasScript) {\n\t\t\t\t\tinput = this.options.script.Visualization.function(input, this.options.script.Visualization.args);\n\t\t\t\t}\n\t\t\t\timageData.data.set(input, ((y*raster.width)+x)*4);\n\t\t\t}\n\t\t}\n\t\tctx.putImageData(this.parent.transform(imageData, args), args.xStart, args.yStart); \n\t}\n\n});\n\nexport default L.LeafletGeotiff.customRenderer = function (options) {\n    return new L.LeafletGeotiff.CustomRenderer(options);\n};\n\n\n// WEBPACK FOOTER //\n// ./src/leaflet-geotiff-customrenderer.js","<template>\n\t<div id=\"mapCanvas\"></div>\n</template>\n\n<script>\nimport EventBus from '../eventbus.js';\n\nimport \"leaflet/dist/leaflet.css\";\nimport L from \"leaflet\";\nimport { leafletGeotiff, LeafletGeotiffRenderer } from \"leaflet-geotiff/leaflet-geotiff.js\";\nimport customRenderer from \"../leaflet-geotiff-customrenderer.js\";\nimport \"leaflet.control.layers.tree/L.Control.Layers.Tree.css\";\nimport layerControl from \"leaflet.control.layers.tree\";\nimport \"leaflet-fullscreen/dist/leaflet.fullscreen.css\";\nimport fullscreen from \"leaflet-fullscreen\";\n\nexport default {\n\tname: 'MapViewer',\n\n\tdata() {\n\t\treturn {\n\t\t\toptions: {\n\t\t\t\tfullscreenControl: true,\n\t\t\t\tcenter: [45,15], // [50.1725,9.15]\n\t\t\t\tzoom: 8 // 4\n\t\t\t},\n\t\t\tmap: null,\n\t\t\tbaseLayer: {\n\t\t\t\tosm: null\n\t\t\t},\n\t\t\tlayer: {\n\t\t\t\twms: null,\n\t\t\t\ttiff: null\n\t\t\t},\n\t\t\tlayerControl: null\n\t\t}\n\t},\n\n\tmounted() {\n\t\tthis.createMap();\n\t\tEventBus.$on('viewWebService', this.viewWebService);\n\t},\n\n\tmethods: {\n\t\tcreateMap() {\n\t\t\tthis.map = new L.Map('mapCanvas', this.options);\n\n\t\t\t// Add layer control\n\t\t\tthis.layerControl = L.control.layers.tree({});\n\t\t\tthis.layerControl.addTo(this.map);\n\t\t\tthis.layerControl.expandTree();\n\t\t\tthis.map.on('layeradd', this.updateLayerTree);\n\t\t\tthis.map.on('layerremove', this.updateLayerTree);\n\n\t\t\t// Add base layers\n\t\t\tthis.baseLayer.osm = L.tileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n\t\t\t\tname: 'OpenStreetMap',\n\t\t\t\tattribution: 'Map data &copy; <a href=\"http://www.osm.org\">OpenStreetMap</a>'\n\t\t\t});\n\t\t\tthis.baseLayer.osm.addTo(this.map);\n\t\t},\n\n\t\tupdateLayerTree() {\n\t\t\tvar baseLayer = {\n\t\t\t\tlabel: 'Base Layer',\n\t\t\t\tchildren: [],\n\t\t\t};\n\t\t\tfor(var i in this.baseLayer) {\n\t\t\t\tbaseLayer.children.push({\n\t\t\t\t\tlabel: this.baseLayer[i].options.name,\n\t\t\t\t\tlayer: this.baseLayer[i]\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tvar dataLayer = {\n\t\t\t\tlabel: 'Data Layers',\n\t\t\t\tchildren: [],\n\t\t\t};\n\t\t\tfor(var i in this.layer) {\n\t\t\t\tif (this.layer[i] === null) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tdataLayer.children.push({\n\t\t\t\t\tlabel: this.layer[i].options.name,\n\t\t\t\t\tlayer: this.layer[i]\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tvar tree = [baseLayer];\n\t\t\tif (dataLayer.children.length > 0) {\n\t\t\t\ttree.push(dataLayer);\n\t\t\t}\n\t\t\tthis.layerControl.setBaseTree(tree);\n\t\t},\n\n\t\tviewWebService(service) {\n\t\t\tif (service.service_type.toLowerCase() == 'wms') {\n\t\t\t\tthis.updateWMSLayer(service);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.$utils.error('Sorry, the requested service type is not supported by the map.');\n\t\t\t}\n\t\t},\n\n\t\tremoveOldLayer(except) {\n\t\t\tfor(var i in this.layer) {\n\t\t\t\tif (this.layer[i] !== null && this.layer[i] !== except) {\n\t\t\t\t\tthis.map.removeLayer(this.layer[i]);\n\t\t\t\t\tthis.layer[i] = null;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tupdateTiffLayerBlob(blob) {\n\t\t\tthis.updateTiffLayer(URL.createObjectURL(blob));\n\t\t},\n\n\t\tupdateTiffLayer(url) {\n\t\t\tthis.removeOldLayer(this.layer.tiff);\n\t\t\tif (!this.layer.tiff) {\n\t\t\t\tvar renderer = customRenderer();\n\t\t\t\tvar opts = {\n\t\t\t\t\tname: 'GeoTiff',\n\t\t\t\t\trenderer: renderer\n\t\t\t\t};\n\t\t\t\tthis.layer.tiff = leafletGeotiff(url, opts);\n\t\t\t\tthis.layer.tiff.addTo(this.map);\n\t\t\t\tEventBus.$emit('evalScript', (script) => {\n\t\t\t\t\trenderer.setScript(script);\n\t\t\t\t});\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.layer.tiff.setURL(url);\n\t\t\t}\n\t\t},\n\n\t\tupdateWMSLayer(service) {\n\t\t\tthis.removeOldLayer(this.layer.wms);\n\t\t\tif (!this.layer.wms) {\n\t\t\t\tthis.createWMSLayer(service);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.layer.wms.setUrl(service.service_url, false);\n\t\t\t\tthis.layer.wms.recolor();\n\t\t\t}\n\t\t},\n\n\t\tcreateWMSLayer(service) {\n\t\t\tvar self = this;\n\n\t\t\tthis.layer.wms = L.tileLayer.wms(service.service_url, {\n\t\t\t\tname: 'WMS',\n\t\t\t\trequest: 'GetCoverage',\n\t\t\t\tservice: 'WMS',\n\t\t\t\tcoverage: 'CUSTOM',\n\t\t\t\tformat: 'image/jpeg',\n\t\t\t\ttileSize: 256,\n\t\t\t\tminZoom: 8\n\t\t\t});\n\n\t\t\tthis.layer.wms.recolor = function () {\n\t\t\t\tfor (var key in this._tiles) {\n\t\t\t\t\tvar tile = this._tiles[key];\n\t\t\t\t\tself.recolor(tile.el);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis.layer.wms.createTile = function (coords) {\n\t\t\t\tconst tile = L.DomUtil.create('canvas', 'leaflet-tile');\n\t\t\t\ttile.width = tile.height = this.options.tileSize;\n\n\t\t\t\tconst imageObj = new Image();\n\t\t\t\timageObj.crossOrigin = '';\n\t\t\t\timageObj.onload = function () {\n\t\t\t\t\tconst ctx = tile.getContext('2d');\n\t\t\t\t\tctx.drawImage(imageObj, 0, 0);\n\t\t\t\t\ttile.originalImage = ctx.getImageData(0, 0, tile.width, tile.height);\n\t\t\t\t\tself.recolor(tile);\n\t\t\t\t};\n\t\t\t\timageObj.src = this.getTileUrl(coords);\n\t\t\t\treturn tile;\n\t\t\t};\n\n\t\t\tthis.layer.wms.addTo(this.map);\n\t\t},\n\n\t\trecolor(tile) {\n\t\t\tEventBus.$emit('evalScript', (script) => {\n\t\t\t\tthis.$utils.recolorImage(tile, script);\n\t\t\t});\n\t\t}\n\n\t}\n\n}\n</script>\n\n<style scoped>\n#mapCanvas {\n\theight: 100%;\n}\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/MapViewer.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"mapCanvas\"}})}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-fa102c38\",\"hasScoped\":true,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/MapViewer.vue\n// module id = null\n// module chunks = ","function injectStyle (context) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":false,\\\"minimize\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"id\\\":\\\"data-v-fa102c38\\\",\\\"scoped\\\":true,\\\"sourceMap\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./MapViewer.vue\")\n}\n/* script */\nexport * from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/home/travis/build/Open-EO/openeo-web-editor/node_modules/.cache/cache-loader\\\"}!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MapViewer.vue\"\nimport __vue_script__ from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/home/travis/build/Open-EO/openeo-web-editor/node_modules/.cache/cache-loader\\\"}!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MapViewer.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-fa102c38\\\",\\\"hasScoped\\\":true,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./MapViewer.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-fa102c38\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/MapViewer.vue\n// module id = null\n// module chunks = ","<template>\n    <ul>\n        <li v-for=\"item in items\" :key=\"item\">\n            <a @click=\"doMainAction(item)\">{{ item }}</a>\n            <button v-for=\"action in actions\" :key=\"action.icon\" :title=\"action.title\" @click=\"doAction(action.callback, item)\">\n                <i :class=\"'fas fa-'+action.icon\"></i>\n            </button>\n        </li>\n    </ul>\n</template>\n\n<script>\nexport default {\n    name: 'List',\n    props: ['items', 'actions'],\n    methods: {\n        doAction(callback, item) {\n            const closeAfterCompletion = callback(item);\n            if(closeAfterCompletion === true && this.$parent && this.$parent.$options.name == 'Modal') {\n                this.$parent.close();\n            }\n        },\n        doMainAction(item) {\n            if(this.actions.length > 0) {\n                this.doAction(this.actions[0].callback, item);\n            }\n        }\n    }\n};\n</script>\n\n<style scoped>\n    li {\n        padding-bottom: 0.3em;\n    }\n    li a {\n        margin-right: 5px;\n    }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/List.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',_vm._l((_vm.items),function(item){return _c('li',{key:item},[_c('a',{on:{\"click\":function($event){_vm.doMainAction(item)}}},[_vm._v(_vm._s(item))]),_vm._l((_vm.actions),function(action){return _c('button',{key:action.icon,attrs:{\"title\":action.title},on:{\"click\":function($event){_vm.doAction(action.callback, item)}}},[_c('i',{class:'fas fa-'+action.icon})])})],2)}))}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1c4504b4\",\"hasScoped\":true,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/List.vue\n// module id = null\n// module chunks = ","function injectStyle (context) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":false,\\\"minimize\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1c4504b4\\\",\\\"scoped\\\":true,\\\"sourceMap\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./List.vue\")\n}\n/* script */\nexport * from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/home/travis/build/Open-EO/openeo-web-editor/node_modules/.cache/cache-loader\\\"}!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./List.vue\"\nimport __vue_script__ from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/home/travis/build/Open-EO/openeo-web-editor/node_modules/.cache/cache-loader\\\"}!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./List.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1c4504b4\\\",\\\"hasScoped\\\":true,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./List.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1c4504b4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/List.vue\n// module id = null\n// module chunks = ","<template>\n<div id=\"modal\" class=\"modal\" v-if=\"shown\" @click=\"possiblyClose\">\n\t<div class=\"modal-container\">\n\t\t<h2 class=\"modal-header\">\n\t\t\t{{ title }}\n\t\t\t<span class=\"close\" @click=\"close\">&times;</span>\n\t\t</h2>\n\t\t<div class=\"modal-content\" id=\"modal-content\">\n\t\t\t<template v-if=\"typeof body === 'string'\">{{ body }}</template>\n\t\t\t<component v-else :is=\"compname\" v-bind=\"props\"></component>\n\t\t</div>\n\t</div>\n</div>\n</template>\n\n<script>\nimport EventBus from '../eventbus.js';\nimport ObjectTree from './ObjectTree.vue';\nimport List from './List.vue';\n\nexport default {\n\tname: 'Modal',\n\tcomponents:  {\n\t\tObjectTree,\n\t\tList\n\t},\n\tdata() {\n\t\treturn {\n\t\t\ttitle: '',\n\t\t\tbody: null,\n\t\t\tprops: null,\n\t\t\tcompname: null,\n\t\t\tshown: false\n\t\t};\n\t},\n\tmounted() {\n\t\tEventBus.$on('showModal', this.showModal);\n\t\tEventBus.$on('showComponentModal', this.showComponentModal);\n\t},\n\tmethods: {\n\t\tshow() {\n\t\t\tthis.shown = true;\n\t\t},\n\n\t\tclose() {\n\t\t\tthis.shown = false;\n\t\t},\n\n\t\tpossiblyClose(event) {\n\t\t\tif(event.target == document.getElementById('modal')) {\n\t\t\t\tthis.close();\n\t\t\t}\n\t\t},\n\n\t\tinitCommonModal(title) {\n\t\t\tthis.title = title;\n\t\t},\n\n\t\tinitTextModal(title, body) {\n\t\t\tthis.initCommonModal(title);\n\t\t\tthis.body = body;\n\t\t\tthis.compname = null;\n\t\t\tthis.props = null;\n\t\t},\n\n\t\tinitComponentModal(title, compname, props) {\n\t\t\tthis.initCommonModal(title);\n\t\t\tthis.body = null;\n\t\t\tthis.compname = compname;\n\t\t\tthis.props = props;\n\t\t},\n\n\t\tshowModal(title, data) {\n\t\t\tif (typeof data === 'string') {\n\t\t\t\tthis.initTextModal(title, body);\n\t\t\t\tthis.show();\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.showComponentModal(title, 'ObjectTree', {data: data});\n\t\t\t}\n\t\t},\n\n\t\tshowComponentModal(title, compname, props) {\n\t\t\tthis.initComponentModal(title, compname, props);\n\t\t\tthis.show();\n\t\t}\n\t}\n};\n</script>\n\n<style>\n.modal {\n    position: fixed;\n    z-index: 10000;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    overflow: auto;\n    background-color: rgb(0,0,0);\n    background-color: rgba(0,0,0,0.4);\n}\n\n.modal-header {\n\tbackground-color: #f7f7f7;\n    padding: 20px;\n\tmargin: 0px;\n}\n\n.modal-content {\n    padding: 20px;\n}\n\n.modal-container {\n    background-color: #fefefe;\n    margin: 10% auto;\n    border: 1px solid #888;\n    width: 80%;\n}\n\n.close {\n    color: #aaa;\n    float: right;\n    font-size: 28px;\n    font-weight: bold;\n}\n\n.close:hover, .close:focus {\n    color: black;\n    text-decoration: none;\n    cursor: pointer;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Modal.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.shown)?_c('div',{staticClass:\"modal\",attrs:{\"id\":\"modal\"},on:{\"click\":_vm.possiblyClose}},[_c('div',{staticClass:\"modal-container\"},[_c('h2',{staticClass:\"modal-header\"},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.title)+\"\\n\\t\\t\\t\"),_c('span',{staticClass:\"close\",on:{\"click\":_vm.close}},[_vm._v(\"\")])]),_c('div',{staticClass:\"modal-content\",attrs:{\"id\":\"modal-content\"}},[(typeof _vm.body === 'string')?[_vm._v(_vm._s(_vm.body))]:_c(_vm.compname,_vm._b({tag:\"component\"},'component',_vm.props,false))],2)])]):_vm._e()}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-47d3561c\",\"hasScoped\":false,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Modal.vue\n// module id = null\n// module chunks = ","function injectStyle (context) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":false,\\\"minimize\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"scoped\\\":false,\\\"sourceMap\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Modal.vue\")\n}\n/* script */\nexport * from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/home/travis/build/Open-EO/openeo-web-editor/node_modules/.cache/cache-loader\\\"}!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Modal.vue\"\nimport __vue_script__ from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/home/travis/build/Open-EO/openeo-web-editor/node_modules/.cache/cache-loader\\\"}!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Modal.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-47d3561c\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Modal.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Modal.vue\n// module id = null\n// module chunks = ","<template>\n\t<DataTable ref=\"table\" :dataSource=\"dataSource\" :columns=\"columns\" id=\"ProcessGraphPanel\">\n\t\t<template slot=\"toolbar\" slot-scope=\"p\">\n\t\t\t<button title=\"Add new process graph\" @click=\"addGraph\" v-show=\"openEO.Capabilities.createUserProcessGraph()\"><i class=\"fas fa-plus\"></i> Add</button>\n\t\t\t<button title=\"Refresh process graphs\" @click=\"updateData()\"><i class=\"fas fa-sync-alt\"></i></button> <!-- ToDo: Should be done automatically later -->\n\t\t</template>\n\t\t<template slot=\"actions\" slot-scope=\"p\">\n\t\t\t<button title=\"Details\" @click=\"graphInfo(p.row[p.col.id])\" v-show=\"openEO.Capabilities.userProcessGraphInfo()\"><i class=\"fas fa-info\"></i></button>\n\t\t\t<button title=\"Edit\" @click=\"editGraph(p.row[p.col.id])\" v-show=\"openEO.Capabilities.updateUserProcessGraph()\"><i class=\"fas fa-edit\"></i></button>\n\t\t\t<button title=\"Delete\" @click=\"deleteGraph(p.row[p.col.id])\" v-show=\"openEO.Capabilities.deleteUserProcessGraph()\"><i class=\"fas fa-trash\"></i></button>\n\t\t</template>\n\t</DataTable>\n</template>\n\n<script>\nimport EventBus from '../eventbus.js';\nimport DataTable from './DataTable.vue';\n\nexport default {\n\tname: 'ProcessGraphPanel',\n\tprops: ['openEO','userId'],\n\tcomponents: {\n\t\tDataTable\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tcolumns: {\n\t\t\t\t$: {\n\t\t\t\t\tname: 'ID',\n\t\t\t\t\tprimaryKey: true\n\t\t\t\t},\n\t\t\t\tactions: {\n\t\t\t\t\tname: 'Actions',\n\t\t\t\t\tid: '$',\n\t\t\t\t\tfilterable: false\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t},\n\tcreated() {\n\t\tEventBus.$on('serverChanged', this.updateData);\n\t},\n\twatch: { \n\t\tuserId(newVal, oldVal) {\n\t\t\tif (newVal !== null) {\n\t\t\t\tthis.updateData();\n\t\t\t}\n\t\t}\n\t},\n\tmethods: {\n\t\tdataSource() {\n\t\t\tlet users = this.openEO.Users.getObject(this.userId);\n\t\t\treturn users.getProcessGraphs();\n\t\t},\n\t\tupdateData() {\n\t\t\tif (!this.$refs.table || !this.openEO.Capabilities.userProcessGraphs()) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\telse if (typeof this.userId !== 'string' && typeof this.userId !== 'number') {\n\t\t\t\tthis.$refs.table.setNoData(401);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.$refs.table.retrieveData();\n\t\t\t}\n\t\t},\n\t\taddGraph() {\n\t\t\tEventBus.$emit('evalScript', (script) => {\n\t\t\t\tvar userApi = this.openEO.Users.getObject(this.userId);\n\t\t\t\tuserApi.createProcessGraph(script.ProcessGraph);\n\t\t\t});\n\t\t},\n\t\tgraphInfo(id) {\n\t\t\ttry {\n\t\t\t\tvar pgApi = this.openEO.Users.getObject(this.userId).getProcessGraphObject(id);\n\t\t\t\tpgApi.get();\n\t\t\t} catch(e) {\n\t\t\t\tthis.$utils.error(this, e.message);\n\t\t\t}\n\t\t},\n\t\teditGraph(id) {\n\t\t\tEventBus.$emit('evalScript', (script) => {\n\t\t\t\tvar pgApi = this.openEO.Users.getObject(this.userId).getProcessGraphObject(id);\n\t\t\t\tpgApi.replace(script.ProcessGraph);\n\t\t\t});\n\t\t},\n\t\tdeleteGraph(id) {\n\t\t\ttry {\n\t\t\t\tvar pgApi = this.openEO.Users.getObject(this.userId).getProcessGraphObject(id);\n\t\t\t\tpgApi.delete()\n\t\t\t\t\t.then(data => {\n\t\t\t\t\t\tthis.$refs.table.removeData(id);\n\t\t\t\t\t})\n\t\t\t\t\t.catch(error => {\n\t\t\t\t\t\tthis.$utils.error(this, 'Sorry, could not delete process graph.');\n\t\t\t\t\t});\n\t\t\t} catch(e) {\n\t\t\t\tthis.$utils.error(this, e.message);\n\t\t\t}\n\t\t}\n\t}\n}\n</script>\n\n<style>\n#ProcessGraphPanel th {\n\twidth: 50%;\n}\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/ProcessGraphPanel.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('DataTable',{ref:\"table\",attrs:{\"dataSource\":_vm.dataSource,\"columns\":_vm.columns,\"id\":\"ProcessGraphPanel\"},scopedSlots:_vm._u([{key:\"toolbar\",fn:function(p){return [_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.openEO.Capabilities.createUserProcessGraph()),expression:\"openEO.Capabilities.createUserProcessGraph()\"}],attrs:{\"title\":\"Add new process graph\"},on:{\"click\":_vm.addGraph}},[_c('i',{staticClass:\"fas fa-plus\"}),_vm._v(\" Add\")]),_c('button',{attrs:{\"title\":\"Refresh process graphs\"},on:{\"click\":function($event){_vm.updateData()}}},[_c('i',{staticClass:\"fas fa-sync-alt\"})])]}},{key:\"actions\",fn:function(p){return [_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.openEO.Capabilities.userProcessGraphInfo()),expression:\"openEO.Capabilities.userProcessGraphInfo()\"}],attrs:{\"title\":\"Details\"},on:{\"click\":function($event){_vm.graphInfo(p.row[p.col.id])}}},[_c('i',{staticClass:\"fas fa-info\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.openEO.Capabilities.updateUserProcessGraph()),expression:\"openEO.Capabilities.updateUserProcessGraph()\"}],attrs:{\"title\":\"Edit\"},on:{\"click\":function($event){_vm.editGraph(p.row[p.col.id])}}},[_c('i',{staticClass:\"fas fa-edit\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.openEO.Capabilities.deleteUserProcessGraph()),expression:\"openEO.Capabilities.deleteUserProcessGraph()\"}],attrs:{\"title\":\"Delete\"},on:{\"click\":function($event){_vm.deleteGraph(p.row[p.col.id])}}},[_c('i',{staticClass:\"fas fa-trash\"})])]}}])})}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5823f22f\",\"hasScoped\":false,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ProcessGraphPanel.vue\n// module id = null\n// module chunks = ","function injectStyle (context) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":false,\\\"minimize\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"scoped\\\":false,\\\"sourceMap\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ProcessGraphPanel.vue\")\n}\n/* script */\nexport * from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/home/travis/build/Open-EO/openeo-web-editor/node_modules/.cache/cache-loader\\\"}!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ProcessGraphPanel.vue\"\nimport __vue_script__ from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/home/travis/build/Open-EO/openeo-web-editor/node_modules/.cache/cache-loader\\\"}!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ProcessGraphPanel.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5823f22f\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ProcessGraphPanel.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ProcessGraphPanel.vue\n// module id = null\n// module chunks = ","<template>\n\t<DataTable ref=\"table\" :dataSource=\"dataSource\" :columns=\"columns\" id=\"ServicePanel\">\n\t\t<template slot=\"toolbar\" slot-scope=\"p\">\n\t\t\t<button title=\"Refresh services\" @click=\"updateData()\"><i class=\"fas fa-sync-alt\"></i></button> <!-- ToDo: Should be done automatically later -->\n\t\t</template>\n\t\t<template slot=\"actions\" slot-scope=\"p\">\n\t\t\t<button title=\"View on map\" @click=\"viewService(p.row)\"><i class=\"fas fa-map\"></i></button>\n\t\t\t<button title=\"Details\" @click=\"serviceInfo(p.row[p.col.id])\" v-show=\"openEO.Capabilities.serviceInfo()\"><i class=\"fas fa-info\"></i></button>\n\t\t\t<button title=\"Edit\" @click=\"editService(p.row[p.col.id])\" v-show=\"openEO.Capabilities.updateService()\"><i class=\"fas fa-edit\"></i></button>\n\t\t\t<button title=\"Delete\" @click=\"deleteService(p.row[p.col.id])\" v-show=\"openEO.Capabilities.deleteService()\"><i class=\"fas fa-trash\"></i></button>\n\t\t</template>\n\t</DataTable>\n</template>\n\n<script>\nimport EventBus from '../eventbus.js';\nimport DataTable from './DataTable.vue';\n\nexport default {\n\tname: 'ServicePanel',\n\tprops: ['openEO','userId'],\n\tcomponents: {\n\t\tDataTable\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tcolumns: {\n\t\t\t\tservice_id: {\n\t\t\t\t\tname: 'ID',\n\t\t\t\t\tprimaryKey: true\n\t\t\t\t},\n\t\t\t\tservice_type: {\n\t\t\t\t\tname: 'Type'\n\t\t\t\t},\n\t\t\t\tjob_id: {\n\t\t\t\t\tname: 'Job'\n\t\t\t\t},\n\t\t\t\tactions: {\n\t\t\t\t\tname: 'Actions',\n\t\t\t\t\tfilterable: false,\n\t\t\t\t\tid: 'service_id'\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t},\n\tcreated() {\n\t\tEventBus.$on('serverChanged', this.updateData);\n\t\tEventBus.$on('serviceCreated', this.serviceCreated);\n\t},\n\twatch: { \n\t\tuserId(newVal, oldVal) {\n\t\t\tif (newVal !== null) {\n\t\t\t\tthis.updateData();\n\t\t\t}\n\t\t}\n\t},\n\tmethods: {\n\t\tdataSource() {\n\t\t\tlet users = this.openEO.Users.getObject(this.userId);\n\t\t\treturn users.getServices();\n\t\t},\n\t\tupdateData() {\n\t\t\tif (!this.$refs.table || !this.openEO.Capabilities.createService()) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\telse if (typeof this.userId !== 'string' && typeof this.userId !== 'number') {\n\t\t\t\tthis.$refs.table.setNoData(401);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.$refs.table.retrieveData();\n\t\t\t}\n\t\t},\n\t\tserviceCreated(data) {\n\t\t\tthis.$refs.table.addData(data);\n\n\t\t\tvar options = {\n\t\t\t\ttimeout: 10000,\n\t\t\t\tbuttons: []\n\t\t\t};\n\t\t\toptions.buttons.push({text: 'View', action: () => this.viewService(data)});\n\t\t\tif (this.openEO.Capabilities.serviceInfo()) {\n\t\t\t\toptions.buttons.push({text: 'Details', action: () => this.serviceInfo(data.job_id)});\n\t\t\t}\n\t\t\tif (this.openEO.Capabilities.updateService()) {\n\t\t\t\toptions.buttons.push({text: 'Edit', action: () => this.editService(data.job_id)});\n\t\t\t}\n\t\t\tif (this.openEO.Capabilities.deleteService()) {\n\t\t\t\toptions.buttons.push({text: 'Delete', action: () => this.deleteService(data.job_id)});\n\t\t\t}\n\t\t\tthis.$snotify.confirm('Service created!', null, options);\n\t\t},\n\t\tserviceInfo(id) {\n\t\t\ttry {\n\t\t\t\tvar serviceApi = this.openEO.Services.getObject(id);\n\t\t\t\tserviceApi.get().then(data => {\n\t\t\t\t\tthis.$utils.error(this, 'Not implemented');\n\t\t\t\t}).catch(error => {\n\t\t\t\t\tthis.$utils.error(this, 'Not implemented');\n\t\t\t\t});\n\t\t\t} catch (e) {\n\t\t\t\tthis.$utils.error(this, e.message);\n\t\t\t}\n\t\t},\n\t\teditService(id) {\n\t\t\t// ToDo: Request what user wants to change\n\t\t\ttry {\n\t\t\t\tvar serviceApi = this.openEO.Services.getObject(id);\n\t\t\t\tserviceApi.modify(null, null, {}).then(data => {\n\t\t\t\t\tthis.$utils.error(this, 'Not implemented');\n\t\t\t\t}).catch(error => {\n\t\t\t\t\tthis.$utils.error(this, 'Not implemented');\n\t\t\t\t});\n\t\t\t} catch (e) {\n\t\t\t\tthis.$utils.error(this, e.message);\n\t\t\t}\n\t\t},\n\t\tdeleteService(id) {\n\t\t\ttry {\n\t\t\t\tvar serviceApi = this.openEO.Services.getObject(id);\n\t\t\t\tserviceApi.delete()\n\t\t\t\t\t.then(data => {\n\t\t\t\t\t\tthis.$refs.table.removeData(id);\n\t\t\t\t\t})\n\t\t\t\t\t.catch(error => {\n\t\t\t\t\t\tthis.$utils.error(this, 'Sorry, could not delete service.');\n\t\t\t\t\t});\n\t\t\t} catch (e) {\n\t\t\t\tthis.$utils.error(this, e.message);\n\t\t\t}\n\t\t},\n\t\tviewService(service) {\n\t\t\tthis.$utils.info(this, 'Requesting tiles from server. Please wait...');\n\t\t\tEventBus.$emit('viewWebService', service);\n\t\t\tEventBus.$emit('showMapViewer');\n\t\t}\n\t}\n}\n</script>\n\n<style>\n#ServicePanel .service_id {\n\twidth: 35%;\n}\n#ServicePanel .service_type {\n\twidth: 10%;\n}\n#ServicePanel .job_id {\n\twidth: 35%;\n}\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/ServicePanel.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('DataTable',{ref:\"table\",attrs:{\"dataSource\":_vm.dataSource,\"columns\":_vm.columns,\"id\":\"ServicePanel\"},scopedSlots:_vm._u([{key:\"toolbar\",fn:function(p){return [_c('button',{attrs:{\"title\":\"Refresh services\"},on:{\"click\":function($event){_vm.updateData()}}},[_c('i',{staticClass:\"fas fa-sync-alt\"})])]}},{key:\"actions\",fn:function(p){return [_c('button',{attrs:{\"title\":\"View on map\"},on:{\"click\":function($event){_vm.viewService(p.row)}}},[_c('i',{staticClass:\"fas fa-map\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.openEO.Capabilities.serviceInfo()),expression:\"openEO.Capabilities.serviceInfo()\"}],attrs:{\"title\":\"Details\"},on:{\"click\":function($event){_vm.serviceInfo(p.row[p.col.id])}}},[_c('i',{staticClass:\"fas fa-info\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.openEO.Capabilities.updateService()),expression:\"openEO.Capabilities.updateService()\"}],attrs:{\"title\":\"Edit\"},on:{\"click\":function($event){_vm.editService(p.row[p.col.id])}}},[_c('i',{staticClass:\"fas fa-edit\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.openEO.Capabilities.deleteService()),expression:\"openEO.Capabilities.deleteService()\"}],attrs:{\"title\":\"Delete\"},on:{\"click\":function($event){_vm.deleteService(p.row[p.col.id])}}},[_c('i',{staticClass:\"fas fa-trash\"})])]}}])})}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-79cc0c7c\",\"hasScoped\":false,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ServicePanel.vue\n// module id = null\n// module chunks = ","function injectStyle (context) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":false,\\\"minimize\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"scoped\\\":false,\\\"sourceMap\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ServicePanel.vue\")\n}\n/* script */\nexport * from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/home/travis/build/Open-EO/openeo-web-editor/node_modules/.cache/cache-loader\\\"}!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ServicePanel.vue\"\nimport __vue_script__ from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/home/travis/build/Open-EO/openeo-web-editor/node_modules/.cache/cache-loader\\\"}!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ServicePanel.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-79cc0c7c\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ServicePanel.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ServicePanel.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"SourceEnvironment\"}},[_c('div',{staticClass:\"sourceHeader\"},[_c('h3',[_vm._v(\"Script: \"),_c('em',{attrs:{\"id\":\"scriptName\"}},[_vm._v(_vm._s(_vm.scriptName))])]),_c('div',{staticClass:\"sourceToolbar\"},[(_vm.openEO.Capabilities.executeJob())?_c('button',{staticClass:\"executeScript\",attrs:{\"title\":\"Run current script and view results\"},on:{\"click\":_vm.executeScript}},[_c('i',{staticClass:\"fas fa-play\"})]):_vm._e(),_c('button',{attrs:{\"title\":\"Clear current script / New script\"},on:{\"click\":_vm.newScript}},[_c('i',{staticClass:\"fas fa-file\"})]),_c('button',{attrs:{\"title\":\"Load script from local storage\"},on:{\"click\":_vm.loadScript}},[_c('i',{staticClass:\"fas fa-folder-open\"})]),_c('button',{attrs:{\"title\":\"Save script to local storage\"},on:{\"click\":_vm.saveScript}},[_c('i',{staticClass:\"fas fa-save\"})]),_c('button',{attrs:{\"title\":\"Download script\"},on:{\"click\":_vm.downloadScript}},[_c('i',{staticClass:\"fas fa-download\"})])])]),_c('div',{attrs:{\"id\":\"sourceCodeEditor\"}})])}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-cffb4698\",\"hasScoped\":true,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/SourceEnvironment.vue\n// module id = null\n// module chunks = ","function injectStyle (context) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":false,\\\"minimize\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"id\\\":\\\"data-v-cffb4698\\\",\\\"scoped\\\":true,\\\"sourceMap\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./SourceEnvironment.vue\")\n}\n/* script */\nexport * from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/home/travis/build/Open-EO/openeo-web-editor/node_modules/.cache/cache-loader\\\"}!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./SourceEnvironment.vue\"\nimport __vue_script__ from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/home/travis/build/Open-EO/openeo-web-editor/node_modules/.cache/cache-loader\\\"}!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./SourceEnvironment.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-cffb4698\\\",\\\"hasScoped\\\":true,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./SourceEnvironment.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-cffb4698\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/SourceEnvironment.vue\n// module id = null\n// module chunks = ","var Visualizations = {\n\t\n\t/**\n\t * Color gradient/ramp.\n\t * \n\t * Parameters: band, valMin, valMax, clrMin, clrMax. Examples:\t\n\t * band: 0,\n\t * valMin: 0,\n\t * valMax: 255,\n\t * clrMin: [240, 220, 150, 255],\n\t * clrMax: [ 10,  70, 230, 255]\n\t * \n\t * @param {type} input\n\t * @param {type} o\n\t * @returns {unresolved}\n\t */\n\t\n\trampColors: {\n\t\tname: \"Color ramp\",\n\t\tcallback: function(input, o) {\n\t\t\tif (input[o.band] < o.valMin || input[o.band] > o.valMax) {\n\t\t\t\treturn [0,0,0,0];\n\t\t\t}\n\t\t\tif (typeof o.clrMin === 'string') {\n\t\t\t\to.clrMin = o.clrMin.split(',');\n\t\t\t}\n\t\t\tif (typeof o.clrMax === 'string') {\n\t\t\t\to.clrMax = o.clrMax.split(',');\n\t\t\t}\n\t\t\tconst m = (input[o.band] - o.valMin) / (o.valMax - o.valMin);\n\t\t\treturn o.clrMin.map((elMin, i) => m * o.clrMax[i] + (1 - m) * elMin);\n\t\t},\n\t\targuments: {\n\t\t\tband: {\n\t\t\t\tdescription: 'The band to use',\n\t\t\t\tdefaultValue: 0\n\t\t\t},\n\t\t\tvalMin: {\n\t\t\t\tdescription: 'Minimum value of the band',\n\t\t\t\tdefaultValue: 0\n\t\t\t},\n\t\t\tvalMax: {\n\t\t\t\tdescription: 'Maximum value of the band',\n\t\t\t\tdefaultValue: 255\n\t\t\t},\n\t\t\tclrMin: {\n\t\t\t\tdescription: 'Color for the minimum value',\n\t\t\t\tdefaultValue: [240, 220, 150, 255]\n\t\t\t},\n\t\t\tclrMax: {\n\t\t\t\tdescription: 'Color for the maximum value',\n\t\t\t\tdefaultValue: [ 10,  70, 230, 255]\n\t\t\t}\n\t\t}\n\t},\n\n\tinvertColors: {\n\t\tname: 'Invert colors',\n\t\tcallback: function(input, o) {\n\t\t\tinput[0] = 255 - input[0];\n\t\t\tinput[1] = 255 - input[1];\n\t\t\tinput[2] = 255 - input[2];\n\t\t\tinput[3] = input[3];\n\t\t\treturn input;\n\t\t},\n\t\targuments: {}\n\t}\n\n};\n\nexport default Visualizations;\n\n\n// WEBPACK FOOTER //\n// ./src/visualizations.js","<template>\n\t<div id=\"container\">\n\t\t<div id=\"ide\">\n\t\t\t<BackendPanel :openEO=\"openEO\" />\n\t\t\t<SourceEnvironment :openEO=\"openEO\" />\n\t\t\t<div class=\"tabs\" id=\"userContent\">\n\t\t\t\t<div class=\"tabsHeader\">\n\t\t\t\t\t<button class=\"tabItem\" name=\"jobsTab\" @click=\"changeUserTab\"><i class=\"fas fa-tasks\"></i> Jobs</button>\n\t\t\t\t\t<button class=\"tabItem\" name=\"servicesTab\" @click=\"changeUserTab\" v-show=\"this.openEO.Capabilities.createService()\"><i class=\"fas fa-cloud\"></i> Services</button>\n\t\t\t\t\t<button class=\"tabItem\" name=\"processGraphsTab\" @click=\"changeUserTab\" v-show=\"this.openEO.Capabilities.userProcessGraphs()\"><i class=\"fas fa-code-branch\"></i> Process Graphs</button>\n\t\t\t\t\t<button class=\"tabItem\" name=\"filesTab\" @click=\"changeUserTab\" v-show=\"this.openEO.Capabilities.userFiles()\"><i class=\"fas fa-file\"></i> Files</button>\n\t\t\t\t\t<button class=\"tabItem\" name=\"accountTab\" @click=\"changeUserTab\"><i class=\"fas fa-user\"></i> Account</button>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"tabsBody\">\n\t\t\t\t\t<div class=\"tabContent\" id=\"jobsTab\">\n\t\t\t\t\t\t<JobPanel :userId=\"openEO.Auth.userId\" :openEO=\"openEO\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"tabContent\" id=\"servicesTab\" v-show=\"this.openEO.Capabilities.createService()\">\n\t\t\t\t\t\t<ServicePanel ref=\"servicePanel\" :userId=\"openEO.Auth.userId\" :openEO=\"openEO\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"tabContent\" id=\"processGraphsTab\" v-show=\"this.openEO.Capabilities.userProcessGraphs()\">\n\t\t\t\t\t\t<ProcessGraphPanel :userId=\"openEO.Auth.userId\" :openEO=\"openEO\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"tabContent\" id=\"filesTab\" v-show=\"this.openEO.Capabilities.userFiles()\">\n\t\t\t\t\t\t<FilePanel :userId=\"openEO.Auth.userId\" :openEO=\"openEO\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"tabContent\" id=\"accountTab\">\n\t\t\t\t\t\t<AccountPanel :userId=\"openEO.Auth.userId\" :openEO=\"openEO\" />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<footer>\n\t\t\t\t<a href=\"http://www.openeo.org\" target=\"_blank\"><img src=\"./assets/logo.png\" id=\"openeoLogo\" /></a>\n\t\t\t</footer>\n\t\t</div>\n\t\t<div id=\"viewer\">\n\t\t\t<div class=\"tabs\">\n\t\t\t\t<div class=\"tabsHeader\">\n\t\t\t\t\t<button class=\"tabItem tabActive\" name=\"mapTab\" @click=\"changeViewerTab\"><i class=\"fas fa-map\"></i> Map</button>\n\t\t\t\t\t<button class=\"tabItem\" name=\"imageTab\" @click=\"changeViewerTab\"><i class=\"fas fa-image\"></i> Images</button>\n\t\t\t\t\t<button class=\"tabItem\" name=\"dataTab\" @click=\"changeViewerTab\"><i class=\"fas fa-database\"></i> Data</button>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"tabsBody\">\n\t\t\t\t\t<div class=\"tabContent tabActive\" id=\"mapTab\">\n\t\t\t\t\t\t<MapViewer ref=\"mapViewer\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"tabContent\" id=\"imageTab\">\n\t\t\t\t\t\t<ImageViewer ref=\"imageViewer\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"tabContent\" id=\"dataTab\">\n\t\t\t\t\t\t<DataViewer ref=\"dataViewer\" />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<vue-snotify />\n\t\t<Modal />\n\t</div>\n</template>\n\n<script>\nimport EventBus from './eventbus.js';\nimport AccountPanel from './components/AccountPanel.vue';\nimport BackendPanel from './components/BackendPanel.vue';\nimport DataViewer from './components/DataViewer.vue';\nimport FilePanel from './components/FilePanel.vue';\nimport ImageViewer from './components/ImageViewer.vue';\nimport JobPanel from './components/JobPanel.vue';\nimport MapViewer from './components/MapViewer.vue';\nimport Modal from './components/Modal.vue';\nimport ProcessGraphPanel from './components/ProcessGraphPanel.vue';\nimport ServicePanel from './components/ServicePanel.vue';\nimport SourceEnvironment from './components/SourceEnvironment.vue';\nimport axios from 'axios';\nimport { OpenEO, Capabilities } from 'openeo-js-client/openeo.js';\nimport OpenEOVisualizations from './visualizations.js';\n\n// Making axios available globally for the OpenEO JS client\nwindow.axios = axios;\n\nOpenEO.Visualizations = OpenEOVisualizations;\nOpenEO.Capabilities = new Capabilities();\nOpenEO.SupportedOutputFormats = {};\nOpenEO.SupportedServices = [];\n\nexport default {\n\tname: 'openeo-web-editor',\n\tcomponents: {\n\t\tAccountPanel,\n\t\tBackendPanel,\n\t\tDataViewer,\n\t\tImageViewer,\n\t\tFilePanel,\n\t\tJobPanel,\n\t\tMapViewer,\n\t\tModal,\n\t\tProcessGraphPanel,\n\t\tServicePanel,\n\t\tSourceEnvironment\n\t},\n\tdata() {\n\t\treturn {\n\t\t\topenEO: OpenEO\n\t\t};\n\t},\n\tcreated() {\n\t\tEventBus.$on('changeServerUrl', this.changeServer);\n\t\tEventBus.$on('serverChanged', this.serverChanged);\n\t},\n\tmounted() {\n\t\tEventBus.$emit('changeServerUrl', this.$config.serverUrl);\n\n\t\tEventBus.$on('showInViewer', this.showInViewer);\n\t\tEventBus.$on('showMapViewer', this.showMapViewer);\n\t\tEventBus.$on('showImageViewer', this.showImageViewer);\n\t\tEventBus.$on('showDataViewer', this.showDataViewer);\n\t},\n\tmethods: {\n\n\t\tchangeServer(url) {\n\t\t\tthis.openEO.Capabilities = new Capabilities();\n\t\t\tthis.openEO.SupportedOutputFormats = {};\n\t\t\tthis.openEO.SupportedServices = [];\n\n\t\t\t// Update server url\n\t\t\tthis.openEO.API.baseUrl = url;\n\t\t\t// Invalidate old user id\n\t\t\tthis.openEO.Auth.userId = null;\n\t\t\t// ToDo: Remove the driver switch after proof-of-concept\n\t\t\tif (url.indexOf('/api') !== -1) {\n\t\t\t\tthis.openEO.API.driver = 'openeo-r-backend';\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.openEO.API.driver = 'other';\n\t\t\t}\n\t\t\t// Request authentication\n\t\t\t// ToDo: Problem: Auth is fired to late, BackendPanel updates earlier...\n\t\t\tthis.requestCapabilities();\n\t\t},\n\n\t\tserverChanged() {\n\t\t\tthis.resetActiveTab('userContent');\n\t\t},\n\n\t\trequestCapabilities() {\n\t\t\tthis.openEO.API.getCapabilities().then(info => {\n\t\t\t\tthis.openEO.Capabilities = info;\n\t\t\t\tthis.requestSupportedOutputFormats();\n\t\t\t\tthis.requestSupportedServices();\n\t\t\t\tthis.requestAuth();\n\t\t\t});\n\t\t},\n\n\t\trequestSupportedOutputFormats() {\n\t\t\tif (this.openEO.Capabilities.outputFormatCapabilities()) {\n\t\t\t\tthis.openEO.API.getOutputFormats().then(info => {\n\t\t\t\t\tthis.openEO.SupportedOutputFormats = info;\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\trequestSupportedServices() {\n\t\t\tif (this.openEO.Capabilities.serviceCapabilities()) {\n\t\t\t\tthis.openEO.Services.getCapabilities().then(info => {\n\t\t\t\t\tthis.openEO.SupportedServices = info;\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\trequestAuth() {\n\t\t\t// ToDo: Request credentials from user and authenticate him\n\t\t\tvar credentials = [];\n\t\t\tif (this.openEO.API.driver == 'openeo-r-backend') {\n\t\t\t\tcredentials = ['test', 'test'];\n\t\t\t}\n\t\t\tif (credentials.length === 2) {\n\t\t\t\tthis.openEO.Auth.login(credentials[0], credentials[1])\n\t\t\t\t\t.then(data => {\n\t\t\t\t\t\tthis.openEO.Auth.userId = data.user_id;\n\t\t\t\t\t\tEventBus.$emit('serverChanged');\n\t\t\t\t\t})\n\t\t\t\t\t.catch(error => {\n\t\t\t\t\t\tEventBus.$emit('serverChanged');\n\t\t\t\t\t});\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// ToDO: We assume we are authenticated, but this should be removed after POC.\n\t\t\t\tthis.openEO.Auth.userId = 'me';\n\t\t\t\tEventBus.$emit('serverChanged');\n\t\t\t}\n\t\t},\n\n\t\tresetActiveTab(container) {\n\t\t\tvar tab = document.getElementById(container).getElementsByClassName(\"tabItem\")[0];\n\t\t\tthis.showTab(container, tab.name);\n\t\t},\n\n\t\tsetTabActive(elem) {\n\t\t\tif (!elem.className || elem.className.indexOf(' tabActive') === -1) {\n\t\t\t\telem.className += \" tabActive\";\n\t\t\t}\n\t\t},\n\t\n\t\tchangeUserTab(evt) {\n\t\t\tthis.changeTab('userContent', evt);\n\t\t},\n\n\t\tchangeViewerTab(evt) {\n\t\t\tthis.changeTab('viewer', evt);\n\t\t},\n\n\t\tchangeTab(container, evt) {\n\t\t\tthis.showTab(container, evt.currentTarget.name);\n\t\t},\n\n\t\tshowTab(container, tabName) {\n\t\t\tvar containerNode = document.getElementById(container);\n\t\t\tvar x = containerNode.getElementsByClassName(\"tabContent\");\n\t\t\tfor (var i = 0; i < x.length; i++) {\n\t\t\t\tx[i].className = x[i].className.replace(\" tabActive\", \"\");\n\t\t\t\tif (x[i].id == tabName) {\n\t\t\t\t\tthis.setTabActive(x[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar tablinks = containerNode.getElementsByClassName(\"tabItem\");\n\t\t\tfor (var i = 0; i < tablinks.length; i++) {\n\t\t\t\ttablinks[i].className = tablinks[i].className.replace(\" tabActive\", \"\");\n\t\t\t\tif (tablinks[i].name == tabName) {\n\t\t\t\t\tthis.setTabActive(tablinks[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tshowMapViewer() {\n\t\t\tthis.showTab('viewer', 'mapTab');\n\t\t},\n\n\t\tshowImageViewer() {\n\t\t\tthis.showTab('viewer', 'imageTab');\n\t\t},\n\n\t\tshowDataViewer() {\n\t\t\tthis.showTab('viewer', 'dataTab');\n\t\t},\n\n\t\tshowInViewer(blob, script = null, originalOutputFormat = null) {\n\t\t\tif (!(blob instanceof Blob)) {\n\t\t\t\tthrow 'No blob specified.';\n\t\t\t}\n\t\t\tvar mimeType = blob.type;\n\t\t\t// Try to detect invalid mime types\n\t\t\tif (!mimeType || mimeType.indexOf('/') === -1 || mimeType.indexOf('*') !== -1) {\n\t\t\t\tmimeType = this.getMimeTypeForOutputFormat(originalOutputFormat);\n\t\t\t}\n\t\t\tswitch(mimeType.toLowerCase()) {\n\t\t\t\tcase 'image/png':\n\t\t\t\tcase 'image/jpg':\n\t\t\t\tcase 'image/jpeg':\n\t\t\t\tcase 'image/gif':\n\t\t\t\t\tif (script) {\n\t\t\t\t\t\tthis.$refs.imageViewer.setScript(script);\n\t\t\t\t\t}\n\t\t\t\t\tthis.$refs.imageViewer.showImageBlob(blob);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'application/json':\n\t\t\t\t\t// ToDo: For now we support both direct downloading and download URLs (only one for now).\n\t\t\t\t\t// Implementation is not very nice and needs improvement, but it's a prototype...\n\t\t\t\t\tthis.$refs.dataViewer.blobToText(blob, (event) => {\n\t\t\t\t\t\tvar json = JSON.parse(event.target.result);\n\t\t\t\t\t\tif (Array.isArray(json) && json.length == 1 && typeof json[0] === 'string' && json[0].indexOf('://') !== -1) {\n\t\t\t\t\t\t\t// Download file\n\t\t\t\t\t\t\tthis.openEO.HTTP.download(json[0]).then(blob => {\n\t\t\t\t\t\t\t\tthis.$refs.dataViewer.showBlob(blob);\n\t\t\t\t\t\t\t}).catch(e => {\n\t\t\t\t\t\t\t\tthis.$utils.error(e);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t// Show json\n\t\t\t\t\t\t\tthis.$refs.dataViewer.showJson(json);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'text/plain':\n\t\t\t\t\tthis.$refs.dataViewer.showBlob(blob);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'image/tif':\n\t\t\t\tcase 'image/tiff':\n\t\t\t\t\t// ToDo: This should only execute when it's a GTiff, but for POC let every tiff pass\n//\t\t\t\t\tif (originalOutputFormat.format.toLowerCase() == 'gtiff') {\n\t\t\t\t\t\tthis.$refs.mapViewer.updateTiffLayerBlob(blob);\n\t\t\t\t\t\tbreak;\n//\t\t\t\t\t}\n\t\t\t\tdefault:\n\t\t\t\t\tthis.$utils.error(this, \"Sorry, the returned content type is not supported to view.\");\n\t\t\t}\n\t\t},\n\n\t\tgetMimeTypeForOutputFormat(originalOutputFormat) {\n\t\t\tif (!originalOutputFormat.format) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tvar type = originalOutputFormat.format.toLowerCase();\n\t\t\tswitch(type) {\n\t\t\t\tcase 'png':\n\t\t\t\tcase 'jpeg':\n\t\t\t\tcase 'jpg':\n\t\t\t\tcase 'gif':\n\t\t\t\t\treturn 'image/' + type;\n\t\t\t\tcase 'tif':\n\t\t\t\tcase 'tiff':\n\t\t\t\tcase 'gtiff':\n\t\t\t\t\treturn 'image/tiff';\n\t\t\t\tcase 'json':\n\t\t\t\t\treturn 'application/json';\n\t\t\t\tdefault:\n\t\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\n\t}\n}\n</script>\n\n<style>\nhtml, body, #app, #container, #ide, #viewer {\n\theight: 100%;\n}\nbody {\n\tmargin: 0;\n\toverflow: hidden;\n\tfont-family: sans-serif;\n\tfont-size: 90%;\n}\na {\n\tcolor: #2F649A;\n\ttext-decoration: none;\n\tcursor: pointer;\n}\na:hover {\n\tcolor: black;\n}\nbutton {\n\tmargin: 1px;\n}\nul, ol {\n\tmargin-bottom: 0;\n\tmargin-top: 0;\n\tpadding-bottom: 0;\n\tpadding-top: 0;\n}\n#viewer {\n\tposition: absolute;\n\ttop: 0px;\n\tleft: 50%;\n\twidth: 50%;\n}\n#ide {\n\tposition: absolute;\n\ttop: 0px;\n\tleft: 0px;\n\twidth: 50%;\n\toverflow-y: auto;\n}\n#SourceEnvironment, #userContent, #viewer .tabs {\n\tborder: solid 1px #676767;\n    margin: 1%;\n\tbackground-color: #f7f7f7;\n}\n.tabContent {\n\tdisplay: none;\n\tbackground-color: white;\n\tborder-top: 1px solid #ddd;\n\toverflow: auto;\n\tpadding-top: 1px;\n}\n#viewer .tabsHeader {\n\theight: calc(1em + 16px);\n}\n#viewer .tabs {\n\theight: 97%;\n}\n#viewer .tabsBody, #viewer .tabContent {\n\theight: calc(98% - 1em + 16px);\n}\n#userContent .tabContent {\n\tpadding: 5px;\n\tmin-height: 200px;\n\tmax-height: 350px;\n}\n.tabContent table {\n\twidth: 100%;\n\tborder-collapse: collapse;\n}\n.tabContent table td, .tabContent table th {\n\tborder: 1px solid #ddd;\n\tpadding: 3px;\n}\n.tabItem {\n\tbackground-color: transparent;\n\tborder: 0;\n\tmargin: 5px 0 -1px 5px;\n\tpadding: 5px 10px;\n\tborder: 1px solid #ddd;\n\tborder-bottom: 0;\n\tborder-radius: 5px 5px 0 0;\n\twhite-space: nowrap;\n\tcolor: #666;\n}\n.tabItem:focus {\n\toutline: none;\n}\ndiv.tabActive {\n\tdisplay: block;\n}\nbutton.tabActive {\n\tbackground-color: white;\n\tcolor: black;\n}\nh3 {\n\tmargin: 0;\n\tpadding: 0;\n}\nfooter {\n\ttext-align: center;\n}\n#openeoLogo {\n\theight: 60px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/Editor.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"container\"}},[_c('div',{attrs:{\"id\":\"ide\"}},[_c('BackendPanel',{attrs:{\"openEO\":_vm.openEO}}),_c('SourceEnvironment',{attrs:{\"openEO\":_vm.openEO}}),_c('div',{staticClass:\"tabs\",attrs:{\"id\":\"userContent\"}},[_c('div',{staticClass:\"tabsHeader\"},[_c('button',{staticClass:\"tabItem\",attrs:{\"name\":\"jobsTab\"},on:{\"click\":_vm.changeUserTab}},[_c('i',{staticClass:\"fas fa-tasks\"}),_vm._v(\" Jobs\")]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(this.openEO.Capabilities.createService()),expression:\"this.openEO.Capabilities.createService()\"}],staticClass:\"tabItem\",attrs:{\"name\":\"servicesTab\"},on:{\"click\":_vm.changeUserTab}},[_c('i',{staticClass:\"fas fa-cloud\"}),_vm._v(\" Services\")]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(this.openEO.Capabilities.userProcessGraphs()),expression:\"this.openEO.Capabilities.userProcessGraphs()\"}],staticClass:\"tabItem\",attrs:{\"name\":\"processGraphsTab\"},on:{\"click\":_vm.changeUserTab}},[_c('i',{staticClass:\"fas fa-code-branch\"}),_vm._v(\" Process Graphs\")]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(this.openEO.Capabilities.userFiles()),expression:\"this.openEO.Capabilities.userFiles()\"}],staticClass:\"tabItem\",attrs:{\"name\":\"filesTab\"},on:{\"click\":_vm.changeUserTab}},[_c('i',{staticClass:\"fas fa-file\"}),_vm._v(\" Files\")]),_c('button',{staticClass:\"tabItem\",attrs:{\"name\":\"accountTab\"},on:{\"click\":_vm.changeUserTab}},[_c('i',{staticClass:\"fas fa-user\"}),_vm._v(\" Account\")])]),_c('div',{staticClass:\"tabsBody\"},[_c('div',{staticClass:\"tabContent\",attrs:{\"id\":\"jobsTab\"}},[_c('JobPanel',{attrs:{\"userId\":_vm.openEO.Auth.userId,\"openEO\":_vm.openEO}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(this.openEO.Capabilities.createService()),expression:\"this.openEO.Capabilities.createService()\"}],staticClass:\"tabContent\",attrs:{\"id\":\"servicesTab\"}},[_c('ServicePanel',{ref:\"servicePanel\",attrs:{\"userId\":_vm.openEO.Auth.userId,\"openEO\":_vm.openEO}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(this.openEO.Capabilities.userProcessGraphs()),expression:\"this.openEO.Capabilities.userProcessGraphs()\"}],staticClass:\"tabContent\",attrs:{\"id\":\"processGraphsTab\"}},[_c('ProcessGraphPanel',{attrs:{\"userId\":_vm.openEO.Auth.userId,\"openEO\":_vm.openEO}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(this.openEO.Capabilities.userFiles()),expression:\"this.openEO.Capabilities.userFiles()\"}],staticClass:\"tabContent\",attrs:{\"id\":\"filesTab\"}},[_c('FilePanel',{attrs:{\"userId\":_vm.openEO.Auth.userId,\"openEO\":_vm.openEO}})],1),_c('div',{staticClass:\"tabContent\",attrs:{\"id\":\"accountTab\"}},[_c('AccountPanel',{attrs:{\"userId\":_vm.openEO.Auth.userId,\"openEO\":_vm.openEO}})],1)])]),_vm._m(0)],1),_c('div',{attrs:{\"id\":\"viewer\"}},[_c('div',{staticClass:\"tabs\"},[_c('div',{staticClass:\"tabsHeader\"},[_c('button',{staticClass:\"tabItem tabActive\",attrs:{\"name\":\"mapTab\"},on:{\"click\":_vm.changeViewerTab}},[_c('i',{staticClass:\"fas fa-map\"}),_vm._v(\" Map\")]),_c('button',{staticClass:\"tabItem\",attrs:{\"name\":\"imageTab\"},on:{\"click\":_vm.changeViewerTab}},[_c('i',{staticClass:\"fas fa-image\"}),_vm._v(\" Images\")]),_c('button',{staticClass:\"tabItem\",attrs:{\"name\":\"dataTab\"},on:{\"click\":_vm.changeViewerTab}},[_c('i',{staticClass:\"fas fa-database\"}),_vm._v(\" Data\")])]),_c('div',{staticClass:\"tabsBody\"},[_c('div',{staticClass:\"tabContent tabActive\",attrs:{\"id\":\"mapTab\"}},[_c('MapViewer',{ref:\"mapViewer\"})],1),_c('div',{staticClass:\"tabContent\",attrs:{\"id\":\"imageTab\"}},[_c('ImageViewer',{ref:\"imageViewer\"})],1),_c('div',{staticClass:\"tabContent\",attrs:{\"id\":\"dataTab\"}},[_c('DataViewer',{ref:\"dataViewer\"})],1)])])]),_c('vue-snotify'),_c('Modal')],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('footer',[_c('a',{attrs:{\"href\":\"http://www.openeo.org\",\"target\":\"_blank\"}},[_c('img',{attrs:{\"src\":require(\"./assets/logo.png\"),\"id\":\"openeoLogo\"}})])])}]\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1b84a40c\",\"hasScoped\":false,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/Editor.vue\n// module id = null\n// module chunks = ","function injectStyle (context) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":false,\\\"minimize\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"scoped\\\":false,\\\"sourceMap\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./Editor.vue\")\n}\n/* script */\nexport * from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/home/travis/build/Open-EO/openeo-web-editor/node_modules/.cache/cache-loader\\\"}!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./Editor.vue\"\nimport __vue_script__ from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/home/travis/build/Open-EO/openeo-web-editor/node_modules/.cache/cache-loader\\\"}!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./Editor.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1b84a40c\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./Editor.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/Editor.vue\n// module id = null\n// module chunks = ","export default {\n\terror(vm, message, title = null) {\n\t\tvm.$snotify.error(message, title);\n\t},\n\tinfo(vm, message, title = null) {\n\t\tvm.$snotify.info(message, title);\n\t},\n\tok(vm, message, title = null) {\n\t\tvm.$snotify.success(message, title);\n\t},\n\n\tdownloadData: (function () {\n\t\tvar a = document.createElement(\"a\");\n\t\tdocument.body.appendChild(a);\n\t\ta.style = \"display: none\";\n\t\treturn function (data, fileName, type) {\n\t\t\tvar blob;\n\t\t\tif (data instanceof Blob) {\n\t\t\t\tblob = data;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (!type) {\n\t\t\t\t\ttype = 'application/octet-stream';\n\t\t\t\t}\n\t\t\t\tblob = new Blob([data], {type: type});\n\t\t\t}\n\t\t\tif (!fileName) {\n\t\t\t\tfileName = 'unnamed-file';\n\t\t\t}\n\t\t\tvar url = window.URL.createObjectURL(blob);\n\t\t\ta.href = url;\n\t\t\ta.download = fileName;\n\t\t\ta.click();\n\t\t\twindow.URL.revokeObjectURL(url);\n\t\t};\n\t}()),\n\n\tisNumeric(n) {\n\t\treturn !isNaN(parseFloat(n)) && isFinite(n);\n\t},\n\n\trecolorImage(canvas, script) {\n\t\tif (!canvas.originalImage || !script.Visualization || !script.Visualization.function) {\n\t\t\treturn;\n\t\t}\n\t\t\n\t\ttry {\n\t\t\tconst ctx = canvas.getContext('2d');\n\t\t\tconst tgtData = ctx.getImageData(0, 0, canvas.width, canvas.height);\n\t\t\tfor (var i = 0; i < tgtData.data.length; i += 4) {\n\t\t\t\tconst input = canvas.originalImage.data.slice(i, i + 4);\n\t\t\t\tconst es = script.Visualization.function(input, script.Visualization.args);\n\t\t\t\ttgtData.data.set(es, i);\n\t\t\t}\n\t\t\tctx.putImageData(tgtData, 0, 0);\n\t\t} catch(e) {\n\t\t\tconsole.log(e);\n\t\t}\n\t}\n\n};\n\n\n// WEBPACK FOOTER //\n// ./src/utils.js","import Vue from 'vue';\nimport Config from './config.js';\nimport Editor from './Editor.vue';\nimport 'fontawesome-web/css/fontawesome-all.css'\nimport Snotify from 'vue-snotify';\nimport 'vue-snotify/styles/simple.css';\nimport utils from './utils.js';\n\nVue.use(Snotify, {\n\ttoast: {\n\t\ttimeout: 5000\n\t}\n});\n\nVue.prototype.$config = Config;\nVue.prototype.$utils = utils;\n\nVue.config.productionTip = false;\nVue.config.errorHandler = function (err, vm, info) {\n\tutils.error(vm, err.message);\n\tconsole.log(err);\n};\n\nwindow.App = new Vue({\n\trender: h => h(Editor)\n}).$mount('#app');\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","import Vue from 'vue';\n\n/*\n# Events\n\n## changeServerUrl(string $url)\nFired when the server URL has been changed in the front-end and needs to update the model.\n\n## serverChanged()\nThe server has changed and the UI should be updated.\n\n## addToSource(string $code)\nAdds the code to the source code editor.\n\n## viewWebService(object $service)\nShows a web service on the map.\n\n## evalScript(callback $callback)\nTriggers the script currently in the editor to be evaluated runs the callback using the data from the evaluation.\n\n## jobCreated(object $data)\nTriggered when a job was created successfully.\n\n## serviceCreated(object $data)\nTriggered when a service was created successfully.\n\n## showModal(string $title, string $contents)\nShows a modal with the specified title and contents.\nIf $content is a string, it is treated as raw text, so HTML in it will NOT be rendered.\nIf $content object is an object, it is rendered as a more readable list via the ObjectTree component.\nThe last case is a shorthand for showComponentModal($title, 'ObjectTree', {data: $data})\n\n## showComponentModal(string $title, string $compname, object $props)\nShows a modal with the specified title and an instance of the $compname component.\nThe component can be supplied with props by passing them as an object with the props' names as the keys and the props' contents as the values, e.g. {propname1: 'content', propname2: {foo: 'bar'}}\nThe component to be used must be known (i.e. imported and declared) in the Modal component.\n\n## showInViewer(Blob $blob, object $script, object $output_args)\nShows the data with the specified content type in the appropriate area of the viewer.\nThe script can be specified if any visualization should be applied.\nAlso to enhance viewing experience the \"original\" output format arguments can be given.\n\n## showMapViewer()\nShows the map in the viewer area.\n\n## showImageViewer()\nShows the image panel in the viewer area.\n\n## showMapDataViewer()\nShows the data panel in the viewer area.\n\n*/\nexport default new Vue();\n\n\n// WEBPACK FOOTER //\n// ./src/eventbus.js","<template>\n\t<div id=\"SourceEnvironment\">\n\t\t<div class=\"sourceHeader\">\n\t\t\t<h3>Script: <em id=\"scriptName\">{{ scriptName }}</em></h3>\n\t\t\t<div class=\"sourceToolbar\">\n\t\t\t\t<button @click=\"executeScript\" title=\"Run current script and view results\" v-if=\"openEO.Capabilities.executeJob()\" class=\"executeScript\"><i class=\"fas fa-play\"></i></button>\n\t\t\t\t<button @click=\"newScript\" title=\"Clear current script / New script\"><i class=\"fas fa-file\"></i></button>\n\t\t\t\t<button @click=\"loadScript\" title=\"Load script from local storage\"><i class=\"fas fa-folder-open\"></i></button>\n\t\t\t\t<button @click=\"saveScript\" title=\"Save script to local storage\"><i class=\"fas fa-save\"></i></button>\n\t\t\t\t<button @click=\"downloadScript\" title=\"Download script\"><i class=\"fas fa-download\"></i></button>\n\t\t\t</div>\n\t\t</div>\n\t\t<div id=\"sourceCodeEditor\"></div>\n\t</div>\n</template>\n\n<script>\nimport EventBus from '../eventbus.js';\n\nimport 'codemirror/lib/codemirror.css';\nimport 'codemirror/mode/javascript/javascript.js';\nimport CodeMirror from 'codemirror';\n\nexport default {\n\tname: 'SourceEnvironment',\n\tprops: ['openEO'],\n\tdata() {\n\t\treturn {\n\t\t\tscriptName: '',\n\t\t\teditorOptions: {\n\t\t\t\tmode: 'javascript',\n\t\t\t\tindentUnit: 4,\n\t\t\t\tlineNumbers: true\n\t\t\t},\n\t\t\teditor: null,\n\t\t\tdefaultScript: this.$config.defaultScript\n\t\t}\n\t},\n\tmounted() {\n\t\tthis.editor = CodeMirror(document.getElementById('sourceCodeEditor'), this.editorOptions);\n\t\tthis.editor.setValue(this.defaultScript);\n\t\tEventBus.$on('addToSource', this.insertToEditor);\n\t\tEventBus.$on('evalScript', this.evalScript);\n\t},\n\tmethods: {\n\t\tevalScript(callback) {\n\t\t\tvar OpenEO = this.openEO;\n\t\t\tOpenEO.Editor = {\n\t\t\t\tProcessGraph: {},\n\t\t\t\tVisualization: {\n\t\t\t\t\tfunction: undefined, // Don't use null, typeof null is object in JS.\n\t\t\t\t\targs: {}\n\t\t\t\t}\n\t\t\t};\n\t\t\tvar script = this.editor.getSelection();\n\t\t\tif (!script) {\n\t\t\t\tscript = this.editor.getValue();\n\t\t\t}\n\t\t\tif (script) {\n\t\t\t\teval(script);\n\t\t\t}\n\n\t\t\tOpenEO.Editor.Visualization.args = OpenEO.Editor.Visualization.args || {};\n\t\t\t// Modify visualization when user specified a pre-defined visualization\n\t\t\tif (typeof OpenEO.Editor.Visualization.function === 'object') {\n\t\t\t\tvar vis = OpenEO.Editor.Visualization.function;\n\t\t\t\tOpenEO.Editor.Visualization.function = vis.callback;\n\t\t\t\t// Set default arguments when not given by user\n\t\t\t\tif (typeof vis.arguments !== 'undefined') {\n\t\t\t\t\tfor(var key in vis.arguments) {\n\t\t\t\t\t\tif (typeof OpenEO.Editor.Visualization.args[key] === 'undefined') {\n\t\t\t\t\t\t\tOpenEO.Editor.Visualization.args[key] = vis.arguments[key].defaultValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tcallback(OpenEO.Editor);\n\t\t},\n\n\t\tclearEditor() {\n\t\t\tthis.editor.setValue('');\n\t\t\tthis.scriptName = '';\n\t\t},\n\n\t\tstorageName(name) {\n\t\t\treturn \"script.\" + name.replace('.', '_');\n\t\t},\n\n\t\texecuteScript() {\n\t\t\tvar format = prompt('Please specify the file format:', '');\n\t\t\tif (format === null) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.$utils.info(this, 'Data requested. Please wait...');\n\t\t\tEventBus.$emit('evalScript', (script) => {\n\t\t\t\tvar output = {format: format};\n\t\t\t\tscript.ProcessGraph.execute(output)\n\t\t\t\t\t.then(data => {\n\t\t\t\t\t\tEventBus.$emit('showInViewer', data, script, output);\n\t\t\t\t\t})\n\t\t\t\t\t.catch(error => {\n\t\t\t\t\t\tthis.$utils.error(this, 'Sorry, could not execute script.');\n\t\t\t\t\t});\n\t\t\t});\n\t\t},\n\n\t\tnewScript() {\n\t\t\tvar confirmed = confirm(\"Do you really want to clear the existing script to create a new one?\");\n\t\t\tif (confirmed) {\n\t\t\t\tthis.clearEditor();\n\t\t\t}\n\t\t},\n\t\t\n\t\tloadScript() {\n\t\t\tvar name = prompt(\"Name of the script to load:\");\n\t\t\tif (!name) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar code = localStorage.getItem(this.storageName(name));\n\t\t\tif (code) {\n\t\t\t\tthis.editor.setValue(code);\n\t\t\t\tthis.scriptName = name;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.$utils.info(this, 'No script with the name \"' + name + '\" found.');\n\t\t\t}\n\t\t},\n\t\t\n\t\tsaveScript() {\n\t\t\tvar name = prompt(\"Name for the script:\", this.scriptName);\n\t\t\tif (!name) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlocalStorage.setItem(this.storageName(name), this.editor.getValue());\n\t\t\tthis.scriptName = name;\n\t\t},\n\t\t\n\t\tdownloadScript() {\n\t\t\tvar name = this.scriptName;\n\t\t\tif (!name) {\n\t\t\t\tname = \"openeo-script\";\n\t\t\t}\n\t\t\tthis.$utils.downloadData(this.editor.getValue(), name + \".js\", \"text/javascript\");\n\t\t},\n\n\t\tinsertToEditor(text) {\n\t\t\tthis.editor.replaceSelection(text);\n\t\t}\n\n\t}\n}\n</script>\n\n<style scoped>\n.executeScript {\n\tmargin-right: 3%;\n}\n.sourceHeader h3 {\n\tmargin-top: 1px;\n\tfloat: left;\n\twidth: 70%;\n}\n.sourceToolbar {\n\ttext-align: right;\n\tfloat: right;\n\twidth: 30%;\n}\n.sourceHeader {\n\tpadding: 5px;\n}\n.sourceHeader:after {\n    content: \".\";\n    clear: both;\n    display: block;\n    visibility: hidden;\n    height: 0px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/SourceEnvironment.vue"],"sourceRoot":""}